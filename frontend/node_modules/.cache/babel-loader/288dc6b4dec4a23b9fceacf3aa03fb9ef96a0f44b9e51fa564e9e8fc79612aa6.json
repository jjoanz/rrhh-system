{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../../../context/AuthContext';import{useApp}from'../../../context/AppContext';import{Clock,MapPin,Camera,Calendar,DollarSign,Settings,FileText,CheckCircle,XCircle,AlertCircle,Download,Edit,Save,Plus,Trash2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AsistenciaModule=()=>{const{user}=useAuth();const{showSuccessMessage,showErrorMessage}=useApp();const[activeTab,setActiveTab]=useState('asistencia');const[loading,setLoading]=useState(false);// Estados principales\nconst[isCheckedIn,setIsCheckedIn]=useState(false);const[currentSession,setCurrentSession]=useState(null);const[ubicacionActual,setUbicacionActual]=useState(null);// Configuración de horas extras (solo admin/gerente_rrhh)\nconst[configHorasExtras,setConfigHorasExtras]=useState({horarioBase:{entrada:'08:00',salida:'17:00',horasPorDia:8,diasPorSemana:5,almuerzo:60// minutos\n},tiposHorasExtras:[{id:1,nombre:'Horas Extras Normales',descripcion:'Primeras 2 horas después del horario base',multiplicador:1.25,limite:2,activo:true,color:'#f59e0b'},{id:2,nombre:'Horas Sobre Extras',descripcion:'Después de las 2 primeras horas extras',multiplicador:1.5,limite:4,activo:true,color:'#ef4444'},{id:3,nombre:'Horas Nocturnas',descripcion:'Entre 22:00 y 06:00',multiplicador:1.35,limite:8,activo:true,color:'#8b5cf6'},{id:4,nombre:'Horas Festivas',descripcion:'Días festivos y domingos',multiplicador:2.0,limite:8,activo:true,color:'#10b981'}],salarioBase:15.00// por hora\n});// Historial de asistencia\nconst[historialAsistencia,setHistorialAsistencia]=useState([{id:1,fecha:'2024-07-19',entrada:'07:45',salida:'19:30',horasNormales:8,horasExtras:{normales:2,sobreExtras:1.5,nocturnas:0,festivas:0},ubicacion:'Oficina Central - Santo Domingo Este',notas:'Proyecto urgente - aprobado por gerencia',estado:'completo'},{id:2,fecha:'2024-07-18',entrada:'08:00',salida:'17:00',horasNormales:8,horasExtras:{normales:0,sobreExtras:0,nocturnas:0,festivas:0},ubicacion:'Oficina Central - Santo Domingo Este',notas:'',estado:'completo'},{id:3,fecha:'2024-07-17',entrada:'08:15',salida:'20:45',horasNormales:8,horasExtras:{normales:2,sobreExtras:2.5,nocturnas:0.75,festivas:0},ubicacion:'Oficina Central - Santo Domingo Este',notas:'Cierre mensual - autorizado',estado:'completo'}]);// Estados para configuración\nconst[editandoConfig,setEditandoConfig]=useState(false);const[nuevoTipoHora,setNuevoTipoHora]=useState({nombre:'',descripcion:'',multiplicador:1.0,limite:0,activo:true,color:'#3b82f6'});// Simular geolocalización\nuseEffect(()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(position=>{setUbicacionActual({lat:position.coords.latitude,lng:position.coords.longitude,direccion:'Oficina Central - Santo Domingo Este, DO'});},()=>{setUbicacionActual({lat:18.4861,lng:-69.9312,direccion:'Oficina Central - Santo Domingo Este, DO'});});}},[]);// Verificar permisos de configuración\nconst puedeConfigurar=['admin','gerente_rrhh','director_rrhh'].includes(user.role);// Calcular horas trabajadas\nconst calcularHoras=(entrada,salida)=>{const inicio=new Date(`2024-01-01 ${entrada}`);const fin=new Date(`2024-01-01 ${salida}`);if(fin<inicio){fin.setDate(fin.getDate()+1);// Salida al día siguiente\n}const diff=fin-inicio;return diff/(1000*60*60);// Convertir a horas\n};// Calcular horas extras según configuración\nconst calcularHorasExtras=function(horasTotales){let esFestivo=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let esNocturno=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const horasBase=configHorasExtras.horarioBase.horasPorDia;const horasExtrasTotal=Math.max(0,horasTotales-horasBase);let resultado={normales:0,sobreExtras:0,nocturnas:0,festivas:0};if(esFestivo){resultado.festivas=Math.min(horasExtrasTotal,configHorasExtras.tiposHorasExtras[3].limite);return resultado;}if(esNocturno){resultado.nocturnas=Math.min(horasExtrasTotal,configHorasExtras.tiposHorasExtras[2].limite);return resultado;}// Horas extras normales (primeras 2 horas)\nconst limitNormales=configHorasExtras.tiposHorasExtras[0].limite;resultado.normales=Math.min(horasExtrasTotal,limitNormales);// Horas sobre extras (después de las normales)\nif(horasExtrasTotal>limitNormales){const limitSobreExtras=configHorasExtras.tiposHorasExtras[1].limite;resultado.sobreExtras=Math.min(horasExtrasTotal-limitNormales,limitSobreExtras);}return resultado;};// Calcular pago total\nconst calcularPago=registro=>{const salarioBase=configHorasExtras.salarioBase;let pagoTotal=registro.horasNormales*salarioBase;// Sumar horas extras\nconfigHorasExtras.tiposHorasExtras.forEach((tipo,index)=>{const tipoKeys=['normales','sobreExtras','nocturnas','festivas'];const horas=registro.horasExtras[tipoKeys[index]]||0;pagoTotal+=horas*salarioBase*tipo.multiplicador;});return pagoTotal;};// Manejar check-in/check-out\nconst handleCheckIn=async()=>{setLoading(true);// Simular selfie\nawait new Promise(resolve=>setTimeout(resolve,1500));const ahora=new Date();const nuevaSession={id:Date.now(),fecha:ahora.toISOString().split('T')[0],entrada:ahora.toTimeString().slice(0,5),ubicacion:(ubicacionActual===null||ubicacionActual===void 0?void 0:ubicacionActual.direccion)||'Ubicación no disponible'};setCurrentSession(nuevaSession);setIsCheckedIn(true);setLoading(false);showSuccessMessage('✅ Check-in registrado correctamente');};const handleCheckOut=async()=>{if(!currentSession)return;setLoading(true);// Simular selfie de salida\nawait new Promise(resolve=>setTimeout(resolve,1500));const ahora=new Date();const salida=ahora.toTimeString().slice(0,5);const horasTotales=calcularHoras(currentSession.entrada,salida);const horasNormales=Math.min(horasTotales,configHorasExtras.horarioBase.horasPorDia);const horasExtrasCalculadas=calcularHorasExtras(horasTotales);const registroCompleto={...currentSession,salida,horasNormales,horasExtras:horasExtrasCalculadas,notas:'',estado:'completo'};setHistorialAsistencia(prev=>[registroCompleto,...prev]);setCurrentSession(null);setIsCheckedIn(false);setLoading(false);showSuccessMessage(`✅ Check-out registrado. Horas trabajadas: ${horasTotales.toFixed(2)}`);};// Agregar nuevo tipo de hora extra\nconst agregarTipoHora=()=>{if(!nuevoTipoHora.nombre.trim()){showErrorMessage('El nombre es requerido');return;}const nuevoTipo={...nuevoTipoHora,id:Date.now()};setConfigHorasExtras(prev=>({...prev,tiposHorasExtras:[...prev.tiposHorasExtras,nuevoTipo]}));setNuevoTipoHora({nombre:'',descripcion:'',multiplicador:1.0,limite:0,activo:true,color:'#3b82f6'});showSuccessMessage('Tipo de hora extra agregado');};// Eliminar tipo de hora extra\nconst eliminarTipoHora=id=>{setConfigHorasExtras(prev=>({...prev,tiposHorasExtras:prev.tiposHorasExtras.filter(tipo=>tipo.id!==id)}));showSuccessMessage('Tipo de hora extra eliminado');};// Exportar reporte\nconst exportarReporte=()=>{const datos={periodo:'Julio 2024',empleado:user.name,registros:historialAsistencia,configuracion:configHorasExtras};console.log('Exportando reporte:',datos);showSuccessMessage('Reporte exportado (simulado)');};return/*#__PURE__*/_jsx(\"div\",{style:{padding:'1.5rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'112rem',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#fefeffff',marginBottom:'0.5rem'},children:\"Sistema de Asistencia y Horas Extras\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#ffffffff',fontSize:'1.125rem',marginBottom:'2rem'},children:\"Control completo de asistencia con c\\xE1lculo autom\\xE1tico de horas extras parametrizables\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(15rem, 1fr))',gap:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Estado Actual\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'2rem',fontWeight:'bold',color:isCheckedIn?'#10b981':'#6b7280',margin:0},children:isCheckedIn?'Activo':'Inactivo'}),currentSession&&/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',marginTop:'0.5rem'},children:[\"Desde: \",currentSession.entrada]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Horas Esta Semana\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#3b82f6',margin:0},children:[historialAsistencia.reduce((total,reg)=>total+reg.horasNormales,0),\" hrs\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Horas Extras\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#f59e0b',margin:0},children:[historialAsistencia.reduce((total,reg)=>total+Object.values(reg.horasExtras).reduce((a,b)=>a+b,0),0).toFixed(1),\" hrs\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Pago Estimado\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#10b981',margin:0},children:[\"$\",historialAsistencia.reduce((total,reg)=>total+calcularPago(reg),0).toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('asistencia'),style:{flex:1,padding:'1rem',border:'none',background:activeTab==='asistencia'?'#f8fafc':'transparent',color:activeTab==='asistencia'?'#3b82f6':'#6b7280',fontWeight:activeTab==='asistencia'?'600':'500',cursor:'pointer'},children:\"Check-in / Check-out\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('historial'),style:{flex:1,padding:'1rem',border:'none',background:activeTab==='historial'?'#f8fafc':'transparent',color:activeTab==='historial'?'#3b82f6':'#6b7280',fontWeight:activeTab==='historial'?'600':'500',cursor:'pointer'},children:\"Historial\"}),puedeConfigurar&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('configuracion'),style:{flex:1,padding:'1rem',border:'none',background:activeTab==='configuracion'?'#f8fafc':'transparent',color:activeTab==='configuracion'?'#3b82f6':'#6b7280',fontWeight:activeTab==='configuracion'?'600':'500',cursor:'pointer'},children:\"Configuraci\\xF3n HH.EE.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('reportes'),style:{flex:1,padding:'1rem',border:'none',background:activeTab==='reportes'?'#f8fafc':'transparent',color:activeTab==='reportes'?'#3b82f6':'#6b7280',fontWeight:activeTab==='reportes'?'600':'500',cursor:'pointer'},children:\"Reportes\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem'},children:[activeTab==='asistencia'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1.5rem'},children:\"Control de Asistencia\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8fafc',border:'1px solid #e2e8f0',borderRadius:'0.5rem',padding:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(MapPin,{style:{width:'1.25rem',height:'1.25rem',color:'#3b82f6'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1rem',fontWeight:'600',color:'#111827',margin:0},children:\"Ubicaci\\xF3n Actual\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0},children:(ubicacionActual===null||ubicacionActual===void 0?void 0:ubicacionActual.direccion)||'Obteniendo ubicación...'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(Clock,{style:{width:'1.25rem',height:'1.25rem',color:'#10b981'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1rem',fontWeight:'600',color:'#111827',margin:0},children:\"Hora Actual\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0},children:new Date().toLocaleString('es-DO')})]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'1rem',justifyContent:'center'},children:!isCheckedIn?/*#__PURE__*/_jsxs(\"button\",{onClick:handleCheckIn,disabled:loading,style:{display:'flex',alignItems:'center',gap:'0.75rem',padding:'1rem 2rem',background:loading?'#9ca3af':'#10b981',color:'white',border:'none',borderRadius:'0.5rem',fontSize:'1.125rem',fontWeight:'600',cursor:loading?'not-allowed':'pointer',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(Camera,{style:{width:'1.5rem',height:'1.5rem'}}),loading?'Procesando...':'Check-in']}):/*#__PURE__*/_jsxs(\"button\",{onClick:handleCheckOut,disabled:loading,style:{display:'flex',alignItems:'center',gap:'0.75rem',padding:'1rem 2rem',background:loading?'#9ca3af':'#ef4444',color:'white',border:'none',borderRadius:'0.5rem',fontSize:'1.125rem',fontWeight:'600',cursor:loading?'not-allowed':'pointer',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(Camera,{style:{width:'1.5rem',height:'1.5rem'}}),loading?'Procesando...':'Check-out']})}),loading&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1.5rem',textAlign:'center',background:'#eff6ff',border:'1px solid #bfdbfe',borderRadius:'0.5rem',padding:'1rem'},children:[/*#__PURE__*/_jsx(Camera,{style:{width:'2rem',height:'2rem',color:'#3b82f6',margin:'0 auto 0.5rem'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#1d4ed8',margin:0},children:\"Capturando selfie para verificaci\\xF3n...\"})]})]}),activeTab==='historial'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1.5rem'},children:\"Historial de Asistencia\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:historialAsistencia.map(registro=>/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'0.5rem',padding:'1.5rem',background:'#fafafa'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',margin:0,marginBottom:'0.5rem'},children:new Date(registro.fecha).toLocaleDateString('es-DO',{weekday:'long',year:'numeric',month:'long',day:'numeric'})}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0},children:registro.ubicacion})]}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.75rem',borderRadius:'9999px',fontSize:'0.75rem',fontWeight:'500',background:registro.estado==='completo'?'#f0fdf4':'#fff7ed',color:registro.estado==='completo'?'#166534':'#ea580c',border:registro.estado==='completo'?'1px solid #bbf7d0':'1px solid #fed7aa'},children:registro.estado==='completo'?'✅ Completo':'⏳ En progreso'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(10rem, 1fr))',gap:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"ENTRADA\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#111827',margin:0},children:registro.entrada})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"SALIDA\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#111827',margin:0},children:registro.salida||'En progreso'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"HORAS NORMALES\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#111827',margin:0},children:[registro.horasNormales.toFixed(1),\" hrs\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"PAGO ESTIMADO\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#10b981',margin:0},children:[\"$\",calcularPago(registro).toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f0f9ff',border:'1px solid #bae6fd',borderRadius:'0.375rem',padding:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#0369a1',margin:0,marginBottom:'0.75rem'},children:\"Desglose de Horas Extras\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(8rem, 1fr))',gap:'0.75rem'},children:configHorasExtras.tiposHorasExtras.map((tipo,index)=>{const tipoKeys=['normales','sobreExtras','nocturnas','festivas'];const horas=registro.horasExtras[tipoKeys[index]]||0;return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.625rem',color:'#0369a1',margin:0,marginBottom:'0.25rem'},children:tipo.nombre.toUpperCase()}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'1rem',fontWeight:'bold',color:tipo.color,margin:0},children:[horas.toFixed(1),\"h\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.625rem',color:'#6b7280',margin:0},children:[\"x\",tipo.multiplicador]})]},tipo.id);})})]}),registro.notas&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"NOTAS\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#111827',margin:0},children:registro.notas})]})]},registro.id))})]}),activeTab==='configuracion'&&puedeConfigurar&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1.5rem'},children:\"Configuraci\\xF3n de Horas Extras\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8fafc',border:'1px solid #e2e8f0',borderRadius:'0.5rem',padding:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Configuraci\\xF3n Base\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(10rem, 1fr))',gap:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',fontWeight:'500',color:'#374151',marginBottom:'0.25rem'},children:\"Hora de Entrada\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:configHorasExtras.horarioBase.entrada,onChange:e=>setConfigHorasExtras(prev=>({...prev,horarioBase:{...prev.horarioBase,entrada:e.target.value}})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',fontWeight:'500',color:'#374151',marginBottom:'0.25rem'},children:\"Hora de Salida\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:configHorasExtras.horarioBase.salida,onChange:e=>setConfigHorasExtras(prev=>({...prev,horarioBase:{...prev.horarioBase,salida:e.target.value}})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',fontWeight:'500',color:'#374151',marginBottom:'0.25rem'},children:\"Horas por D\\xEDa\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:configHorasExtras.horarioBase.horasPorDia,onChange:e=>setConfigHorasExtras(prev=>({...prev,horarioBase:{...prev.horarioBase,horasPorDia:parseInt(e.target.value)}})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',fontWeight:'500',color:'#374151',marginBottom:'0.25rem'},children:\"Salario Base ($/hora)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:configHorasExtras.salarioBase,onChange:e=>setConfigHorasExtras(prev=>({...prev,salarioBase:parseFloat(e.target.value)})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fefcbf',border:'1px solid #fcd34d',borderRadius:'0.5rem',padding:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1rem',fontWeight:'600',color:'#92400e',marginBottom:'1rem'},children:\"Tipos de Horas Extras Configurados\"}),configHorasExtras.tiposHorasExtras.map(tipo=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e5e7eb',borderRadius:'0.375rem',padding:'1rem',marginBottom:'1rem',display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'1rem',height:'1rem',borderRadius:'50%',background:tipo.color}}),/*#__PURE__*/_jsx(\"h5\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#111827',margin:0},children:tipo.nombre}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.125rem 0.5rem',borderRadius:'9999px',fontSize:'0.625rem',fontWeight:'500',background:tipo.activo?'#f0fdf4':'#fef2f2',color:tipo.activo?'#166534':'#dc2626'},children:tipo.activo?'Activo':'Inactivo'})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.5rem'},children:tipo.descripcion}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',fontSize:'0.75rem',color:'#374151'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Multiplicador:\"}),\" x\",tipo.multiplicador]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"L\\xEDmite:\"}),\" \",tipo.limite,\" horas\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>eliminarTipoHora(tipo.id),style:{padding:'0.5rem',background:'#fef2f2',color:'#dc2626',border:'1px solid #fecaca',borderRadius:'0.375rem',cursor:'pointer'},children:/*#__PURE__*/_jsx(Trash2,{style:{width:'1rem',height:'1rem'}})})]},tipo.id)),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f0f9ff',border:'1px solid #bae6fd',borderRadius:'0.375rem',padding:'1rem'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#0369a1',marginBottom:'1rem'},children:\"Agregar Nuevo Tipo de Hora Extra\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',fontWeight:'500',color:'#374151',marginBottom:'0.25rem'},children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nuevoTipoHora.nombre,onChange:e=>setNuevoTipoHora(prev=>({...prev,nombre:e.target.value})),placeholder:\"Ej: Horas Dominicales\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',fontWeight:'500',color:'#374151',marginBottom:'0.25rem'},children:\"Multiplicador\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.25\",value:nuevoTipoHora.multiplicador,onChange:e=>setNuevoTipoHora(prev=>({...prev,multiplicador:parseFloat(e.target.value)})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',fontWeight:'500',color:'#374151',marginBottom:'0.25rem'},children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nuevoTipoHora.descripcion,onChange:e=>setNuevoTipoHora(prev=>({...prev,descripcion:e.target.value})),placeholder:\"Descripci\\xF3n del tipo de hora extra\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:agregarTipoHora,style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#3b82f6',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Plus,{style:{width:'1rem',height:'1rem'}}),\"Agregar Tipo\"]})]})]})]}),activeTab==='reportes'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1.5rem'},children:\"Reportes y An\\xE1lisis\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'1rem',marginBottom:'2rem'},children:/*#__PURE__*/_jsxs(\"button\",{onClick:exportarReporte,style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.75rem 1.5rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Download,{style:{width:'1rem',height:'1rem'}}),\"Exportar Reporte Excel\"]})}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8fafc',border:'1px solid #e2e8f0',borderRadius:'0.5rem',padding:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Resumen de la Semana\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(12rem, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem',background:'white',borderRadius:'0.375rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#3b82f6',margin:0},children:historialAsistencia.reduce((total,reg)=>total+reg.horasNormales,0)}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0},children:\"Horas Normales\"})]}),configHorasExtras.tiposHorasExtras.map((tipo,index)=>{const tipoKeys=['normales','sobreExtras','nocturnas','festivas'];const totalHoras=historialAsistencia.reduce((total,reg)=>total+(reg.horasExtras[tipoKeys[index]]||0),0);const totalPago=totalHoras*configHorasExtras.salarioBase*tipo.multiplicador;return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem',background:'white',borderRadius:'0.375rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'2rem',fontWeight:'bold',color:tipo.color,margin:0},children:totalHoras.toFixed(1)}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:tipo.nombre}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.75rem',color:'#10b981',margin:0},children:[\"$\",totalPago.toFixed(2)]})]},tipo.id);})]})]})]})]})]})]})});};export default AsistenciaModule;","map":{"version":3,"names":["React","useState","useEffect","useAuth","useApp","Clock","MapPin","Camera","Calendar","DollarSign","Settings","FileText","CheckCircle","XCircle","AlertCircle","Download","Edit","Save","Plus","Trash2","jsx","_jsx","jsxs","_jsxs","AsistenciaModule","user","showSuccessMessage","showErrorMessage","activeTab","setActiveTab","loading","setLoading","isCheckedIn","setIsCheckedIn","currentSession","setCurrentSession","ubicacionActual","setUbicacionActual","configHorasExtras","setConfigHorasExtras","horarioBase","entrada","salida","horasPorDia","diasPorSemana","almuerzo","tiposHorasExtras","id","nombre","descripcion","multiplicador","limite","activo","color","salarioBase","historialAsistencia","setHistorialAsistencia","fecha","horasNormales","horasExtras","normales","sobreExtras","nocturnas","festivas","ubicacion","notas","estado","editandoConfig","setEditandoConfig","nuevoTipoHora","setNuevoTipoHora","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","direccion","puedeConfigurar","includes","role","calcularHoras","inicio","Date","fin","setDate","getDate","diff","calcularHorasExtras","horasTotales","esFestivo","arguments","length","undefined","esNocturno","horasBase","horasExtrasTotal","Math","max","resultado","min","limitNormales","limitSobreExtras","calcularPago","registro","pagoTotal","forEach","tipo","index","tipoKeys","horas","handleCheckIn","Promise","resolve","setTimeout","ahora","nuevaSession","now","toISOString","split","toTimeString","slice","handleCheckOut","horasExtrasCalculadas","registroCompleto","prev","toFixed","agregarTipoHora","trim","nuevoTipo","eliminarTipoHora","filter","exportarReporte","datos","periodo","empleado","name","registros","configuracion","console","log","style","padding","children","maxWidth","margin","fontSize","fontWeight","marginBottom","display","gridTemplateColumns","gap","background","borderRadius","boxShadow","border","marginTop","reduce","total","reg","Object","values","a","b","borderBottom","onClick","flex","cursor","alignItems","width","height","toLocaleString","justifyContent","disabled","textAlign","flexDirection","map","toLocaleDateString","weekday","year","month","day","toUpperCase","type","value","onChange","e","target","parseInt","step","parseFloat","placeholder","totalHoras","totalPago"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/components/modules/asistencia/AsistenciaModule.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../../../context/AuthContext';\r\nimport { useApp } from '../../../context/AppContext';\r\nimport { \r\n  Clock, \r\n  MapPin, \r\n  Camera, \r\n  Calendar, \r\n  DollarSign, \r\n  Settings, \r\n  FileText, \r\n  CheckCircle, \r\n  XCircle, \r\n  AlertCircle,\r\n  Download,\r\n  Edit,\r\n  Save,\r\n  Plus,\r\n  Trash2\r\n} from 'lucide-react';\r\n\r\nconst AsistenciaModule = () => {\r\n  const { user } = useAuth();\r\n  const { showSuccessMessage, showErrorMessage } = useApp();\r\n  const [activeTab, setActiveTab] = useState('asistencia');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Estados principales\r\n  const [isCheckedIn, setIsCheckedIn] = useState(false);\r\n  const [currentSession, setCurrentSession] = useState(null);\r\n  const [ubicacionActual, setUbicacionActual] = useState(null);\r\n\r\n  // Configuración de horas extras (solo admin/gerente_rrhh)\r\n  const [configHorasExtras, setConfigHorasExtras] = useState({\r\n    horarioBase: {\r\n      entrada: '08:00',\r\n      salida: '17:00',\r\n      horasPorDia: 8,\r\n      diasPorSemana: 5,\r\n      almuerzo: 60 // minutos\r\n    },\r\n    tiposHorasExtras: [\r\n      {\r\n        id: 1,\r\n        nombre: 'Horas Extras Normales',\r\n        descripcion: 'Primeras 2 horas después del horario base',\r\n        multiplicador: 1.25,\r\n        limite: 2,\r\n        activo: true,\r\n        color: '#f59e0b'\r\n      },\r\n      {\r\n        id: 2,\r\n        nombre: 'Horas Sobre Extras',\r\n        descripcion: 'Después de las 2 primeras horas extras',\r\n        multiplicador: 1.5,\r\n        limite: 4,\r\n        activo: true,\r\n        color: '#ef4444'\r\n      },\r\n      {\r\n        id: 3,\r\n        nombre: 'Horas Nocturnas',\r\n        descripcion: 'Entre 22:00 y 06:00',\r\n        multiplicador: 1.35,\r\n        limite: 8,\r\n        activo: true,\r\n        color: '#8b5cf6'\r\n      },\r\n      {\r\n        id: 4,\r\n        nombre: 'Horas Festivas',\r\n        descripcion: 'Días festivos y domingos',\r\n        multiplicador: 2.0,\r\n        limite: 8,\r\n        activo: true,\r\n        color: '#10b981'\r\n      }\r\n    ],\r\n    salarioBase: 15.00 // por hora\r\n  });\r\n\r\n  // Historial de asistencia\r\n  const [historialAsistencia, setHistorialAsistencia] = useState([\r\n    {\r\n      id: 1,\r\n      fecha: '2024-07-19',\r\n      entrada: '07:45',\r\n      salida: '19:30',\r\n      horasNormales: 8,\r\n      horasExtras: {\r\n        normales: 2,\r\n        sobreExtras: 1.5,\r\n        nocturnas: 0,\r\n        festivas: 0\r\n      },\r\n      ubicacion: 'Oficina Central - Santo Domingo Este',\r\n      notas: 'Proyecto urgente - aprobado por gerencia',\r\n      estado: 'completo'\r\n    },\r\n    {\r\n      id: 2,\r\n      fecha: '2024-07-18',\r\n      entrada: '08:00',\r\n      salida: '17:00',\r\n      horasNormales: 8,\r\n      horasExtras: {\r\n        normales: 0,\r\n        sobreExtras: 0,\r\n        nocturnas: 0,\r\n        festivas: 0\r\n      },\r\n      ubicacion: 'Oficina Central - Santo Domingo Este',\r\n      notas: '',\r\n      estado: 'completo'\r\n    },\r\n    {\r\n      id: 3,\r\n      fecha: '2024-07-17',\r\n      entrada: '08:15',\r\n      salida: '20:45',\r\n      horasNormales: 8,\r\n      horasExtras: {\r\n        normales: 2,\r\n        sobreExtras: 2.5,\r\n        nocturnas: 0.75,\r\n        festivas: 0\r\n      },\r\n      ubicacion: 'Oficina Central - Santo Domingo Este',\r\n      notas: 'Cierre mensual - autorizado',\r\n      estado: 'completo'\r\n    }\r\n  ]);\r\n\r\n  // Estados para configuración\r\n  const [editandoConfig, setEditandoConfig] = useState(false);\r\n  const [nuevoTipoHora, setNuevoTipoHora] = useState({\r\n    nombre: '',\r\n    descripcion: '',\r\n    multiplicador: 1.0,\r\n    limite: 0,\r\n    activo: true,\r\n    color: '#3b82f6'\r\n  });\r\n\r\n  // Simular geolocalización\r\n  useEffect(() => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          setUbicacionActual({\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude,\r\n            direccion: 'Oficina Central - Santo Domingo Este, DO'\r\n          });\r\n        },\r\n        () => {\r\n          setUbicacionActual({\r\n            lat: 18.4861,\r\n            lng: -69.9312,\r\n            direccion: 'Oficina Central - Santo Domingo Este, DO'\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  // Verificar permisos de configuración\r\n  const puedeConfigurar = ['admin', 'gerente_rrhh', 'director_rrhh'].includes(user.role);\r\n\r\n  // Calcular horas trabajadas\r\n  const calcularHoras = (entrada, salida) => {\r\n    const inicio = new Date(`2024-01-01 ${entrada}`);\r\n    const fin = new Date(`2024-01-01 ${salida}`);\r\n    \r\n    if (fin < inicio) {\r\n      fin.setDate(fin.getDate() + 1); // Salida al día siguiente\r\n    }\r\n    \r\n    const diff = fin - inicio;\r\n    return diff / (1000 * 60 * 60); // Convertir a horas\r\n  };\r\n\r\n  // Calcular horas extras según configuración\r\n  const calcularHorasExtras = (horasTotales, esFestivo = false, esNocturno = false) => {\r\n    const horasBase = configHorasExtras.horarioBase.horasPorDia;\r\n    const horasExtrasTotal = Math.max(0, horasTotales - horasBase);\r\n    \r\n    let resultado = {\r\n      normales: 0,\r\n      sobreExtras: 0,\r\n      nocturnas: 0,\r\n      festivas: 0\r\n    };\r\n\r\n    if (esFestivo) {\r\n      resultado.festivas = Math.min(horasExtrasTotal, configHorasExtras.tiposHorasExtras[3].limite);\r\n      return resultado;\r\n    }\r\n\r\n    if (esNocturno) {\r\n      resultado.nocturnas = Math.min(horasExtrasTotal, configHorasExtras.tiposHorasExtras[2].limite);\r\n      return resultado;\r\n    }\r\n\r\n    // Horas extras normales (primeras 2 horas)\r\n    const limitNormales = configHorasExtras.tiposHorasExtras[0].limite;\r\n    resultado.normales = Math.min(horasExtrasTotal, limitNormales);\r\n\r\n    // Horas sobre extras (después de las normales)\r\n    if (horasExtrasTotal > limitNormales) {\r\n      const limitSobreExtras = configHorasExtras.tiposHorasExtras[1].limite;\r\n      resultado.sobreExtras = Math.min(horasExtrasTotal - limitNormales, limitSobreExtras);\r\n    }\r\n\r\n    return resultado;\r\n  };\r\n\r\n  // Calcular pago total\r\n  const calcularPago = (registro) => {\r\n    const salarioBase = configHorasExtras.salarioBase;\r\n    let pagoTotal = registro.horasNormales * salarioBase;\r\n\r\n    // Sumar horas extras\r\n    configHorasExtras.tiposHorasExtras.forEach((tipo, index) => {\r\n      const tipoKeys = ['normales', 'sobreExtras', 'nocturnas', 'festivas'];\r\n      const horas = registro.horasExtras[tipoKeys[index]] || 0;\r\n      pagoTotal += horas * salarioBase * tipo.multiplicador;\r\n    });\r\n\r\n    return pagoTotal;\r\n  };\r\n\r\n  // Manejar check-in/check-out\r\n  const handleCheckIn = async () => {\r\n    setLoading(true);\r\n    \r\n    // Simular selfie\r\n    await new Promise(resolve => setTimeout(resolve, 1500));\r\n    \r\n    const ahora = new Date();\r\n    const nuevaSession = {\r\n      id: Date.now(),\r\n      fecha: ahora.toISOString().split('T')[0],\r\n      entrada: ahora.toTimeString().slice(0, 5),\r\n      ubicacion: ubicacionActual?.direccion || 'Ubicación no disponible'\r\n    };\r\n    \r\n    setCurrentSession(nuevaSession);\r\n    setIsCheckedIn(true);\r\n    setLoading(false);\r\n    \r\n    showSuccessMessage('✅ Check-in registrado correctamente');\r\n  };\r\n\r\n  const handleCheckOut = async () => {\r\n    if (!currentSession) return;\r\n    \r\n    setLoading(true);\r\n    \r\n    // Simular selfie de salida\r\n    await new Promise(resolve => setTimeout(resolve, 1500));\r\n    \r\n    const ahora = new Date();\r\n    const salida = ahora.toTimeString().slice(0, 5);\r\n    const horasTotales = calcularHoras(currentSession.entrada, salida);\r\n    const horasNormales = Math.min(horasTotales, configHorasExtras.horarioBase.horasPorDia);\r\n    const horasExtrasCalculadas = calcularHorasExtras(horasTotales);\r\n    \r\n    const registroCompleto = {\r\n      ...currentSession,\r\n      salida,\r\n      horasNormales,\r\n      horasExtras: horasExtrasCalculadas,\r\n      notas: '',\r\n      estado: 'completo'\r\n    };\r\n    \r\n    setHistorialAsistencia(prev => [registroCompleto, ...prev]);\r\n    setCurrentSession(null);\r\n    setIsCheckedIn(false);\r\n    setLoading(false);\r\n    \r\n    showSuccessMessage(`✅ Check-out registrado. Horas trabajadas: ${horasTotales.toFixed(2)}`);\r\n  };\r\n\r\n  // Agregar nuevo tipo de hora extra\r\n  const agregarTipoHora = () => {\r\n    if (!nuevoTipoHora.nombre.trim()) {\r\n      showErrorMessage('El nombre es requerido');\r\n      return;\r\n    }\r\n\r\n    const nuevoTipo = {\r\n      ...nuevoTipoHora,\r\n      id: Date.now()\r\n    };\r\n\r\n    setConfigHorasExtras(prev => ({\r\n      ...prev,\r\n      tiposHorasExtras: [...prev.tiposHorasExtras, nuevoTipo]\r\n    }));\r\n\r\n    setNuevoTipoHora({\r\n      nombre: '',\r\n      descripcion: '',\r\n      multiplicador: 1.0,\r\n      limite: 0,\r\n      activo: true,\r\n      color: '#3b82f6'\r\n    });\r\n\r\n    showSuccessMessage('Tipo de hora extra agregado');\r\n  };\r\n\r\n  // Eliminar tipo de hora extra\r\n  const eliminarTipoHora = (id) => {\r\n    setConfigHorasExtras(prev => ({\r\n      ...prev,\r\n      tiposHorasExtras: prev.tiposHorasExtras.filter(tipo => tipo.id !== id)\r\n    }));\r\n    showSuccessMessage('Tipo de hora extra eliminado');\r\n  };\r\n\r\n  // Exportar reporte\r\n  const exportarReporte = () => {\r\n    const datos = {\r\n      periodo: 'Julio 2024',\r\n      empleado: user.name,\r\n      registros: historialAsistencia,\r\n      configuracion: configHorasExtras\r\n    };\r\n    \r\n    console.log('Exportando reporte:', datos);\r\n    showSuccessMessage('Reporte exportado (simulado)');\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '1.5rem' }}>\r\n      <div style={{ maxWidth: '112rem', margin: '0 auto' }}>\r\n        <h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: '#fefeffff', marginBottom: '0.5rem' }}>\r\n          Sistema de Asistencia y Horas Extras\r\n        </h1>\r\n        <p style={{ color: '#ffffffff', fontSize: '1.125rem', marginBottom: '2rem' }}>\r\n          Control completo de asistencia con cálculo automático de horas extras parametrizables\r\n        </p>\r\n\r\n        {/* Información actual */}\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(auto-fit, minmax(15rem, 1fr))',\r\n          gap: '1.5rem',\r\n          marginBottom: '2rem'\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb',\r\n            padding: '1.5rem'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Estado Actual\r\n            </h3>\r\n            <p style={{ fontSize: '2rem', fontWeight: 'bold', color: isCheckedIn ? '#10b981' : '#6b7280', margin: 0 }}>\r\n              {isCheckedIn ? 'Activo' : 'Inactivo'}\r\n            </p>\r\n            {currentSession && (\r\n              <p style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.5rem' }}>\r\n                Desde: {currentSession.entrada}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb',\r\n            padding: '1.5rem'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Horas Esta Semana\r\n            </h3>\r\n            <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#3b82f6', margin: 0 }}>\r\n              {historialAsistencia.reduce((total, reg) => total + reg.horasNormales, 0)} hrs\r\n            </p>\r\n          </div>\r\n\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb',\r\n            padding: '1.5rem'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Horas Extras\r\n            </h3>\r\n            <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#f59e0b', margin: 0 }}>\r\n              {historialAsistencia.reduce((total, reg) => \r\n                total + Object.values(reg.horasExtras).reduce((a, b) => a + b, 0), 0\r\n              ).toFixed(1)} hrs\r\n            </p>\r\n          </div>\r\n\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb',\r\n            padding: '1.5rem'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Pago Estimado\r\n            </h3>\r\n            <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#10b981', margin: 0 }}>\r\n              ${historialAsistencia.reduce((total, reg) => total + calcularPago(reg), 0).toFixed(2)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '0.75rem',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n          border: '1px solid #e5e7eb'\r\n        }}>\r\n          <div style={{ display: 'flex', borderBottom: '1px solid #e5e7eb' }}>\r\n            <button\r\n              onClick={() => setActiveTab('asistencia')}\r\n              style={{\r\n                flex: 1,\r\n                padding: '1rem',\r\n                border: 'none',\r\n                background: activeTab === 'asistencia' ? '#f8fafc' : 'transparent',\r\n                color: activeTab === 'asistencia' ? '#3b82f6' : '#6b7280',\r\n                fontWeight: activeTab === 'asistencia' ? '600' : '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Check-in / Check-out\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('historial')}\r\n              style={{\r\n                flex: 1,\r\n                padding: '1rem',\r\n                border: 'none',\r\n                background: activeTab === 'historial' ? '#f8fafc' : 'transparent',\r\n                color: activeTab === 'historial' ? '#3b82f6' : '#6b7280',\r\n                fontWeight: activeTab === 'historial' ? '600' : '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Historial\r\n            </button>\r\n            {puedeConfigurar && (\r\n              <button\r\n                onClick={() => setActiveTab('configuracion')}\r\n                style={{\r\n                  flex: 1,\r\n                  padding: '1rem',\r\n                  border: 'none',\r\n                  background: activeTab === 'configuracion' ? '#f8fafc' : 'transparent',\r\n                  color: activeTab === 'configuracion' ? '#3b82f6' : '#6b7280',\r\n                  fontWeight: activeTab === 'configuracion' ? '600' : '500',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Configuración HH.EE.\r\n              </button>\r\n            )}\r\n            <button\r\n              onClick={() => setActiveTab('reportes')}\r\n              style={{\r\n                flex: 1,\r\n                padding: '1rem',\r\n                border: 'none',\r\n                background: activeTab === 'reportes' ? '#f8fafc' : 'transparent',\r\n                color: activeTab === 'reportes' ? '#3b82f6' : '#6b7280',\r\n                fontWeight: activeTab === 'reportes' ? '600' : '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Reportes\r\n            </button>\r\n          </div>\r\n\r\n          <div style={{ padding: '2rem' }}>\r\n            {/* Tab de Asistencia */}\r\n            {activeTab === 'asistencia' && (\r\n              <div>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1.5rem' }}>\r\n                  Control de Asistencia\r\n                </h3>\r\n\r\n                {/* Estado actual y ubicación */}\r\n                <div style={{\r\n                  background: '#f8fafc',\r\n                  border: '1px solid #e2e8f0',\r\n                  borderRadius: '0.5rem',\r\n                  padding: '1.5rem',\r\n                  marginBottom: '2rem'\r\n                }}>\r\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '1rem' }}>\r\n                    <MapPin style={{ width: '1.25rem', height: '1.25rem', color: '#3b82f6' }} />\r\n                    <div>\r\n                      <h4 style={{ fontSize: '1rem', fontWeight: '600', color: '#111827', margin: 0 }}>\r\n                        Ubicación Actual\r\n                      </h4>\r\n                      <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0 }}>\r\n                        {ubicacionActual?.direccion || 'Obteniendo ubicación...'}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                    <Clock style={{ width: '1.25rem', height: '1.25rem', color: '#10b981' }} />\r\n                    <div>\r\n                      <h4 style={{ fontSize: '1rem', fontWeight: '600', color: '#111827', margin: 0 }}>\r\n                        Hora Actual\r\n                      </h4>\r\n                      <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0 }}>\r\n                        {new Date().toLocaleString('es-DO')}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Botones de acción */}\r\n                <div style={{ display: 'flex', gap: '1rem', justifyContent: 'center' }}>\r\n                  {!isCheckedIn ? (\r\n                    <button\r\n                      onClick={handleCheckIn}\r\n                      disabled={loading}\r\n                      style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '0.75rem',\r\n                        padding: '1rem 2rem',\r\n                        background: loading ? '#9ca3af' : '#10b981',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '0.5rem',\r\n                        fontSize: '1.125rem',\r\n                        fontWeight: '600',\r\n                        cursor: loading ? 'not-allowed' : 'pointer',\r\n                        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\r\n                      }}\r\n                    >\r\n                      <Camera style={{ width: '1.5rem', height: '1.5rem' }} />\r\n                      {loading ? 'Procesando...' : 'Check-in'}\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      onClick={handleCheckOut}\r\n                      disabled={loading}\r\n                      style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '0.75rem',\r\n                        padding: '1rem 2rem',\r\n                        background: loading ? '#9ca3af' : '#ef4444',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '0.5rem',\r\n                        fontSize: '1.125rem',\r\n                        fontWeight: '600',\r\n                        cursor: loading ? 'not-allowed' : 'pointer',\r\n                        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\r\n                      }}\r\n                    >\r\n                      <Camera style={{ width: '1.5rem', height: '1.5rem' }} />\r\n                      {loading ? 'Procesando...' : 'Check-out'}\r\n                    </button>\r\n                  )}\r\n                </div>\r\n\r\n                {loading && (\r\n                  <div style={{\r\n                    marginTop: '1.5rem',\r\n                    textAlign: 'center',\r\n                    background: '#eff6ff',\r\n                    border: '1px solid #bfdbfe',\r\n                    borderRadius: '0.5rem',\r\n                    padding: '1rem'\r\n                  }}>\r\n                    <Camera style={{ width: '2rem', height: '2rem', color: '#3b82f6', margin: '0 auto 0.5rem' }} />\r\n                    <p style={{ fontSize: '0.875rem', color: '#1d4ed8', margin: 0 }}>\r\n                      Capturando selfie para verificación...\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Tab de Historial */}\r\n            {activeTab === 'historial' && (\r\n              <div>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1.5rem' }}>\r\n                  Historial de Asistencia\r\n                </h3>\r\n\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                  {historialAsistencia.map(registro => (\r\n                    <div\r\n                      key={registro.id}\r\n                      style={{\r\n                        border: '1px solid #e5e7eb',\r\n                        borderRadius: '0.5rem',\r\n                        padding: '1.5rem',\r\n                        background: '#fafafa'\r\n                      }}\r\n                    >\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '1rem' }}>\r\n                        <div>\r\n                          <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', margin: 0, marginBottom: '0.5rem' }}>\r\n                            {new Date(registro.fecha).toLocaleDateString('es-DO', { \r\n                              weekday: 'long', \r\n                              year: 'numeric', \r\n                              month: 'long', \r\n                              day: 'numeric' \r\n                            })}\r\n                          </h4>\r\n                          <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0 }}>\r\n                            {registro.ubicacion}\r\n                          </p>\r\n                        </div>\r\n                        <span style={{\r\n                          padding: '0.25rem 0.75rem',\r\n                          borderRadius: '9999px',\r\n                          fontSize: '0.75rem',\r\n                          fontWeight: '500',\r\n                          background: registro.estado === 'completo' ? '#f0fdf4' : '#fff7ed',\r\n                          color: registro.estado === 'completo' ? '#166534' : '#ea580c',\r\n                          border: registro.estado === 'completo' ? '1px solid #bbf7d0' : '1px solid #fed7aa'\r\n                        }}>\r\n                          {registro.estado === 'completo' ? '✅ Completo' : '⏳ En progreso'}\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(10rem, 1fr))', gap: '1rem', marginBottom: '1rem' }}>\r\n                        <div>\r\n                          <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                            ENTRADA\r\n                          </p>\r\n                          <p style={{ fontSize: '0.875rem', fontWeight: '500', color: '#111827', margin: 0 }}>\r\n                            {registro.entrada}\r\n                          </p>\r\n                        </div>\r\n                        <div>\r\n                          <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                            SALIDA\r\n                          </p>\r\n                          <p style={{ fontSize: '0.875rem', fontWeight: '500', color: '#111827', margin: 0 }}>\r\n                            {registro.salida || 'En progreso'}\r\n                          </p>\r\n                        </div>\r\n                        <div>\r\n                          <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                            HORAS NORMALES\r\n                          </p>\r\n                          <p style={{ fontSize: '0.875rem', fontWeight: '500', color: '#111827', margin: 0 }}>\r\n                            {registro.horasNormales.toFixed(1)} hrs\r\n                          </p>\r\n                        </div>\r\n                        <div>\r\n                          <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                            PAGO ESTIMADO\r\n                          </p>\r\n                          <p style={{ fontSize: '0.875rem', fontWeight: '500', color: '#10b981', margin: 0 }}>\r\n                            ${calcularPago(registro).toFixed(2)}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Desglose de horas extras */}\r\n                      <div style={{\r\n                        background: '#f0f9ff',\r\n                        border: '1px solid #bae6fd',\r\n                        borderRadius: '0.375rem',\r\n                        padding: '1rem',\r\n                        marginBottom: '1rem'\r\n                      }}>\r\n                        <h5 style={{ fontSize: '0.875rem', fontWeight: '600', color: '#0369a1', margin: 0, marginBottom: '0.75rem' }}>\r\n                          Desglose de Horas Extras\r\n                        </h5>\r\n                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(8rem, 1fr))', gap: '0.75rem' }}>\r\n                          {configHorasExtras.tiposHorasExtras.map((tipo, index) => {\r\n                            const tipoKeys = ['normales', 'sobreExtras', 'nocturnas', 'festivas'];\r\n                            const horas = registro.horasExtras[tipoKeys[index]] || 0;\r\n                            return (\r\n                              <div key={tipo.id} style={{ textAlign: 'center' }}>\r\n                                <p style={{ fontSize: '0.625rem', color: '#0369a1', margin: 0, marginBottom: '0.25rem' }}>\r\n                                  {tipo.nombre.toUpperCase()}\r\n                                </p>\r\n                                <p style={{ fontSize: '1rem', fontWeight: 'bold', color: tipo.color, margin: 0 }}>\r\n                                  {horas.toFixed(1)}h\r\n                                </p>\r\n                                <p style={{ fontSize: '0.625rem', color: '#6b7280', margin: 0 }}>\r\n                                  x{tipo.multiplicador}\r\n                                </p>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {registro.notas && (\r\n                        <div style={{ marginBottom: '1rem' }}>\r\n                          <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                            NOTAS\r\n                          </p>\r\n                          <p style={{ fontSize: '0.875rem', color: '#111827', margin: 0 }}>\r\n                            {registro.notas}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Tab de Configuración (solo admin/gerente_rrhh) */}\r\n            {activeTab === 'configuracion' && puedeConfigurar && (\r\n              <div>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1.5rem' }}>\r\n                  Configuración de Horas Extras\r\n                </h3>\r\n\r\n                {/* Configuración básica */}\r\n                <div style={{\r\n                  background: '#f8fafc',\r\n                  border: '1px solid #e2e8f0',\r\n                  borderRadius: '0.5rem',\r\n                  padding: '1.5rem',\r\n                  marginBottom: '2rem'\r\n                }}>\r\n                  <h4 style={{ fontSize: '1rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n                    Configuración Base\r\n                  </h4>\r\n                  \r\n                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(10rem, 1fr))', gap: '1rem', marginBottom: '1rem' }}>\r\n                    <div>\r\n                      <label style={{ display: 'block', fontSize: '0.75rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>\r\n                        Hora de Entrada\r\n                      </label>\r\n                      <input\r\n                        type=\"time\"\r\n                        value={configHorasExtras.horarioBase.entrada}\r\n                        onChange={(e) => setConfigHorasExtras(prev => ({\r\n                          ...prev,\r\n                          horarioBase: { ...prev.horarioBase, entrada: e.target.value }\r\n                        }))}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.5rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.375rem',\r\n                          fontSize: '0.875rem'\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label style={{ display: 'block', fontSize: '0.75rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>\r\n                        Hora de Salida\r\n                      </label>\r\n                      <input\r\n                        type=\"time\"\r\n                        value={configHorasExtras.horarioBase.salida}\r\n                        onChange={(e) => setConfigHorasExtras(prev => ({\r\n                          ...prev,\r\n                          horarioBase: { ...prev.horarioBase, salida: e.target.value }\r\n                        }))}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.5rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.375rem',\r\n                          fontSize: '0.875rem'\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label style={{ display: 'block', fontSize: '0.75rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>\r\n                        Horas por Día\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={configHorasExtras.horarioBase.horasPorDia}\r\n                        onChange={(e) => setConfigHorasExtras(prev => ({\r\n                          ...prev,\r\n                          horarioBase: { ...prev.horarioBase, horasPorDia: parseInt(e.target.value) }\r\n                        }))}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.5rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.375rem',\r\n                          fontSize: '0.875rem'\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label style={{ display: 'block', fontSize: '0.75rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>\r\n                        Salario Base ($/hora)\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        step=\"0.01\"\r\n                        value={configHorasExtras.salarioBase}\r\n                        onChange={(e) => setConfigHorasExtras(prev => ({\r\n                          ...prev,\r\n                          salarioBase: parseFloat(e.target.value)\r\n                        }))}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.5rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.375rem',\r\n                          fontSize: '0.875rem'\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Tipos de horas extras */}\r\n                <div style={{\r\n                  background: '#fefcbf',\r\n                  border: '1px solid #fcd34d',\r\n                  borderRadius: '0.5rem',\r\n                  padding: '1.5rem',\r\n                  marginBottom: '2rem'\r\n                }}>\r\n                  <h4 style={{ fontSize: '1rem', fontWeight: '600', color: '#92400e', marginBottom: '1rem' }}>\r\n                    Tipos de Horas Extras Configurados\r\n                  </h4>\r\n\r\n                  {configHorasExtras.tiposHorasExtras.map(tipo => (\r\n                    <div\r\n                      key={tipo.id}\r\n                      style={{\r\n                        background: 'white',\r\n                        border: '1px solid #e5e7eb',\r\n                        borderRadius: '0.375rem',\r\n                        padding: '1rem',\r\n                        marginBottom: '1rem',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between'\r\n                      }}\r\n                    >\r\n                      <div style={{ flex: 1 }}>\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                          <div\r\n                            style={{\r\n                              width: '1rem',\r\n                              height: '1rem',\r\n                              borderRadius: '50%',\r\n                              background: tipo.color\r\n                            }}\r\n                          />\r\n                          <h5 style={{ fontSize: '0.875rem', fontWeight: '600', color: '#111827', margin: 0 }}>\r\n                            {tipo.nombre}\r\n                          </h5>\r\n                          <span style={{\r\n                            padding: '0.125rem 0.5rem',\r\n                            borderRadius: '9999px',\r\n                            fontSize: '0.625rem',\r\n                            fontWeight: '500',\r\n                            background: tipo.activo ? '#f0fdf4' : '#fef2f2',\r\n                            color: tipo.activo ? '#166534' : '#dc2626'\r\n                          }}>\r\n                            {tipo.activo ? 'Activo' : 'Inactivo'}\r\n                          </span>\r\n                        </div>\r\n                        <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.5rem' }}>\r\n                          {tipo.descripcion}\r\n                        </p>\r\n                        <div style={{ display: 'flex', gap: '1rem', fontSize: '0.75rem', color: '#374151' }}>\r\n                          <span><strong>Multiplicador:</strong> x{tipo.multiplicador}</span>\r\n                          <span><strong>Límite:</strong> {tipo.limite} horas</span>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => eliminarTipoHora(tipo.id)}\r\n                        style={{\r\n                          padding: '0.5rem',\r\n                          background: '#fef2f2',\r\n                          color: '#dc2626',\r\n                          border: '1px solid #fecaca',\r\n                          borderRadius: '0.375rem',\r\n                          cursor: 'pointer'\r\n                        }}\r\n                      >\r\n                        <Trash2 style={{ width: '1rem', height: '1rem' }} />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n\r\n                  {/* Agregar nuevo tipo */}\r\n                  <div style={{\r\n                    background: '#f0f9ff',\r\n                    border: '1px solid #bae6fd',\r\n                    borderRadius: '0.375rem',\r\n                    padding: '1rem'\r\n                  }}>\r\n                    <h5 style={{ fontSize: '0.875rem', fontWeight: '600', color: '#0369a1', marginBottom: '1rem' }}>\r\n                      Agregar Nuevo Tipo de Hora Extra\r\n                    </h5>\r\n                    \r\n                    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem', marginBottom: '1rem' }}>\r\n                      <div>\r\n                        <label style={{ display: 'block', fontSize: '0.75rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>\r\n                          Nombre\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={nuevoTipoHora.nombre}\r\n                          onChange={(e) => setNuevoTipoHora(prev => ({ ...prev, nombre: e.target.value }))}\r\n                          placeholder=\"Ej: Horas Dominicales\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '0.5rem',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '0.375rem',\r\n                            fontSize: '0.875rem'\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label style={{ display: 'block', fontSize: '0.75rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>\r\n                          Multiplicador\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          step=\"0.25\"\r\n                          value={nuevoTipoHora.multiplicador}\r\n                          onChange={(e) => setNuevoTipoHora(prev => ({ ...prev, multiplicador: parseFloat(e.target.value) }))}\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '0.5rem',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '0.375rem',\r\n                            fontSize: '0.875rem'\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div style={{ marginBottom: '1rem' }}>\r\n                      <label style={{ display: 'block', fontSize: '0.75rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>\r\n                        Descripción\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={nuevoTipoHora.descripcion}\r\n                        onChange={(e) => setNuevoTipoHora(prev => ({ ...prev, descripcion: e.target.value }))}\r\n                        placeholder=\"Descripción del tipo de hora extra\"\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.5rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.375rem',\r\n                          fontSize: '0.875rem'\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    \r\n                    <button\r\n                      onClick={agregarTipoHora}\r\n                      style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '0.5rem',\r\n                        padding: '0.5rem 1rem',\r\n                        background: '#3b82f6',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '0.375rem',\r\n                        fontSize: '0.875rem',\r\n                        fontWeight: '500',\r\n                        cursor: 'pointer'\r\n                      }}\r\n                    >\r\n                      <Plus style={{ width: '1rem', height: '1rem' }} />\r\n                      Agregar Tipo\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Tab de Reportes */}\r\n            {activeTab === 'reportes' && (\r\n              <div>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1.5rem' }}>\r\n                  Reportes y Análisis\r\n                </h3>\r\n\r\n                <div style={{ display: 'flex', gap: '1rem', marginBottom: '2rem' }}>\r\n                  <button\r\n                    onClick={exportarReporte}\r\n                    style={{\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '0.5rem',\r\n                      padding: '0.75rem 1.5rem',\r\n                      background: '#10b981',\r\n                      color: 'white',\r\n                      border: 'none',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem',\r\n                      fontWeight: '500',\r\n                      cursor: 'pointer'\r\n                    }}\r\n                  >\r\n                    <Download style={{ width: '1rem', height: '1rem' }} />\r\n                    Exportar Reporte Excel\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Resumen semanal */}\r\n                <div style={{\r\n                  background: '#f8fafc',\r\n                  border: '1px solid #e2e8f0',\r\n                  borderRadius: '0.5rem',\r\n                  padding: '1.5rem',\r\n                  marginBottom: '2rem'\r\n                }}>\r\n                  <h4 style={{ fontSize: '1rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n                    Resumen de la Semana\r\n                  </h4>\r\n                  \r\n                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(12rem, 1fr))', gap: '1rem' }}>\r\n                    <div style={{ textAlign: 'center', padding: '1rem', background: 'white', borderRadius: '0.375rem' }}>\r\n                      <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#3b82f6', margin: 0 }}>\r\n                        {historialAsistencia.reduce((total, reg) => total + reg.horasNormales, 0)}\r\n                      </p>\r\n                      <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0 }}>Horas Normales</p>\r\n                    </div>\r\n                    \r\n                    {configHorasExtras.tiposHorasExtras.map((tipo, index) => {\r\n                      const tipoKeys = ['normales', 'sobreExtras', 'nocturnas', 'festivas'];\r\n                      const totalHoras = historialAsistencia.reduce((total, reg) => \r\n                        total + (reg.horasExtras[tipoKeys[index]] || 0), 0\r\n                      );\r\n                      const totalPago = totalHoras * configHorasExtras.salarioBase * tipo.multiplicador;\r\n                      \r\n                      return (\r\n                        <div key={tipo.id} style={{ textAlign: 'center', padding: '1rem', background: 'white', borderRadius: '0.375rem' }}>\r\n                          <p style={{ fontSize: '2rem', fontWeight: 'bold', color: tipo.color, margin: 0 }}>\r\n                            {totalHoras.toFixed(1)}\r\n                          </p>\r\n                          <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                            {tipo.nombre}\r\n                          </p>\r\n                          <p style={{ fontSize: '0.75rem', color: '#10b981', margin: 0 }}>\r\n                            ${totalPago.toFixed(2)}\r\n                          </p>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AsistenciaModule;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}