{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const{login,forgotPassword,resetPassword,error,loading,resetMode,setResetMode,resetToken}=useAuth();const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[newPassword,setNewPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[loginError,setLoginError]=useState(null);const[forgotMode,setForgotMode]=useState(false);const[message,setMessage]=useState('');// ✅ VERIFICAR SI HAY TOKEN DE RESET AL CARGAR\nuseEffect(()=>{const urlParams=new URLSearchParams(window.location.search);const token=urlParams.get('token');if(token&&window.location.pathname.includes('reset-password')){setResetMode(true);// Limpiar URL\nwindow.history.replaceState({},document.title,'/');}},[setResetMode]);const handleSubmit=async e=>{e.preventDefault();setLoginError(null);const result=await login(email,password);if(!result.success)setLoginError(result.error);};const handleForgot=async()=>{setMessage('');if(!email){setMessage('Por favor ingresa tu email');return;}try{const result=await forgotPassword(email);if(result.success){setMessage('Se ha enviado un correo con las instrucciones para restablecer tu contraseña');}else{setMessage(result.error||'Error al enviar email');}}catch(err){setMessage('Error al enviar email');}};// ✅ NUEVA FUNCIÓN PARA MANEJAR RESET\nconst handleReset=async e=>{e.preventDefault();setMessage('');setLoginError(null);// Validaciones\nif(!newPassword||!confirmPassword){setLoginError('Por favor completa todos los campos');return;}if(newPassword.length<8){setLoginError('La contraseña debe tener al menos 8 caracteres');return;}if(newPassword!==confirmPassword){setLoginError('Las contraseñas no coinciden');return;}try{const result=await resetPassword(resetToken,newPassword);if(result.success){setMessage('¡Contraseña actualizada correctamente! Redirigiendo...');setTimeout(()=>{setResetMode(false);setNewPassword('');setConfirmPassword('');setMessage('Ya puedes iniciar sesión con tu nueva contraseña');},2000);}else{setLoginError(result.error||'Error al restablecer la contraseña');}}catch(err){setLoginError('Error de conexión con el servidor');}};return/*#__PURE__*/_jsx(\"div\",{style:styles.wrapper,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.logoContainer,children:/*#__PURE__*/_jsx(\"img\",{src:\"/PD-Logo-RGB-CEI.png\",alt:\"ProDominicana Logo\",style:styles.logo})}),resetMode?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleReset,style:styles.form,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.title,children:\"Restablecer Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.subtitle,children:\"Ingresa tu nueva contrase\\xF1a\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.field,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nueva Contrase\\xF1a:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newPassword,onChange:e=>setNewPassword(e.target.value),placeholder:\"M\\xEDnimo 8 caracteres\",required:true,style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.field,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirmar Contrase\\xF1a:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),placeholder:\"Repite la contrase\\xF1a\",required:true,style:styles.input})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:styles.button,children:loading?'Actualizando...':'Actualizar Contraseña'}),loginError&&/*#__PURE__*/_jsx(\"p\",{style:styles.error,children:loginError}),message&&/*#__PURE__*/_jsx(\"p\",{style:styles.success,children:message}),/*#__PURE__*/_jsx(\"p\",{style:styles.link,onClick:()=>{setResetMode(false);setNewPassword('');setConfirmPassword('');setMessage('');setLoginError(null);},children:\"Volver al login\"})]})/* MODO FORGOT PASSWORD */:forgotMode?/*#__PURE__*/_jsxs(\"div\",{style:styles.form,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.title,children:\"Olvid\\xE9 mi contrase\\xF1a\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.field,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,style:styles.input,placeholder:\"Ingresa tu email\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleForgot,disabled:loading,style:styles.button,children:loading?'Enviando...':'Enviar Email'}),message&&/*#__PURE__*/_jsx(\"p\",{style:styles.message,children:message}),/*#__PURE__*/_jsx(\"p\",{style:styles.link,onClick:()=>{setForgotMode(false);setMessage('');},children:\"Volver al login\"})]})/* MODO LOGIN NORMAL */:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:styles.form,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.title,children:\"Iniciar Sesi\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.field,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.field,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Contrase\\xF1a:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,style:styles.input})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:styles.button,children:loading?'Cargando...':'Ingresar'}),loginError&&/*#__PURE__*/_jsx(\"p\",{style:styles.error,children:loginError}),error&&/*#__PURE__*/_jsx(\"p\",{style:styles.error,children:error}),message&&/*#__PURE__*/_jsx(\"p\",{style:styles.success,children:message}),/*#__PURE__*/_jsx(\"p\",{style:styles.link,onClick:()=>{setForgotMode(true);setMessage('');setLoginError(null);},children:\"Olvid\\xE9 mi contrase\\xF1a\"})]})]})});};const styles={wrapper:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'100vh',background:'linear-gradient(135deg, #a2cfe9ff 0%, #478be4ff 100%)',padding:'1rem'},card:{backgroundColor:'white',borderRadius:'12px',overflow:'hidden',boxShadow:'0 4px 20px rgba(0,0,0,0.1)',width:'100%',maxWidth:'400px',padding:'2rem',textAlign:'center'},logoContainer:{marginBottom:'1.5rem'},logo:{width:'120px',height:'auto'},title:{fontSize:'1.75rem',fontWeight:'bold',marginBottom:'1rem',color:'#333'},subtitle:{fontSize:'0.9rem',color:'#666',marginBottom:'1.5rem'},form:{display:'flex',flexDirection:'column'},field:{marginBottom:'1rem',display:'flex',flexDirection:'column',textAlign:'left'},input:{padding:'0.75rem',borderRadius:'8px',border:'1px solid #ccc',fontSize:'1rem',marginTop:'0.25rem'},button:{padding:'0.75rem',borderRadius:'8px',border:'none',backgroundColor:'#667eea',color:'white',fontSize:'1rem',fontWeight:'bold',cursor:'pointer',marginTop:'1rem',opacity:1,transition:'opacity 0.2s'},link:{color:'#764ba2',cursor:'pointer',marginTop:'1rem',textDecoration:'underline',fontSize:'0.9rem'},error:{color:'red',textAlign:'center',marginTop:'1rem',fontSize:'0.9rem'},success:{color:'green',textAlign:'center',marginTop:'1rem',fontSize:'0.9rem'},message:{color:'green',textAlign:'center',marginTop:'1rem',fontSize:'0.9rem'}};export default LoginPage;","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsx","_jsx","jsxs","_jsxs","LoginPage","login","forgotPassword","resetPassword","error","loading","resetMode","setResetMode","resetToken","email","setEmail","password","setPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","loginError","setLoginError","forgotMode","setForgotMode","message","setMessage","urlParams","URLSearchParams","window","location","search","token","get","pathname","includes","history","replaceState","document","title","handleSubmit","e","preventDefault","result","success","handleForgot","err","handleReset","length","setTimeout","style","styles","wrapper","children","card","logoContainer","src","alt","logo","onSubmit","form","subtitle","field","type","value","onChange","target","placeholder","required","input","disabled","button","link","onClick","display","justifyContent","alignItems","minHeight","background","padding","backgroundColor","borderRadius","overflow","boxShadow","width","maxWidth","textAlign","marginBottom","height","fontSize","fontWeight","color","flexDirection","border","marginTop","cursor","opacity","transition","textDecoration"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/components/auth/LoginPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst LoginPage = () => {\r\n  const { \r\n    login, \r\n    forgotPassword, \r\n    resetPassword, \r\n    error, \r\n    loading,\r\n    resetMode,\r\n    setResetMode,\r\n    resetToken\r\n  } = useAuth();\r\n  \r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [loginError, setLoginError] = useState(null);\r\n  const [forgotMode, setForgotMode] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  // ✅ VERIFICAR SI HAY TOKEN DE RESET AL CARGAR\r\n  useEffect(() => {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const token = urlParams.get('token');\r\n    if (token && window.location.pathname.includes('reset-password')) {\r\n      setResetMode(true);\r\n      // Limpiar URL\r\n      window.history.replaceState({}, document.title, '/');\r\n    }\r\n  }, [setResetMode]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoginError(null);\r\n    const result = await login(email, password);\r\n    if (!result.success) setLoginError(result.error);\r\n  };\r\n\r\n  const handleForgot = async () => {\r\n    setMessage('');\r\n    if (!email) {\r\n      setMessage('Por favor ingresa tu email');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const result = await forgotPassword(email);\r\n      if (result.success) {\r\n        setMessage('Se ha enviado un correo con las instrucciones para restablecer tu contraseña');\r\n      } else {\r\n        setMessage(result.error || 'Error al enviar email');\r\n      }\r\n    } catch (err) {\r\n      setMessage('Error al enviar email');\r\n    }\r\n  };\r\n\r\n  // ✅ NUEVA FUNCIÓN PARA MANEJAR RESET\r\n  const handleReset = async (e) => {\r\n    e.preventDefault();\r\n    setMessage('');\r\n    setLoginError(null);\r\n\r\n    // Validaciones\r\n    if (!newPassword || !confirmPassword) {\r\n      setLoginError('Por favor completa todos los campos');\r\n      return;\r\n    }\r\n\r\n    if (newPassword.length < 8) {\r\n      setLoginError('La contraseña debe tener al menos 8 caracteres');\r\n      return;\r\n    }\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      setLoginError('Las contraseñas no coinciden');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const result = await resetPassword(resetToken, newPassword);\r\n      if (result.success) {\r\n        setMessage('¡Contraseña actualizada correctamente! Redirigiendo...');\r\n        setTimeout(() => {\r\n          setResetMode(false);\r\n          setNewPassword('');\r\n          setConfirmPassword('');\r\n          setMessage('Ya puedes iniciar sesión con tu nueva contraseña');\r\n        }, 2000);\r\n      } else {\r\n        setLoginError(result.error || 'Error al restablecer la contraseña');\r\n      }\r\n    } catch (err) {\r\n      setLoginError('Error de conexión con el servidor');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.wrapper}>\r\n      <div style={styles.card}>\r\n        {/* Logo */}\r\n        <div style={styles.logoContainer}>\r\n          <img src=\"/PD-Logo-RGB-CEI.png\" alt=\"ProDominicana Logo\" style={styles.logo} />\r\n        </div>\r\n\r\n        {/* ✅ MODO RESET PASSWORD */}\r\n        {resetMode ? (\r\n          <form onSubmit={handleReset} style={styles.form}>\r\n            <h2 style={styles.title}>Restablecer Contraseña</h2>\r\n            <p style={styles.subtitle}>Ingresa tu nueva contraseña</p>\r\n            \r\n            <div style={styles.field}>\r\n              <label>Nueva Contraseña:</label>\r\n              <input \r\n                type=\"password\" \r\n                value={newPassword} \r\n                onChange={e => setNewPassword(e.target.value)} \r\n                placeholder=\"Mínimo 8 caracteres\"\r\n                required \r\n                style={styles.input}\r\n              />\r\n            </div>\r\n            \r\n            <div style={styles.field}>\r\n              <label>Confirmar Contraseña:</label>\r\n              <input \r\n                type=\"password\" \r\n                value={confirmPassword} \r\n                onChange={e => setConfirmPassword(e.target.value)} \r\n                placeholder=\"Repite la contraseña\"\r\n                required \r\n                style={styles.input}\r\n              />\r\n            </div>\r\n            \r\n            <button type=\"submit\" disabled={loading} style={styles.button}>\r\n              {loading ? 'Actualizando...' : 'Actualizar Contraseña'}\r\n            </button>\r\n            \r\n            {loginError && <p style={styles.error}>{loginError}</p>}\r\n            {message && <p style={styles.success}>{message}</p>}\r\n            \r\n            <p style={styles.link} onClick={() => {\r\n              setResetMode(false);\r\n              setNewPassword('');\r\n              setConfirmPassword('');\r\n              setMessage('');\r\n              setLoginError(null);\r\n            }}>\r\n              Volver al login\r\n            </p>\r\n          </form>\r\n        )\r\n        \r\n        /* MODO FORGOT PASSWORD */\r\n        : forgotMode ? (\r\n          <div style={styles.form}>\r\n            <h2 style={styles.title}>Olvidé mi contraseña</h2>\r\n            <div style={styles.field}>\r\n              <label>Email:</label>\r\n              <input \r\n                type=\"email\" \r\n                value={email} \r\n                onChange={e => setEmail(e.target.value)} \r\n                required \r\n                style={styles.input}\r\n                placeholder=\"Ingresa tu email\"\r\n              />\r\n            </div>\r\n            <button onClick={handleForgot} disabled={loading} style={styles.button}>\r\n              {loading ? 'Enviando...' : 'Enviar Email'}\r\n            </button>\r\n            {message && <p style={styles.message}>{message}</p>}\r\n            <p style={styles.link} onClick={() => { \r\n              setForgotMode(false); \r\n              setMessage(''); \r\n            }}>\r\n              Volver al login\r\n            </p>\r\n          </div>\r\n        ) \r\n        \r\n        /* MODO LOGIN NORMAL */\r\n        : (\r\n          <form onSubmit={handleSubmit} style={styles.form}>\r\n            <h2 style={styles.title}>Iniciar Sesión</h2>\r\n            <div style={styles.field}>\r\n              <label>Email:</label>\r\n              <input type=\"email\" value={email} onChange={e => setEmail(e.target.value)} required style={styles.input}/>\r\n            </div>\r\n            <div style={styles.field}>\r\n              <label>Contraseña:</label>\r\n              <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} required style={styles.input}/>\r\n            </div>\r\n            <button type=\"submit\" disabled={loading} style={styles.button}>\r\n              {loading ? 'Cargando...' : 'Ingresar'}\r\n            </button>\r\n            {loginError && <p style={styles.error}>{loginError}</p>}\r\n            {error && <p style={styles.error}>{error}</p>}\r\n            {message && <p style={styles.success}>{message}</p>}\r\n            <p style={styles.link} onClick={() => { \r\n              setForgotMode(true); \r\n              setMessage(''); \r\n              setLoginError(null);\r\n            }}>\r\n              Olvidé mi contraseña\r\n            </p>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  wrapper: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    minHeight: '100vh',\r\n    background: 'linear-gradient(135deg, #a2cfe9ff 0%, #478be4ff 100%)',\r\n    padding: '1rem'\r\n  },\r\n  card: {\r\n    backgroundColor: 'white',\r\n    borderRadius: '12px',\r\n    overflow: 'hidden',\r\n    boxShadow: '0 4px 20px rgba(0,0,0,0.1)',\r\n    width: '100%',\r\n    maxWidth: '400px',\r\n    padding: '2rem',\r\n    textAlign: 'center'\r\n  },\r\n  logoContainer: {\r\n    marginBottom: '1.5rem'\r\n  },\r\n  logo: {\r\n    width: '120px',\r\n    height: 'auto'\r\n  },\r\n  title: {\r\n    fontSize: '1.75rem',\r\n    fontWeight: 'bold',\r\n    marginBottom: '1rem',\r\n    color: '#333'\r\n  },\r\n  subtitle: {\r\n    fontSize: '0.9rem',\r\n    color: '#666',\r\n    marginBottom: '1.5rem'\r\n  },\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column'\r\n  },\r\n  field: {\r\n    marginBottom: '1rem',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    textAlign: 'left'\r\n  },\r\n  input: {\r\n    padding: '0.75rem',\r\n    borderRadius: '8px',\r\n    border: '1px solid #ccc',\r\n    fontSize: '1rem',\r\n    marginTop: '0.25rem'\r\n  },\r\n  button: {\r\n    padding: '0.75rem',\r\n    borderRadius: '8px',\r\n    border: 'none',\r\n    backgroundColor: '#667eea',\r\n    color: 'white',\r\n    fontSize: '1rem',\r\n    fontWeight: 'bold',\r\n    cursor: 'pointer',\r\n    marginTop: '1rem',\r\n    opacity: 1,\r\n    transition: 'opacity 0.2s'\r\n  },\r\n  link: {\r\n    color: '#764ba2',\r\n    cursor: 'pointer',\r\n    marginTop: '1rem',\r\n    textDecoration: 'underline',\r\n    fontSize: '0.9rem'\r\n  },\r\n  error: {\r\n    color: 'red',\r\n    textAlign: 'center',\r\n    marginTop: '1rem',\r\n    fontSize: '0.9rem'\r\n  },\r\n  success: {\r\n    color: 'green',\r\n    textAlign: 'center',\r\n    marginTop: '1rem',\r\n    fontSize: '0.9rem'\r\n  },\r\n  message: {\r\n    color: 'green',\r\n    textAlign: 'center',\r\n    marginTop: '1rem',\r\n    fontSize: '0.9rem'\r\n  }\r\n};\r\n\r\nexport default LoginPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CACJC,KAAK,CACLC,cAAc,CACdC,aAAa,CACbC,KAAK,CACLC,OAAO,CACPC,SAAS,CACTC,YAAY,CACZC,UACF,CAAC,CAAGb,OAAO,CAAC,CAAC,CAEb,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACkB,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACoB,WAAW,CAAEC,cAAc,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACsB,eAAe,CAAEC,kBAAkB,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACwB,UAAU,CAAEC,aAAa,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAAC0B,UAAU,CAAEC,aAAa,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAC4B,OAAO,CAAEC,UAAU,CAAC,CAAG7B,QAAQ,CAAC,EAAE,CAAC,CAE1C;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAA6B,SAAS,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAC7D,KAAM,CAAAC,KAAK,CAAGL,SAAS,CAACM,GAAG,CAAC,OAAO,CAAC,CACpC,GAAID,KAAK,EAAIH,MAAM,CAACC,QAAQ,CAACI,QAAQ,CAACC,QAAQ,CAAC,gBAAgB,CAAC,CAAE,CAChExB,YAAY,CAAC,IAAI,CAAC,CAClB;AACAkB,MAAM,CAACO,OAAO,CAACC,YAAY,CAAC,CAAC,CAAC,CAAEC,QAAQ,CAACC,KAAK,CAAE,GAAG,CAAC,CACtD,CACF,CAAC,CAAE,CAAC5B,YAAY,CAAC,CAAC,CAElB,KAAM,CAAA6B,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBpB,aAAa,CAAC,IAAI,CAAC,CACnB,KAAM,CAAAqB,MAAM,CAAG,KAAM,CAAAtC,KAAK,CAACQ,KAAK,CAAEE,QAAQ,CAAC,CAC3C,GAAI,CAAC4B,MAAM,CAACC,OAAO,CAAEtB,aAAa,CAACqB,MAAM,CAACnC,KAAK,CAAC,CAClD,CAAC,CAED,KAAM,CAAAqC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/BnB,UAAU,CAAC,EAAE,CAAC,CACd,GAAI,CAACb,KAAK,CAAE,CACVa,UAAU,CAAC,4BAA4B,CAAC,CACxC,OACF,CAEA,GAAI,CACF,KAAM,CAAAiB,MAAM,CAAG,KAAM,CAAArC,cAAc,CAACO,KAAK,CAAC,CAC1C,GAAI8B,MAAM,CAACC,OAAO,CAAE,CAClBlB,UAAU,CAAC,8EAA8E,CAAC,CAC5F,CAAC,IAAM,CACLA,UAAU,CAACiB,MAAM,CAACnC,KAAK,EAAI,uBAAuB,CAAC,CACrD,CACF,CAAE,MAAOsC,GAAG,CAAE,CACZpB,UAAU,CAAC,uBAAuB,CAAC,CACrC,CACF,CAAC,CAED;AACA,KAAM,CAAAqB,WAAW,CAAG,KAAO,CAAAN,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBhB,UAAU,CAAC,EAAE,CAAC,CACdJ,aAAa,CAAC,IAAI,CAAC,CAEnB;AACA,GAAI,CAACL,WAAW,EAAI,CAACE,eAAe,CAAE,CACpCG,aAAa,CAAC,qCAAqC,CAAC,CACpD,OACF,CAEA,GAAIL,WAAW,CAAC+B,MAAM,CAAG,CAAC,CAAE,CAC1B1B,aAAa,CAAC,gDAAgD,CAAC,CAC/D,OACF,CAEA,GAAIL,WAAW,GAAKE,eAAe,CAAE,CACnCG,aAAa,CAAC,8BAA8B,CAAC,CAC7C,OACF,CAEA,GAAI,CACF,KAAM,CAAAqB,MAAM,CAAG,KAAM,CAAApC,aAAa,CAACK,UAAU,CAAEK,WAAW,CAAC,CAC3D,GAAI0B,MAAM,CAACC,OAAO,CAAE,CAClBlB,UAAU,CAAC,wDAAwD,CAAC,CACpEuB,UAAU,CAAC,IAAM,CACftC,YAAY,CAAC,KAAK,CAAC,CACnBO,cAAc,CAAC,EAAE,CAAC,CAClBE,kBAAkB,CAAC,EAAE,CAAC,CACtBM,UAAU,CAAC,kDAAkD,CAAC,CAChE,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,IAAM,CACLJ,aAAa,CAACqB,MAAM,CAACnC,KAAK,EAAI,oCAAoC,CAAC,CACrE,CACF,CAAE,MAAOsC,GAAG,CAAE,CACZxB,aAAa,CAAC,mCAAmC,CAAC,CACpD,CACF,CAAC,CAED,mBACErB,IAAA,QAAKiD,KAAK,CAAEC,MAAM,CAACC,OAAQ,CAAAC,QAAA,cACzBlD,KAAA,QAAK+C,KAAK,CAAEC,MAAM,CAACG,IAAK,CAAAD,QAAA,eAEtBpD,IAAA,QAAKiD,KAAK,CAAEC,MAAM,CAACI,aAAc,CAAAF,QAAA,cAC/BpD,IAAA,QAAKuD,GAAG,CAAC,sBAAsB,CAACC,GAAG,CAAC,oBAAoB,CAACP,KAAK,CAAEC,MAAM,CAACO,IAAK,CAAE,CAAC,CAC5E,CAAC,CAGLhD,SAAS,cACRP,KAAA,SAAMwD,QAAQ,CAAEZ,WAAY,CAACG,KAAK,CAAEC,MAAM,CAACS,IAAK,CAAAP,QAAA,eAC9CpD,IAAA,OAAIiD,KAAK,CAAEC,MAAM,CAACZ,KAAM,CAAAc,QAAA,CAAC,2BAAsB,CAAI,CAAC,cACpDpD,IAAA,MAAGiD,KAAK,CAAEC,MAAM,CAACU,QAAS,CAAAR,QAAA,CAAC,gCAA2B,CAAG,CAAC,cAE1DlD,KAAA,QAAK+C,KAAK,CAAEC,MAAM,CAACW,KAAM,CAAAT,QAAA,eACvBpD,IAAA,UAAAoD,QAAA,CAAO,sBAAiB,CAAO,CAAC,cAChCpD,IAAA,UACE8D,IAAI,CAAC,UAAU,CACfC,KAAK,CAAE/C,WAAY,CACnBgD,QAAQ,CAAExB,CAAC,EAAIvB,cAAc,CAACuB,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAC9CG,WAAW,CAAC,wBAAqB,CACjCC,QAAQ,MACRlB,KAAK,CAAEC,MAAM,CAACkB,KAAM,CACrB,CAAC,EACC,CAAC,cAENlE,KAAA,QAAK+C,KAAK,CAAEC,MAAM,CAACW,KAAM,CAAAT,QAAA,eACvBpD,IAAA,UAAAoD,QAAA,CAAO,0BAAqB,CAAO,CAAC,cACpCpD,IAAA,UACE8D,IAAI,CAAC,UAAU,CACfC,KAAK,CAAE7C,eAAgB,CACvB8C,QAAQ,CAAExB,CAAC,EAAIrB,kBAAkB,CAACqB,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAClDG,WAAW,CAAC,yBAAsB,CAClCC,QAAQ,MACRlB,KAAK,CAAEC,MAAM,CAACkB,KAAM,CACrB,CAAC,EACC,CAAC,cAENpE,IAAA,WAAQ8D,IAAI,CAAC,QAAQ,CAACO,QAAQ,CAAE7D,OAAQ,CAACyC,KAAK,CAAEC,MAAM,CAACoB,MAAO,CAAAlB,QAAA,CAC3D5C,OAAO,CAAG,iBAAiB,CAAG,uBAAuB,CAChD,CAAC,CAERY,UAAU,eAAIpB,IAAA,MAAGiD,KAAK,CAAEC,MAAM,CAAC3C,KAAM,CAAA6C,QAAA,CAAEhC,UAAU,CAAI,CAAC,CACtDI,OAAO,eAAIxB,IAAA,MAAGiD,KAAK,CAAEC,MAAM,CAACP,OAAQ,CAAAS,QAAA,CAAE5B,OAAO,CAAI,CAAC,cAEnDxB,IAAA,MAAGiD,KAAK,CAAEC,MAAM,CAACqB,IAAK,CAACC,OAAO,CAAEA,CAAA,GAAM,CACpC9D,YAAY,CAAC,KAAK,CAAC,CACnBO,cAAc,CAAC,EAAE,CAAC,CAClBE,kBAAkB,CAAC,EAAE,CAAC,CACtBM,UAAU,CAAC,EAAE,CAAC,CACdJ,aAAa,CAAC,IAAI,CAAC,CACrB,CAAE,CAAA+B,QAAA,CAAC,iBAEH,CAAG,CAAC,EACA,CAGR,2BACE9B,UAAU,cACVpB,KAAA,QAAK+C,KAAK,CAAEC,MAAM,CAACS,IAAK,CAAAP,QAAA,eACtBpD,IAAA,OAAIiD,KAAK,CAAEC,MAAM,CAACZ,KAAM,CAAAc,QAAA,CAAC,4BAAoB,CAAI,CAAC,cAClDlD,KAAA,QAAK+C,KAAK,CAAEC,MAAM,CAACW,KAAM,CAAAT,QAAA,eACvBpD,IAAA,UAAAoD,QAAA,CAAO,QAAM,CAAO,CAAC,cACrBpD,IAAA,UACE8D,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEnD,KAAM,CACboD,QAAQ,CAAExB,CAAC,EAAI3B,QAAQ,CAAC2B,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CACxCI,QAAQ,MACRlB,KAAK,CAAEC,MAAM,CAACkB,KAAM,CACpBF,WAAW,CAAC,kBAAkB,CAC/B,CAAC,EACC,CAAC,cACNlE,IAAA,WAAQwE,OAAO,CAAE5B,YAAa,CAACyB,QAAQ,CAAE7D,OAAQ,CAACyC,KAAK,CAAEC,MAAM,CAACoB,MAAO,CAAAlB,QAAA,CACpE5C,OAAO,CAAG,aAAa,CAAG,cAAc,CACnC,CAAC,CACRgB,OAAO,eAAIxB,IAAA,MAAGiD,KAAK,CAAEC,MAAM,CAAC1B,OAAQ,CAAA4B,QAAA,CAAE5B,OAAO,CAAI,CAAC,cACnDxB,IAAA,MAAGiD,KAAK,CAAEC,MAAM,CAACqB,IAAK,CAACC,OAAO,CAAEA,CAAA,GAAM,CACpCjD,aAAa,CAAC,KAAK,CAAC,CACpBE,UAAU,CAAC,EAAE,CAAC,CAChB,CAAE,CAAA2B,QAAA,CAAC,iBAEH,CAAG,CAAC,EACD,CAGP,qCAEElD,KAAA,SAAMwD,QAAQ,CAAEnB,YAAa,CAACU,KAAK,CAAEC,MAAM,CAACS,IAAK,CAAAP,QAAA,eAC/CpD,IAAA,OAAIiD,KAAK,CAAEC,MAAM,CAACZ,KAAM,CAAAc,QAAA,CAAC,mBAAc,CAAI,CAAC,cAC5ClD,KAAA,QAAK+C,KAAK,CAAEC,MAAM,CAACW,KAAM,CAAAT,QAAA,eACvBpD,IAAA,UAAAoD,QAAA,CAAO,QAAM,CAAO,CAAC,cACrBpD,IAAA,UAAO8D,IAAI,CAAC,OAAO,CAACC,KAAK,CAAEnD,KAAM,CAACoD,QAAQ,CAAExB,CAAC,EAAI3B,QAAQ,CAAC2B,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAACI,QAAQ,MAAClB,KAAK,CAAEC,MAAM,CAACkB,KAAM,CAAC,CAAC,EACvG,CAAC,cACNlE,KAAA,QAAK+C,KAAK,CAAEC,MAAM,CAACW,KAAM,CAAAT,QAAA,eACvBpD,IAAA,UAAAoD,QAAA,CAAO,gBAAW,CAAO,CAAC,cAC1BpD,IAAA,UAAO8D,IAAI,CAAC,UAAU,CAACC,KAAK,CAAEjD,QAAS,CAACkD,QAAQ,CAAExB,CAAC,EAAIzB,WAAW,CAACyB,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAACI,QAAQ,MAAClB,KAAK,CAAEC,MAAM,CAACkB,KAAM,CAAC,CAAC,EAChH,CAAC,cACNpE,IAAA,WAAQ8D,IAAI,CAAC,QAAQ,CAACO,QAAQ,CAAE7D,OAAQ,CAACyC,KAAK,CAAEC,MAAM,CAACoB,MAAO,CAAAlB,QAAA,CAC3D5C,OAAO,CAAG,aAAa,CAAG,UAAU,CAC/B,CAAC,CACRY,UAAU,eAAIpB,IAAA,MAAGiD,KAAK,CAAEC,MAAM,CAAC3C,KAAM,CAAA6C,QAAA,CAAEhC,UAAU,CAAI,CAAC,CACtDb,KAAK,eAAIP,IAAA,MAAGiD,KAAK,CAAEC,MAAM,CAAC3C,KAAM,CAAA6C,QAAA,CAAE7C,KAAK,CAAI,CAAC,CAC5CiB,OAAO,eAAIxB,IAAA,MAAGiD,KAAK,CAAEC,MAAM,CAACP,OAAQ,CAAAS,QAAA,CAAE5B,OAAO,CAAI,CAAC,cACnDxB,IAAA,MAAGiD,KAAK,CAAEC,MAAM,CAACqB,IAAK,CAACC,OAAO,CAAEA,CAAA,GAAM,CACpCjD,aAAa,CAAC,IAAI,CAAC,CACnBE,UAAU,CAAC,EAAE,CAAC,CACdJ,aAAa,CAAC,IAAI,CAAC,CACrB,CAAE,CAAA+B,QAAA,CAAC,4BAEH,CAAG,CAAC,EACA,CACP,EACE,CAAC,CACH,CAAC,CAEV,CAAC,CAED,KAAM,CAAAF,MAAM,CAAG,CACbC,OAAO,CAAE,CACPsB,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,QAAQ,CACxBC,UAAU,CAAE,QAAQ,CACpBC,SAAS,CAAE,OAAO,CAClBC,UAAU,CAAE,uDAAuD,CACnEC,OAAO,CAAE,MACX,CAAC,CACDzB,IAAI,CAAE,CACJ0B,eAAe,CAAE,OAAO,CACxBC,YAAY,CAAE,MAAM,CACpBC,QAAQ,CAAE,QAAQ,CAClBC,SAAS,CAAE,4BAA4B,CACvCC,KAAK,CAAE,MAAM,CACbC,QAAQ,CAAE,OAAO,CACjBN,OAAO,CAAE,MAAM,CACfO,SAAS,CAAE,QACb,CAAC,CACD/B,aAAa,CAAE,CACbgC,YAAY,CAAE,QAChB,CAAC,CACD7B,IAAI,CAAE,CACJ0B,KAAK,CAAE,OAAO,CACdI,MAAM,CAAE,MACV,CAAC,CACDjD,KAAK,CAAE,CACLkD,QAAQ,CAAE,SAAS,CACnBC,UAAU,CAAE,MAAM,CAClBH,YAAY,CAAE,MAAM,CACpBI,KAAK,CAAE,MACT,CAAC,CACD9B,QAAQ,CAAE,CACR4B,QAAQ,CAAE,QAAQ,CAClBE,KAAK,CAAE,MAAM,CACbJ,YAAY,CAAE,QAChB,CAAC,CACD3B,IAAI,CAAE,CACJc,OAAO,CAAE,MAAM,CACfkB,aAAa,CAAE,QACjB,CAAC,CACD9B,KAAK,CAAE,CACLyB,YAAY,CAAE,MAAM,CACpBb,OAAO,CAAE,MAAM,CACfkB,aAAa,CAAE,QAAQ,CACvBN,SAAS,CAAE,MACb,CAAC,CACDjB,KAAK,CAAE,CACLU,OAAO,CAAE,SAAS,CAClBE,YAAY,CAAE,KAAK,CACnBY,MAAM,CAAE,gBAAgB,CACxBJ,QAAQ,CAAE,MAAM,CAChBK,SAAS,CAAE,SACb,CAAC,CACDvB,MAAM,CAAE,CACNQ,OAAO,CAAE,SAAS,CAClBE,YAAY,CAAE,KAAK,CACnBY,MAAM,CAAE,MAAM,CACdb,eAAe,CAAE,SAAS,CAC1BW,KAAK,CAAE,OAAO,CACdF,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,MAAM,CAClBK,MAAM,CAAE,SAAS,CACjBD,SAAS,CAAE,MAAM,CACjBE,OAAO,CAAE,CAAC,CACVC,UAAU,CAAE,cACd,CAAC,CACDzB,IAAI,CAAE,CACJmB,KAAK,CAAE,SAAS,CAChBI,MAAM,CAAE,SAAS,CACjBD,SAAS,CAAE,MAAM,CACjBI,cAAc,CAAE,WAAW,CAC3BT,QAAQ,CAAE,QACZ,CAAC,CACDjF,KAAK,CAAE,CACLmF,KAAK,CAAE,KAAK,CACZL,SAAS,CAAE,QAAQ,CACnBQ,SAAS,CAAE,MAAM,CACjBL,QAAQ,CAAE,QACZ,CAAC,CACD7C,OAAO,CAAE,CACP+C,KAAK,CAAE,OAAO,CACdL,SAAS,CAAE,QAAQ,CACnBQ,SAAS,CAAE,MAAM,CACjBL,QAAQ,CAAE,QACZ,CAAC,CACDhE,OAAO,CAAE,CACPkE,KAAK,CAAE,OAAO,CACdL,SAAS,CAAE,QAAQ,CACnBQ,SAAS,CAAE,MAAM,CACjBL,QAAQ,CAAE,QACZ,CACF,CAAC,CAED,cAAe,CAAArF,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}