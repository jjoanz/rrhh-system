{"ast":null,"code":"// src/modules/ReportesModule.jsx\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import{DndProvider,useDrag,useDrop}from\"react-dnd\";import{HTML5Backend}from\"react-dnd-html5-backend\";import{BarChart,Bar,XAxis,YAxis,Tooltip,Legend,ResponsiveContainer}from\"recharts\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||\"http://localhost:5000/api\";/* ----------------------- COMPONENTES DRAG & DROP ----------------------- */const DraggableField=_ref=>{let{name,table}=_ref;const[{isDragging},drag]=useDrag(()=>({type:\"FIELD\",item:{name,table},collect:monitor=>({isDragging:!!monitor.isDragging()})}));return/*#__PURE__*/_jsxs(\"div\",{ref:drag,className:\"p-1 m-1 border bg-white shadow rounded cursor-pointer text-sm\",style:{opacity:isDragging?0.5:1},children:[table,\".\",name]});};const DropZone=_ref2=>{let{onDrop,title,fields}=_ref2;const[{isOver},drop]=useDrop(()=>({accept:\"FIELD\",drop:item=>onDrop(item),collect:monitor=>({isOver:!!monitor.isOver()})}));return/*#__PURE__*/_jsxs(\"div\",{ref:drop,className:`p-2 border rounded min-h-[60px] mb-4 ${isOver?\"bg-green-100\":\"bg-gray-50\"}`,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:fields.map((f,i)=>/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 m-1 bg-blue-200 text-xs rounded\",children:[f.table,\".\",f.name]},i))})]});};/* ----------------------- MODULO PRINCIPAL ----------------------- */const ReportesModule=()=>{const[metadata,setMetadata]=useState({});const[rows,setRows]=useState([]);const[cols,setCols]=useState([]);const[metrics,setMetrics]=useState([]);const[data,setData]=useState([]);const[tipoReporte,setTipoReporte]=useState(\"empleados_por_departamento\");const[sqlQuery,setSqlQuery]=useState(\"\");// Cargar metadata para constructor drag & drop\nuseEffect(()=>{axios.get(`${API_URL}/reportes/metadata`).then(res=>setMetadata(res.data));},[]);// Reporte predefinido\nconst fetchPredefinido=async()=>{const res=await axios.get(`${API_URL}/reportes/predefinidos/${tipoReporte}`);setData(res.data);};// Reporte SQL libre\nconst fetchCustom=async()=>{const res=await axios.post(`${API_URL}/reportes/custom`,{sqlQuery});setData(res.data);};// Reporte dinámico (drag & drop)\nconst generarSQL=()=>{if(rows.length===0||metrics.length===0)return\"\";const tablas=new Set([...rows,...cols,...metrics].map(f=>f.table));const select=[...rows,...cols,...metrics].map(f=>`${f.table}.${f.name}`);let query=`SELECT ${select.join(\", \")} FROM ${Array.from(tablas).join(\", \")}`;query+=\" /* TODO: relaciones automáticas */ \";return query;};const ejecutarReporte=async()=>{const sqlQuery=generarSQL();if(!sqlQuery)return alert(\"Debes seleccionar al menos una fila y una métrica\");const res=await axios.post(`${API_URL}/reportes/custom`,{sqlQuery});setData(res.data);};// Exportación\nconst exportar=async formato=>{const res=await axios.post(`${API_URL}/reportes/export`,{formato,data},{responseType:\"blob\"});const url=window.URL.createObjectURL(new Blob([res.data]));const link=document.createElement(\"a\");link.href=url;link.setAttribute(\"download\",`reporte.${formato}`);document.body.appendChild(link);link.click();};return/*#__PURE__*/_jsx(DndProvider,{backend:HTML5Backend,children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"M\\xF3dulo de Reportes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Reportes Predefinidos\"}),/*#__PURE__*/_jsxs(\"select\",{value:tipoReporte,onChange:e=>setTipoReporte(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"empleados_por_departamento\",children:\"Empleados por departamento\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vacantes_abiertas\",children:\"Vacantes abiertas\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchPredefinido,className:\"ml-2 px-4 py-1 bg-blue-500 text-white rounded\",children:\"Generar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"SQL Personalizado\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"border w-full p-2\",rows:3,placeholder:\"Escribe tu consulta SQL (solo SELECT)...\",value:sqlQuery,onChange:e=>setSqlQuery(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchCustom,className:\"mt-2 px-4 py-1 bg-green-500 text-white rounded\",children:\"Ejecutar SQL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Constructor Visual\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1 border p-2 rounded\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Campos disponibles\"}),Object.entries(metadata).map(_ref3=>{let[table,fields]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold\",children:table}),fields.map(field=>/*#__PURE__*/_jsx(DraggableField,{name:field,table:table},field))]},table);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsx(DropZone,{title:\"Filas\",fields:rows,onDrop:item=>setRows([...rows,item])}),/*#__PURE__*/_jsx(DropZone,{title:\"Columnas\",fields:cols,onDrop:item=>setCols([...cols,item])}),/*#__PURE__*/_jsx(DropZone,{title:\"M\\xE9tricas\",fields:metrics,onDrop:item=>setMetrics([...metrics,item])}),/*#__PURE__*/_jsx(\"button\",{onClick:ejecutarReporte,className:\"px-4 py-2 bg-blue-600 text-white rounded\",children:\"Generar Reporte\"})]})]})]}),data.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold mb-2\",children:\"Resultado\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>exportar(\"csv\"),className:\"mr-2 px-4 py-1 bg-gray-600 text-white rounded\",children:\"CSV\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>exportar(\"excel\"),className:\"mr-2 px-4 py-1 bg-yellow-600 text-white rounded\",children:\"Excel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>exportar(\"pdf\"),className:\"px-4 py-1 bg-red-600 text-white rounded\",children:\"PDF\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto border-collapse border border-gray-400 w-full mb-6\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:Object.keys(data[0]).map(key=>/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:key},key))})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((row,i)=>/*#__PURE__*/_jsx(\"tr\",{children:Object.values(row).map((val,j)=>/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1\",children:val},j))},i))})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",height:400},children:/*#__PURE__*/_jsx(ResponsiveContainer,{children:/*#__PURE__*/_jsxs(BarChart,{data:data,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:Object.keys(data[0])[0]}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:Object.keys(data[0])[1],fill:\"#8884d8\"})]})})})]})]})});};export default ReportesModule;","map":{"version":3,"names":["React","useState","useEffect","axios","DndProvider","useDrag","useDrop","HTML5Backend","BarChart","Bar","XAxis","YAxis","Tooltip","Legend","ResponsiveContainer","jsxs","_jsxs","jsx","_jsx","API_URL","process","env","REACT_APP_API_URL","DraggableField","_ref","name","table","isDragging","drag","type","item","collect","monitor","ref","className","style","opacity","children","DropZone","_ref2","onDrop","title","fields","isOver","drop","accept","map","f","i","ReportesModule","metadata","setMetadata","rows","setRows","cols","setCols","metrics","setMetrics","data","setData","tipoReporte","setTipoReporte","sqlQuery","setSqlQuery","get","then","res","fetchPredefinido","fetchCustom","post","generarSQL","length","tablas","Set","select","query","join","Array","from","ejecutarReporte","alert","exportar","formato","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","backend","value","onChange","e","target","onClick","placeholder","Object","entries","_ref3","field","keys","key","row","values","val","j","width","height","dataKey","fill"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/components/modules/Reportes/ReportesModule.jsx"],"sourcesContent":["// src/modules/ReportesModule.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { DndProvider, useDrag, useDrop } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\r\n\r\n/* ----------------------- COMPONENTES DRAG & DROP ----------------------- */\r\nconst DraggableField = ({ name, table }) => {\r\n  const [{ isDragging }, drag] = useDrag(() => ({\r\n    type: \"FIELD\",\r\n    item: { name, table },\r\n    collect: (monitor) => ({\r\n      isDragging: !!monitor.isDragging(),\r\n    }),\r\n  }));\r\n\r\n  return (\r\n    <div\r\n      ref={drag}\r\n      className=\"p-1 m-1 border bg-white shadow rounded cursor-pointer text-sm\"\r\n      style={{ opacity: isDragging ? 0.5 : 1 }}\r\n    >\r\n      {table}.{name}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DropZone = ({ onDrop, title, fields }) => {\r\n  const [{ isOver }, drop] = useDrop(() => ({\r\n    accept: \"FIELD\",\r\n    drop: (item) => onDrop(item),\r\n    collect: (monitor) => ({\r\n      isOver: !!monitor.isOver(),\r\n    }),\r\n  }));\r\n\r\n  return (\r\n    <div\r\n      ref={drop}\r\n      className={`p-2 border rounded min-h-[60px] mb-4 ${\r\n        isOver ? \"bg-green-100\" : \"bg-gray-50\"\r\n      }`}\r\n    >\r\n      <h4 className=\"font-semibold mb-2\">{title}</h4>\r\n      <div className=\"flex flex-wrap\">\r\n        {fields.map((f, i) => (\r\n          <span\r\n            key={i}\r\n            className=\"px-2 py-1 m-1 bg-blue-200 text-xs rounded\"\r\n          >\r\n            {f.table}.{f.name}\r\n          </span>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/* ----------------------- MODULO PRINCIPAL ----------------------- */\r\nconst ReportesModule = () => {\r\n  const [metadata, setMetadata] = useState({});\r\n  const [rows, setRows] = useState([]);\r\n  const [cols, setCols] = useState([]);\r\n  const [metrics, setMetrics] = useState([]);\r\n  const [data, setData] = useState([]);\r\n\r\n  const [tipoReporte, setTipoReporte] = useState(\"empleados_por_departamento\");\r\n  const [sqlQuery, setSqlQuery] = useState(\"\");\r\n\r\n  // Cargar metadata para constructor drag & drop\r\n  useEffect(() => {\r\n    axios.get(`${API_URL}/reportes/metadata`).then((res) => setMetadata(res.data));\r\n  }, []);\r\n\r\n  // Reporte predefinido\r\n  const fetchPredefinido = async () => {\r\n    const res = await axios.get(`${API_URL}/reportes/predefinidos/${tipoReporte}`);\r\n    setData(res.data);\r\n  };\r\n\r\n  // Reporte SQL libre\r\n  const fetchCustom = async () => {\r\n    const res = await axios.post(`${API_URL}/reportes/custom`, { sqlQuery });\r\n    setData(res.data);\r\n  };\r\n\r\n  // Reporte dinámico (drag & drop)\r\n  const generarSQL = () => {\r\n    if (rows.length === 0 || metrics.length === 0) return \"\";\r\n\r\n    const tablas = new Set([...rows, ...cols, ...metrics].map((f) => f.table));\r\n    const select = [...rows, ...cols, ...metrics].map(\r\n      (f) => `${f.table}.${f.name}`\r\n    );\r\n\r\n    let query = `SELECT ${select.join(\", \")} FROM ${Array.from(tablas).join(\r\n      \", \"\r\n    )}`;\r\n    query += \" /* TODO: relaciones automáticas */ \";\r\n\r\n    return query;\r\n  };\r\n\r\n  const ejecutarReporte = async () => {\r\n    const sqlQuery = generarSQL();\r\n    if (!sqlQuery) return alert(\"Debes seleccionar al menos una fila y una métrica\");\r\n\r\n    const res = await axios.post(`${API_URL}/reportes/custom`, { sqlQuery });\r\n    setData(res.data);\r\n  };\r\n\r\n  // Exportación\r\n  const exportar = async (formato) => {\r\n    const res = await axios.post(\r\n      `${API_URL}/reportes/export`,\r\n      { formato, data },\r\n      { responseType: \"blob\" }\r\n    );\r\n    const url = window.URL.createObjectURL(new Blob([res.data]));\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.setAttribute(\"download\", `reporte.${formato}`);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  };\r\n\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <div className=\"p-6\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">Módulo de Reportes</h2>\r\n\r\n        {/* ----------- Reportes Predefinidos ----------- */}\r\n        <div className=\"mb-6\">\r\n          <h3 className=\"font-semibold mb-2\">Reportes Predefinidos</h3>\r\n          <select\r\n            value={tipoReporte}\r\n            onChange={(e) => setTipoReporte(e.target.value)}\r\n          >\r\n            <option value=\"empleados_por_departamento\">Empleados por departamento</option>\r\n            <option value=\"vacantes_abiertas\">Vacantes abiertas</option>\r\n          </select>\r\n          <button\r\n            onClick={fetchPredefinido}\r\n            className=\"ml-2 px-4 py-1 bg-blue-500 text-white rounded\"\r\n          >\r\n            Generar\r\n          </button>\r\n        </div>\r\n\r\n        {/* ----------- SQL Libre ----------- */}\r\n        <div className=\"mb-6\">\r\n          <h3 className=\"font-semibold mb-2\">SQL Personalizado</h3>\r\n          <textarea\r\n            className=\"border w-full p-2\"\r\n            rows={3}\r\n            placeholder=\"Escribe tu consulta SQL (solo SELECT)...\"\r\n            value={sqlQuery}\r\n            onChange={(e) => setSqlQuery(e.target.value)}\r\n          />\r\n          <button\r\n            onClick={fetchCustom}\r\n            className=\"mt-2 px-4 py-1 bg-green-500 text-white rounded\"\r\n          >\r\n            Ejecutar SQL\r\n          </button>\r\n        </div>\r\n\r\n        {/* ----------- Constructor Drag & Drop ----------- */}\r\n        <div className=\"mb-6\">\r\n          <h3 className=\"font-semibold mb-2\">Constructor Visual</h3>\r\n          <div className=\"grid grid-cols-3 gap-4\">\r\n            {/* Campos disponibles */}\r\n            <div className=\"col-span-1 border p-2 rounded\">\r\n              <h3 className=\"font-semibold mb-2\">Campos disponibles</h3>\r\n              {Object.entries(metadata).map(([table, fields]) => (\r\n                <div key={table} className=\"mb-2\">\r\n                  <h4 className=\"font-bold\">{table}</h4>\r\n                  {fields.map((field) => (\r\n                    <DraggableField key={field} name={field} table={table} />\r\n                  ))}\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Constructor zonas */}\r\n            <div className=\"col-span-2\">\r\n              <DropZone title=\"Filas\" fields={rows} onDrop={(item) => setRows([...rows, item])} />\r\n              <DropZone title=\"Columnas\" fields={cols} onDrop={(item) => setCols([...cols, item])} />\r\n              <DropZone title=\"Métricas\" fields={metrics} onDrop={(item) => setMetrics([...metrics, item])} />\r\n\r\n              <button\r\n                onClick={ejecutarReporte}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded\"\r\n              >\r\n                Generar Reporte\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* ----------- Resultados ----------- */}\r\n        {data.length > 0 && (\r\n          <div className=\"mt-6\">\r\n            <h3 className=\"text-lg font-bold mb-2\">Resultado</h3>\r\n\r\n            {/* Exportación */}\r\n            <div className=\"mb-4\">\r\n              <button\r\n                onClick={() => exportar(\"csv\")}\r\n                className=\"mr-2 px-4 py-1 bg-gray-600 text-white rounded\"\r\n              >\r\n                CSV\r\n              </button>\r\n              <button\r\n                onClick={() => exportar(\"excel\")}\r\n                className=\"mr-2 px-4 py-1 bg-yellow-600 text-white rounded\"\r\n              >\r\n                Excel\r\n              </button>\r\n              <button\r\n                onClick={() => exportar(\"pdf\")}\r\n                className=\"px-4 py-1 bg-red-600 text-white rounded\"\r\n              >\r\n                PDF\r\n              </button>\r\n            </div>\r\n\r\n            {/* Tabla */}\r\n            <table className=\"table-auto border-collapse border border-gray-400 w-full mb-6\">\r\n              <thead>\r\n                <tr>\r\n                  {Object.keys(data[0]).map((key) => (\r\n                    <th key={key} className=\"border px-2 py-1\">\r\n                      {key}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {data.map((row, i) => (\r\n                  <tr key={i}>\r\n                    {Object.values(row).map((val, j) => (\r\n                      <td key={j} className=\"border px-2 py-1\">\r\n                        {val}\r\n                      </td>\r\n                    ))}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n\r\n            {/* Gráfico */}\r\n            <div style={{ width: \"100%\", height: 400 }}>\r\n              <ResponsiveContainer>\r\n                <BarChart data={data}>\r\n                  <XAxis dataKey={Object.keys(data[0])[0]} />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Legend />\r\n                  <Bar dataKey={Object.keys(data[0])[1]} fill=\"#8884d8\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </DndProvider>\r\n  );\r\n};\r\n\r\nexport default ReportesModule;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}