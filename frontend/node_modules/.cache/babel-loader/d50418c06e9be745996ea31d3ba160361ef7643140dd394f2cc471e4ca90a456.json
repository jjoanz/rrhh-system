{"ast":null,"code":"// src/api/nominaService.js\n// src/api/nominaService.js\nimport api from'./api';// usa la instancia unificada con token e interceptores\n// Obtener todas las nóminas con filtros opcionales\nexport const getNominas=async function(){let filtros=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const params=new URLSearchParams();if(filtros.periodo)params.append('periodo',filtros.periodo);if(filtros.empleadoId)params.append('empleadoId',filtros.empleadoId);if(filtros.estado)params.append('estado',filtros.estado);const response=await api.get(`/nomina/list?${params}`);return response.data;}catch(error){console.error('Error al obtener nóminas:',error);throw error;}};// Obtener detalle de nómina por ID\nexport const getNominaById=async id=>{try{const response=await api.get(`/nomina/${id}`);return response.data;}catch(error){console.error('Error al obtener detalle de nómina:',error);throw error;}};// Procesar nueva nómina\nexport const procesarNomina=async data=>{try{const response=await api.post('/nomina/procesar',data);return response.data;}catch(error){console.error('Error al procesar nómina:',error);throw error;}};// Marcar nóminas como pagadas\nexport const marcarNominaPagada=async data=>{try{const response=await api.put('/nomina/pagar',data);return response.data;}catch(error){console.error('Error al marcar nómina como pagada:',error);throw error;}};// Generar reporte de nómina\nexport const generarReporteNomina=async function(){let filtros=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const params=new URLSearchParams();if(filtros.periodo)params.append('periodo',filtros.periodo);if(filtros.tipo)params.append('tipo',filtros.tipo);const response=await api.get(`/nomina/reportes/generar?${params}`);return response.data;}catch(error){console.error('Error al generar reporte:',error);throw error;}};// Eliminar nómina\nexport const eliminarNomina=async id=>{try{const response=await api.delete(`/nomina/${id}`);return response.data;}catch(error){console.error('Error al eliminar nómina:',error);throw error;}};// Obtener empleados activos para nómina\nexport const getEmpleadosActivos=async()=>{try{const response=await api.get('/nomina/empleados-activos');return response.data;}catch(error){console.error('Error al obtener empleados activos:',error);throw error;}};","map":{"version":3,"names":["api","getNominas","filtros","arguments","length","undefined","params","URLSearchParams","periodo","append","empleadoId","estado","response","get","data","error","console","getNominaById","id","procesarNomina","post","marcarNominaPagada","put","generarReporteNomina","tipo","eliminarNomina","delete","getEmpleadosActivos"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/api/nominaService.js"],"sourcesContent":["// src/api/nominaService.js\r\n// src/api/nominaService.js\r\nimport api from './api'; // usa la instancia unificada con token e interceptores\r\n\r\n// Obtener todas las nóminas con filtros opcionales\r\nexport const getNominas = async (filtros = {}) => {\r\n  try {\r\n    const params = new URLSearchParams();\r\n    if (filtros.periodo) params.append('periodo', filtros.periodo);\r\n    if (filtros.empleadoId) params.append('empleadoId', filtros.empleadoId);\r\n    if (filtros.estado) params.append('estado', filtros.estado);\r\n\r\n    const response = await api.get(`/nomina/list?${params}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error al obtener nóminas:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Obtener detalle de nómina por ID\r\nexport const getNominaById = async (id) => {\r\n  try {\r\n    const response = await api.get(`/nomina/${id}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error al obtener detalle de nómina:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Procesar nueva nómina\r\nexport const procesarNomina = async (data) => {\r\n  try {\r\n    const response = await api.post('/nomina/procesar', data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error al procesar nómina:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Marcar nóminas como pagadas\r\nexport const marcarNominaPagada = async (data) => {\r\n  try {\r\n    const response = await api.put('/nomina/pagar', data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error al marcar nómina como pagada:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Generar reporte de nómina\r\nexport const generarReporteNomina = async (filtros = {}) => {\r\n  try {\r\n    const params = new URLSearchParams();\r\n    if (filtros.periodo) params.append('periodo', filtros.periodo);\r\n    if (filtros.tipo) params.append('tipo', filtros.tipo);\r\n\r\n    const response = await api.get(`/nomina/reportes/generar?${params}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error al generar reporte:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Eliminar nómina\r\nexport const eliminarNomina = async (id) => {\r\n  try {\r\n    const response = await api.delete(`/nomina/${id}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error al eliminar nómina:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Obtener empleados activos para nómina\r\nexport const getEmpleadosActivos = async () => {\r\n  try {\r\n    const response = await api.get('/nomina/empleados-activos');\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error al obtener empleados activos:', error);\r\n    throw error;\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}