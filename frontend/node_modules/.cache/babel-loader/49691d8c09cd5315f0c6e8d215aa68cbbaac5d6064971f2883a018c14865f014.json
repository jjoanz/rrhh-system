{"ast":null,"code":"// src/components/modules/Reportes/ReportesModule.jsx\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import{DndProvider,useDrag,useDrop}from\"react-dnd\";import{HTML5Backend}from\"react-dnd-html5-backend\";import{BarChart,Bar,XAxis,YAxis,Tooltip,Legend,ResponsiveContainer}from\"recharts\";import{useAuth}from\"../../../context/AuthContext\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||\"http://192.168.0.239:5000/api\";// ===================== CONFIGURACIÓN DE AXIOS =====================\n// Crear una instancia de axios con configuración base\nconst apiClient=axios.create({baseURL:API_URL,timeout:10000});// Función para configurar interceptors con el contexto de auth\nconst setupAxiosInterceptors=(getStoredToken,logout)=>{// Interceptor para agregar el token a todas las peticiones\napiClient.interceptors.request.use(config=>{const token=getStoredToken();if(token){config.headers.Authorization=`Bearer ${token}`;console.log('Enviando petición con token autorizado');}else{console.warn('No hay token disponible para la petición');}return config;},error=>{return Promise.reject(error);});// Interceptor para manejar respuestas y errores 401\napiClient.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){console.error('Error 401: Token inválido o expirado');// Usar el logout del contexto para limpiar sesión\nlogout();// Mostrar mensaje al usuario\nalert('Sesión expirada. Por favor, inicia sesión nuevamente.');}return Promise.reject(error);});};/* ----------------------- COMPONENTES DRAG & DROP ----------------------- */const DraggableField=_ref=>{let{name,table}=_ref;const[{isDragging},drag]=useDrag(()=>({type:\"FIELD\",item:{name,table},collect:monitor=>({isDragging:!!monitor.isDragging()})}));return/*#__PURE__*/_jsxs(\"div\",{ref:drag,className:\"p-1 m-1 border bg-white shadow rounded cursor-pointer text-sm\",style:{opacity:isDragging?0.5:1},children:[table,\".\",name]});};const DropZone=_ref2=>{let{onDrop,title,fields}=_ref2;const[{isOver},drop]=useDrop(()=>({accept:\"FIELD\",drop:item=>onDrop(item),collect:monitor=>({isOver:!!monitor.isOver()})}));return/*#__PURE__*/_jsxs(\"div\",{ref:drop,className:`p-2 border rounded min-h-[60px] mb-4 ${isOver?\"bg-green-100\":\"bg-gray-50\"}`,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:fields.map((f,i)=>/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 m-1 bg-blue-200 text-xs rounded\",children:[f.table,\".\",f.name]},i))})]});};/* ----------------------- MODULO PRINCIPAL ----------------------- */const ReportesModule=()=>{const{user,getStoredToken,logout}=useAuth();const[metadata,setMetadata]=useState({});const[rows,setRows]=useState([]);const[cols,setCols]=useState([]);const[metrics,setMetrics]=useState([]);const[data,setData]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[tipoReporte,setTipoReporte]=useState(\"empleados_por_departamento\");const[sqlQuery,setSqlQuery]=useState(\"\");// Configurar interceptors al montar el componente\nuseEffect(()=>{if(getStoredToken&&logout){setupAxiosInterceptors(getStoredToken,logout);console.log('Interceptors de axios configurados correctamente');}else{console.warn('No se pudieron configurar los interceptors - funciones no disponibles');}},[getStoredToken,logout]);// Cargar metadata para constructor drag & drop\nuseEffect(()=>{const loadMetadata=async()=>{// Solo cargar metadata si hay usuario autenticado\nif(!user||!getStoredToken()){console.log('No hay usuario autenticado, saltando carga de metadata');return;}try{setLoading(true);setError(null);console.log('Cargando metadata desde:',`${API_URL}/reportes/metadata`);const res=await apiClient.get('/reportes/metadata');console.log('Metadata cargada exitosamente:',res.data);setMetadata(res.data);}catch(err){var _err$response,_err$response2,_err$response3,_err$response4;console.error('Error completo cargando metadata:',err);console.error('Status:',(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status);console.error('Data:',(_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data);console.error('Message:',err.message);if(((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status)===404){setError('El endpoint de reportes no está disponible en el servidor');}else if(((_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.status)===401){setError('No tienes permisos para acceder a los reportes');}else if(err.code==='ECONNREFUSED'){setError('No se puede conectar al servidor. Verifica que esté ejecutándose.');}else{setError(`Error al cargar metadata: ${err.message||'Error desconocido'}`);}}finally{setLoading(false);}};loadMetadata();},[user,getStoredToken]);// Dependencias: solo cargar cuando cambie el usuario\n// Reporte predefinido\nconst fetchPredefinido=async()=>{if(!user){setError('Debes estar autenticado para generar reportes');return;}try{setLoading(true);setError(null);console.log('Generando reporte predefinido:',tipoReporte);const res=await apiClient.get(`/reportes/predefinidos/${tipoReporte}`);console.log('Reporte generado exitosamente:',res.data);setData(res.data);}catch(err){var _err$response5,_err$response6;console.error('Error completo en reporte predefinido:',err);if(((_err$response5=err.response)===null||_err$response5===void 0?void 0:_err$response5.status)===404){setError('El tipo de reporte seleccionado no está disponible');}else if(((_err$response6=err.response)===null||_err$response6===void 0?void 0:_err$response6.status)===401){setError('No tienes permisos para generar este reporte');}else{setError(`Error al generar el reporte: ${err.message||'Error desconocido'}`);}}finally{setLoading(false);}};// Reporte SQL libre\nconst fetchCustom=async()=>{try{setLoading(true);setError(null);const res=await apiClient.post('/reportes/custom',{sqlQuery});setData(res.data);}catch(err){console.error('Error en SQL custom:',err);setError('Error al ejecutar la consulta SQL');}finally{setLoading(false);}};// Reporte dinámico (drag & drop)\nconst generarSQL=()=>{if(rows.length===0||metrics.length===0)return\"\";const tablas=new Set([...rows,...cols,...metrics].map(f=>f.table));const select=[...rows,...cols,...metrics].map(f=>`${f.table}.${f.name}`);let query=`SELECT ${select.join(\", \")} FROM ${Array.from(tablas).join(\", \")}`;query+=\" /* TODO: relaciones automáticas */ \";return query;};const ejecutarReporte=async()=>{const sqlQuery=generarSQL();if(!sqlQuery){setError(\"Debes seleccionar al menos una fila y una métrica\");return;}try{setLoading(true);setError(null);const res=await apiClient.post('/reportes/custom',{sqlQuery});setData(res.data);}catch(err){console.error('Error ejecutando reporte:',err);setError('Error al ejecutar el reporte dinámico');}finally{setLoading(false);}};// Exportación\nconst exportar=async formato=>{try{setLoading(true);const res=await apiClient.post('/reportes/export',{formato,data},{responseType:\"blob\"});const url=window.URL.createObjectURL(new Blob([res.data]));const link=document.createElement(\"a\");link.href=url;link.setAttribute(\"download\",`reporte.${formato}`);document.body.appendChild(link);link.click();document.body.removeChild(link);window.URL.revokeObjectURL(url);}catch(err){console.error('Error exportando:',err);setError('Error al exportar el reporte');}finally{setLoading(false);}};// Función para verificar el estado del token y autenticación\nconst verificarEstadoAuth=()=>{const token=getStoredToken();const isValid=token&&token.length>10;console.log('=== ESTADO DE AUTENTICACIÓN ===');console.log('Usuario:',(user===null||user===void 0?void 0:user.name)||'No autenticado');console.log('Token presente:',token?'SI':'NO');console.log('Token válido:',isValid?'SI':'NO');console.log('Estado del usuario:',(user===null||user===void 0?void 0:user.estado)||'Desconocido');console.log('API URL configurada:',API_URL);console.log('===============================');if(!user){setError('No hay usuario autenticado. Por favor, inicia sesión.');return false;}if(!token){setError('No hay token de autenticación. Por favor, inicia sesión nuevamente.');return false;}return true;};// Función para probar la conexión con el servidor\nconst probarConexion=async()=>{try{setLoading(true);setError(null);console.log('Probando conexión con:',`${API_URL}/test`);const res=await apiClient.get('/test');console.log('Respuesta de prueba:',res.data);alert('Conexión exitosa con el servidor');}catch(err){console.error('Error de conexión:',err);const errorMessage=err.code==='ECONNREFUSED'?'No se puede conectar al servidor. Verifica que esté ejecutándose en el puerto correcto.':`Error de conexión: ${err.message}`;setError(errorMessage);alert(errorMessage);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(DndProvider,{backend:HTML5Backend,children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"M\\xF3dulo de Reportes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:verificarEstadoAuth,className:\"px-3 py-1 bg-blue-500 text-white rounded text-sm\",children:\"Verificar Auth\"}),/*#__PURE__*/_jsx(\"button\",{onClick:probarConexion,className:\"px-3 py-1 bg-purple-500 text-white rounded text-sm\",disabled:loading,children:\"Probar Conexi\\xF3n\"}),user&&/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-green-100 text-green-800 rounded text-sm\",children:user.name})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\",children:[error,/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),className:\"ml-2 text-red-500 hover:text-red-700\",children:\"\\xD7\"})]}),!user&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded\",children:\"No hay usuario autenticado. Por favor, inicia sesi\\xF3n para usar los reportes.\"}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-blue-100 border border-blue-400 text-blue-700 rounded\",children:\"Cargando...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Reportes Predefinidos\"}),/*#__PURE__*/_jsxs(\"select\",{value:tipoReporte,onChange:e=>setTipoReporte(e.target.value),disabled:loading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"empleados_por_departamento\",children:\"Empleados por departamento\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vacantes_abiertas\",children:\"Vacantes abiertas\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchPredefinido,disabled:loading,className:\"ml-2 px-4 py-1 bg-blue-500 text-white rounded disabled:opacity-50\",children:loading?'Generando...':'Generar'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"SQL Personalizado\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"border w-full p-2\",rows:3,placeholder:\"Escribe tu consulta SQL (solo SELECT)...\",value:sqlQuery,onChange:e=>setSqlQuery(e.target.value),disabled:loading}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchCustom,disabled:loading||!sqlQuery.trim(),className:\"mt-2 px-4 py-1 bg-green-500 text-white rounded disabled:opacity-50\",children:loading?'Ejecutando...':'Ejecutar SQL'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Constructor Visual\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1 border p-2 rounded\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Campos disponibles\"}),Object.keys(metadata).length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Cargando estructura...\"}):Object.entries(metadata).map(_ref3=>{let[table,fields]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold\",children:table}),fields.map(field=>/*#__PURE__*/_jsx(DraggableField,{name:field,table:table},field))]},table);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsx(DropZone,{title:\"Filas\",fields:rows,onDrop:item=>setRows([...rows,item])}),/*#__PURE__*/_jsx(DropZone,{title:\"Columnas\",fields:cols,onDrop:item=>setCols([...cols,item])}),/*#__PURE__*/_jsx(DropZone,{title:\"M\\xE9tricas\",fields:metrics,onDrop:item=>setMetrics([...metrics,item])}),/*#__PURE__*/_jsx(\"button\",{onClick:ejecutarReporte,disabled:loading||rows.length===0||metrics.length===0,className:\"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50\",children:loading?'Generando...':'Generar Reporte'})]})]})]}),data.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold mb-2\",children:\"Resultado\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>exportar(\"csv\"),disabled:loading,className:\"mr-2 px-4 py-1 bg-gray-600 text-white rounded disabled:opacity-50\",children:\"CSV\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>exportar(\"excel\"),disabled:loading,className:\"mr-2 px-4 py-1 bg-yellow-600 text-white rounded disabled:opacity-50\",children:\"Excel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>exportar(\"pdf\"),disabled:loading,className:\"px-4 py-1 bg-red-600 text-white rounded disabled:opacity-50\",children:\"PDF\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto border-collapse border border-gray-400 w-full mb-6\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:Object.keys(data[0]).map(key=>/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:key},key))})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((row,i)=>/*#__PURE__*/_jsx(\"tr\",{children:Object.values(row).map((val,j)=>/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1\",children:val},j))},i))})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",height:400},children:/*#__PURE__*/_jsx(ResponsiveContainer,{children:/*#__PURE__*/_jsxs(BarChart,{data:data,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:Object.keys(data[0])[0]}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:Object.keys(data[0])[1],fill:\"#8884d8\"})]})})})]})]})});};export default ReportesModule;","map":{"version":3,"names":["React","useState","useEffect","axios","DndProvider","useDrag","useDrop","HTML5Backend","BarChart","Bar","XAxis","YAxis","Tooltip","Legend","ResponsiveContainer","useAuth","jsxs","_jsxs","jsx","_jsx","API_URL","process","env","REACT_APP_API_URL","apiClient","create","baseURL","timeout","setupAxiosInterceptors","getStoredToken","logout","interceptors","request","use","config","token","headers","Authorization","console","log","warn","error","Promise","reject","response","_error$response","status","alert","DraggableField","_ref","name","table","isDragging","drag","type","item","collect","monitor","ref","className","style","opacity","children","DropZone","_ref2","onDrop","title","fields","isOver","drop","accept","map","f","i","ReportesModule","user","metadata","setMetadata","rows","setRows","cols","setCols","metrics","setMetrics","data","setData","loading","setLoading","setError","tipoReporte","setTipoReporte","sqlQuery","setSqlQuery","loadMetadata","res","get","err","_err$response","_err$response2","_err$response3","_err$response4","message","code","fetchPredefinido","_err$response5","_err$response6","fetchCustom","post","generarSQL","length","tablas","Set","select","query","join","Array","from","ejecutarReporte","exportar","formato","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","verificarEstadoAuth","isValid","estado","probarConexion","errorMessage","backend","onClick","disabled","value","onChange","e","target","placeholder","trim","Object","keys","entries","_ref3","field","key","row","values","val","j","width","height","dataKey","fill"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/components/modules/Reportes/ReportesModule.jsx"],"sourcesContent":["// src/components/modules/Reportes/ReportesModule.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { DndProvider, useDrag, useDrop } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\nimport { useAuth } from \"../../../context/AuthContext\";\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || \"http://192.168.0.239:5000/api\";\r\n\r\n// ===================== CONFIGURACIÓN DE AXIOS =====================\r\n// Crear una instancia de axios con configuración base\r\nconst apiClient = axios.create({\r\n  baseURL: API_URL,\r\n  timeout: 10000,\r\n});\r\n\r\n// Función para configurar interceptors con el contexto de auth\r\nconst setupAxiosInterceptors = (getStoredToken, logout) => {\r\n  // Interceptor para agregar el token a todas las peticiones\r\n  apiClient.interceptors.request.use(\r\n    (config) => {\r\n      const token = getStoredToken();\r\n      \r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n        console.log('Enviando petición con token autorizado');\r\n      } else {\r\n        console.warn('No hay token disponible para la petición');\r\n      }\r\n      \r\n      return config;\r\n    },\r\n    (error) => {\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  // Interceptor para manejar respuestas y errores 401\r\n  apiClient.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n      if (error.response?.status === 401) {\r\n        console.error('Error 401: Token inválido o expirado');\r\n        \r\n        // Usar el logout del contexto para limpiar sesión\r\n        logout();\r\n        \r\n        // Mostrar mensaje al usuario\r\n        alert('Sesión expirada. Por favor, inicia sesión nuevamente.');\r\n      }\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n};\r\n\r\n/* ----------------------- COMPONENTES DRAG & DROP ----------------------- */\r\nconst DraggableField = ({ name, table }) => {\r\n  const [{ isDragging }, drag] = useDrag(() => ({\r\n    type: \"FIELD\",\r\n    item: { name, table },\r\n    collect: (monitor) => ({\r\n      isDragging: !!monitor.isDragging(),\r\n    }),\r\n  }));\r\n\r\n  return (\r\n    <div\r\n      ref={drag}\r\n      className=\"p-1 m-1 border bg-white shadow rounded cursor-pointer text-sm\"\r\n      style={{ opacity: isDragging ? 0.5 : 1 }}\r\n    >\r\n      {table}.{name}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DropZone = ({ onDrop, title, fields }) => {\r\n  const [{ isOver }, drop] = useDrop(() => ({\r\n    accept: \"FIELD\",\r\n    drop: (item) => onDrop(item),\r\n    collect: (monitor) => ({\r\n      isOver: !!monitor.isOver(),\r\n    }),\r\n  }));\r\n\r\n  return (\r\n    <div\r\n      ref={drop}\r\n      className={`p-2 border rounded min-h-[60px] mb-4 ${\r\n        isOver ? \"bg-green-100\" : \"bg-gray-50\"\r\n      }`}\r\n    >\r\n      <h4 className=\"font-semibold mb-2\">{title}</h4>\r\n      <div className=\"flex flex-wrap\">\r\n        {fields.map((f, i) => (\r\n          <span\r\n            key={i}\r\n            className=\"px-2 py-1 m-1 bg-blue-200 text-xs rounded\"\r\n          >\r\n            {f.table}.{f.name}\r\n          </span>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/* ----------------------- MODULO PRINCIPAL ----------------------- */\r\nconst ReportesModule = () => {\r\n  const { user, getStoredToken, logout } = useAuth();\r\n  \r\n  const [metadata, setMetadata] = useState({});\r\n  const [rows, setRows] = useState([]);\r\n  const [cols, setCols] = useState([]);\r\n  const [metrics, setMetrics] = useState([]);\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const [tipoReporte, setTipoReporte] = useState(\"empleados_por_departamento\");\r\n  const [sqlQuery, setSqlQuery] = useState(\"\");\r\n\r\n  // Configurar interceptors al montar el componente\r\n  useEffect(() => {\r\n    if (getStoredToken && logout) {\r\n      setupAxiosInterceptors(getStoredToken, logout);\r\n      console.log('Interceptors de axios configurados correctamente');\r\n    } else {\r\n      console.warn('No se pudieron configurar los interceptors - funciones no disponibles');\r\n    }\r\n  }, [getStoredToken, logout]);\r\n\r\n  // Cargar metadata para constructor drag & drop\r\n  useEffect(() => {\r\n    const loadMetadata = async () => {\r\n      // Solo cargar metadata si hay usuario autenticado\r\n      if (!user || !getStoredToken()) {\r\n        console.log('No hay usuario autenticado, saltando carga de metadata');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        console.log('Cargando metadata desde:', `${API_URL}/reportes/metadata`);\r\n        const res = await apiClient.get('/reportes/metadata');\r\n        \r\n        console.log('Metadata cargada exitosamente:', res.data);\r\n        setMetadata(res.data);\r\n      } catch (err) {\r\n        console.error('Error completo cargando metadata:', err);\r\n        console.error('Status:', err.response?.status);\r\n        console.error('Data:', err.response?.data);\r\n        console.error('Message:', err.message);\r\n        \r\n        if (err.response?.status === 404) {\r\n          setError('El endpoint de reportes no está disponible en el servidor');\r\n        } else if (err.response?.status === 401) {\r\n          setError('No tienes permisos para acceder a los reportes');\r\n        } else if (err.code === 'ECONNREFUSED') {\r\n          setError('No se puede conectar al servidor. Verifica que esté ejecutándose.');\r\n        } else {\r\n          setError(`Error al cargar metadata: ${err.message || 'Error desconocido'}`);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadMetadata();\r\n  }, [user, getStoredToken]); // Dependencias: solo cargar cuando cambie el usuario\r\n\r\n  // Reporte predefinido\r\n  const fetchPredefinido = async () => {\r\n    if (!user) {\r\n      setError('Debes estar autenticado para generar reportes');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      console.log('Generando reporte predefinido:', tipoReporte);\r\n      const res = await apiClient.get(`/reportes/predefinidos/${tipoReporte}`);\r\n      console.log('Reporte generado exitosamente:', res.data);\r\n      setData(res.data);\r\n    } catch (err) {\r\n      console.error('Error completo en reporte predefinido:', err);\r\n      if (err.response?.status === 404) {\r\n        setError('El tipo de reporte seleccionado no está disponible');\r\n      } else if (err.response?.status === 401) {\r\n        setError('No tienes permisos para generar este reporte');\r\n      } else {\r\n        setError(`Error al generar el reporte: ${err.message || 'Error desconocido'}`);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Reporte SQL libre\r\n  const fetchCustom = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const res = await apiClient.post('/reportes/custom', { sqlQuery });\r\n      setData(res.data);\r\n    } catch (err) {\r\n      console.error('Error en SQL custom:', err);\r\n      setError('Error al ejecutar la consulta SQL');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Reporte dinámico (drag & drop)\r\n  const generarSQL = () => {\r\n    if (rows.length === 0 || metrics.length === 0) return \"\";\r\n\r\n    const tablas = new Set([...rows, ...cols, ...metrics].map((f) => f.table));\r\n    const select = [...rows, ...cols, ...metrics].map(\r\n      (f) => `${f.table}.${f.name}`\r\n    );\r\n\r\n    let query = `SELECT ${select.join(\", \")} FROM ${Array.from(tablas).join(\r\n      \", \"\r\n    )}`;\r\n    query += \" /* TODO: relaciones automáticas */ \";\r\n\r\n    return query;\r\n  };\r\n\r\n  const ejecutarReporte = async () => {\r\n    const sqlQuery = generarSQL();\r\n    if (!sqlQuery) {\r\n      setError(\"Debes seleccionar al menos una fila y una métrica\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const res = await apiClient.post('/reportes/custom', { sqlQuery });\r\n      setData(res.data);\r\n    } catch (err) {\r\n      console.error('Error ejecutando reporte:', err);\r\n      setError('Error al ejecutar el reporte dinámico');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Exportación\r\n  const exportar = async (formato) => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiClient.post(\r\n        '/reportes/export',\r\n        { formato, data },\r\n        { responseType: \"blob\" }\r\n      );\r\n      \r\n      const url = window.URL.createObjectURL(new Blob([res.data]));\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.setAttribute(\"download\", `reporte.${formato}`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      console.error('Error exportando:', err);\r\n      setError('Error al exportar el reporte');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Función para verificar el estado del token y autenticación\r\n  const verificarEstadoAuth = () => {\r\n    const token = getStoredToken();\r\n    const isValid = token && token.length > 10;\r\n    \r\n    console.log('=== ESTADO DE AUTENTICACIÓN ===');\r\n    console.log('Usuario:', user?.name || 'No autenticado');\r\n    console.log('Token presente:', token ? 'SI' : 'NO');\r\n    console.log('Token válido:', isValid ? 'SI' : 'NO');\r\n    console.log('Estado del usuario:', user?.estado || 'Desconocido');\r\n    console.log('API URL configurada:', API_URL);\r\n    console.log('===============================');\r\n    \r\n    if (!user) {\r\n      setError('No hay usuario autenticado. Por favor, inicia sesión.');\r\n      return false;\r\n    }\r\n    \r\n    if (!token) {\r\n      setError('No hay token de autenticación. Por favor, inicia sesión nuevamente.');\r\n      return false;\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n  // Función para probar la conexión con el servidor\r\n  const probarConexion = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      console.log('Probando conexión con:', `${API_URL}/test`);\r\n      const res = await apiClient.get('/test');\r\n      console.log('Respuesta de prueba:', res.data);\r\n      \r\n      alert('Conexión exitosa con el servidor');\r\n    } catch (err) {\r\n      console.error('Error de conexión:', err);\r\n      const errorMessage = err.code === 'ECONNREFUSED' \r\n        ? 'No se puede conectar al servidor. Verifica que esté ejecutándose en el puerto correcto.'\r\n        : `Error de conexión: ${err.message}`;\r\n      \r\n      setError(errorMessage);\r\n      alert(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <div className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-2xl font-bold\">Módulo de Reportes</h2>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={verificarEstadoAuth}\r\n              className=\"px-3 py-1 bg-blue-500 text-white rounded text-sm\"\r\n            >\r\n              Verificar Auth\r\n            </button>\r\n            <button\r\n              onClick={probarConexion}\r\n              className=\"px-3 py-1 bg-purple-500 text-white rounded text-sm\"\r\n              disabled={loading}\r\n            >\r\n              Probar Conexión\r\n            </button>\r\n            {user && (\r\n              <span className=\"px-3 py-1 bg-green-100 text-green-800 rounded text-sm\">\r\n                {user.name}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mostrar errores */}\r\n        {error && (\r\n          <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n            {error}\r\n            <button\r\n              onClick={() => setError(null)}\r\n              className=\"ml-2 text-red-500 hover:text-red-700\"\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Mostrar estado de autenticación */}\r\n        {!user && (\r\n          <div className=\"mb-4 p-3 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded\">\r\n            No hay usuario autenticado. Por favor, inicia sesión para usar los reportes.\r\n          </div>\r\n        )}\r\n\r\n        {/* Indicador de carga */}\r\n        {loading && (\r\n          <div className=\"mb-4 p-3 bg-blue-100 border border-blue-400 text-blue-700 rounded\">\r\n            Cargando...\r\n          </div>\r\n        )}\r\n\r\n        {/* ----------- Reportes Predefinidos ----------- */}\r\n        <div className=\"mb-6\">\r\n          <h3 className=\"font-semibold mb-2\">Reportes Predefinidos</h3>\r\n          <select\r\n            value={tipoReporte}\r\n            onChange={(e) => setTipoReporte(e.target.value)}\r\n            disabled={loading}\r\n          >\r\n            <option value=\"empleados_por_departamento\">Empleados por departamento</option>\r\n            <option value=\"vacantes_abiertas\">Vacantes abiertas</option>\r\n          </select>\r\n          <button\r\n            onClick={fetchPredefinido}\r\n            disabled={loading}\r\n            className=\"ml-2 px-4 py-1 bg-blue-500 text-white rounded disabled:opacity-50\"\r\n          >\r\n            {loading ? 'Generando...' : 'Generar'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* ----------- SQL Libre ----------- */}\r\n        <div className=\"mb-6\">\r\n          <h3 className=\"font-semibold mb-2\">SQL Personalizado</h3>\r\n          <textarea\r\n            className=\"border w-full p-2\"\r\n            rows={3}\r\n            placeholder=\"Escribe tu consulta SQL (solo SELECT)...\"\r\n            value={sqlQuery}\r\n            onChange={(e) => setSqlQuery(e.target.value)}\r\n            disabled={loading}\r\n          />\r\n          <button\r\n            onClick={fetchCustom}\r\n            disabled={loading || !sqlQuery.trim()}\r\n            className=\"mt-2 px-4 py-1 bg-green-500 text-white rounded disabled:opacity-50\"\r\n          >\r\n            {loading ? 'Ejecutando...' : 'Ejecutar SQL'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* ----------- Constructor Drag & Drop ----------- */}\r\n        <div className=\"mb-6\">\r\n          <h3 className=\"font-semibold mb-2\">Constructor Visual</h3>\r\n          <div className=\"grid grid-cols-3 gap-4\">\r\n            {/* Campos disponibles */}\r\n            <div className=\"col-span-1 border p-2 rounded\">\r\n              <h3 className=\"font-semibold mb-2\">Campos disponibles</h3>\r\n              {Object.keys(metadata).length === 0 ? (\r\n                <p className=\"text-gray-500\">Cargando estructura...</p>\r\n              ) : (\r\n                Object.entries(metadata).map(([table, fields]) => (\r\n                  <div key={table} className=\"mb-2\">\r\n                    <h4 className=\"font-bold\">{table}</h4>\r\n                    {fields.map((field) => (\r\n                      <DraggableField key={field} name={field} table={table} />\r\n                    ))}\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n\r\n            {/* Constructor zonas */}\r\n            <div className=\"col-span-2\">\r\n              <DropZone title=\"Filas\" fields={rows} onDrop={(item) => setRows([...rows, item])} />\r\n              <DropZone title=\"Columnas\" fields={cols} onDrop={(item) => setCols([...cols, item])} />\r\n              <DropZone title=\"Métricas\" fields={metrics} onDrop={(item) => setMetrics([...metrics, item])} />\r\n\r\n              <button\r\n                onClick={ejecutarReporte}\r\n                disabled={loading || rows.length === 0 || metrics.length === 0}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50\"\r\n              >\r\n                {loading ? 'Generando...' : 'Generar Reporte'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* ----------- Resultados ----------- */}\r\n        {data.length > 0 && (\r\n          <div className=\"mt-6\">\r\n            <h3 className=\"text-lg font-bold mb-2\">Resultado</h3>\r\n\r\n            {/* Exportación */}\r\n            <div className=\"mb-4\">\r\n              <button\r\n                onClick={() => exportar(\"csv\")}\r\n                disabled={loading}\r\n                className=\"mr-2 px-4 py-1 bg-gray-600 text-white rounded disabled:opacity-50\"\r\n              >\r\n                CSV\r\n              </button>\r\n              <button\r\n                onClick={() => exportar(\"excel\")}\r\n                disabled={loading}\r\n                className=\"mr-2 px-4 py-1 bg-yellow-600 text-white rounded disabled:opacity-50\"\r\n              >\r\n                Excel\r\n              </button>\r\n              <button\r\n                onClick={() => exportar(\"pdf\")}\r\n                disabled={loading}\r\n                className=\"px-4 py-1 bg-red-600 text-white rounded disabled:opacity-50\"\r\n              >\r\n                PDF\r\n              </button>\r\n            </div>\r\n\r\n            {/* Tabla */}\r\n            <table className=\"table-auto border-collapse border border-gray-400 w-full mb-6\">\r\n              <thead>\r\n                <tr>\r\n                  {Object.keys(data[0]).map((key) => (\r\n                    <th key={key} className=\"border px-2 py-1\">\r\n                      {key}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {data.map((row, i) => (\r\n                  <tr key={i}>\r\n                    {Object.values(row).map((val, j) => (\r\n                      <td key={j} className=\"border px-2 py-1\">\r\n                        {val}\r\n                      </td>\r\n                    ))}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n\r\n            {/* Gráfico */}\r\n            <div style={{ width: \"100%\", height: 400 }}>\r\n              <ResponsiveContainer>\r\n                <BarChart data={data}>\r\n                  <XAxis dataKey={Object.keys(data[0])[0]} />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Legend />\r\n                  <Bar dataKey={Object.keys(data[0])[1]} fill=\"#8884d8\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </DndProvider>\r\n  );\r\n};\r\n\r\nexport default ReportesModule;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}