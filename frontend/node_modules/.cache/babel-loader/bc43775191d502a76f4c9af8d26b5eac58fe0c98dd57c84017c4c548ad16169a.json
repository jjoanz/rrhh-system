{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getNominas,procesarNomina,getNominaById,marcarNominaPagada,getEmpleadosActivos}from'../../../api/nominaService';import{DollarSign,Download,Calendar,FileText,Eye,Calculator,CreditCard,PieChart,TrendingUp,Settings,AlertCircle,CheckCircle,Clock,User,Building,Users,Edit,Trash2,Plus,Search,Filter,Mail,Upload,Save,X,UserPlus,Briefcase,MapPin,Phone,FileBarChart,Banknote,Receipt,Send,Award,Gift,Zap,FileCheck,BarChart3,Target,ShieldCheck,ArrowRight}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SistemaNominaCompleto=()=>{var _tabs$find;// Estados principales\nconst[activeTab,setActiveTab]=useState('empleados');const[nominasProcesadas,setNominasProcesadas]=useState([]);const[empleados,setEmpleados]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);console.log('📋 Estado actual empleados:',(empleados===null||empleados===void 0?void 0:empleados.length)||0,empleados);console.log('🔄 Loading:',loading);console.log('❌ Error:',error);// Función para cargar empleados\nconst cargarEmpleados=async()=>{try{console.log('🚀 Iniciando cargarEmpleados...');setLoading(true);setError(null);const data=await getEmpleadosActivos();console.log('✅ Empleados recibidos:',data);console.log('📊 Cantidad de empleados:',(data===null||data===void 0?void 0:data.length)||0);setEmpleados(data);console.log('🎯 Estado empleados después de setEmpleados:',data);}catch(error){console.error('❌ Error al cargar empleados:',error);setError('Error al cargar empleados desde la base de datos');}finally{setLoading(false);}};// useEffect para cargar cuando cambie de tab\nuseEffect(()=>{console.log('🔄 Tab cambió a:',activeTab);console.log('🔄 Tipo de activeTab:',typeof activeTab);if(activeTab==='empleados'){console.log('✅ Ejecutando cargarEmpleados...');cargarEmpleados();}else{console.log('❌ activeTab no es \"empleados\", es:',activeTab);}},[activeTab]);// resto de tu código...\n// Modal de incidencias\nconst ModalIncidencia=_ref=>{let{empleado,onClose,onSave,empleados,configNomina}=_ref;const[formData,setFormData]=useState({empleadoId:(empleado===null||empleado===void 0?void 0:empleado.id)||'',tipo:'horas_extra',fecha:new Date().toISOString().split('T')[0],fechaInicio:'',fechaFin:'',horas:0,tipoRecargo:'extra_normal',diasSolicitados:0,conGoce:true,justificada:true,motivo:'',descripcion:'',aprobado:false});const handleSubmit=e=>{e.preventDefault();onSave(formData);};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 20px 25px rgba(0,0,0,0.1)',maxWidth:'600px',width:'100%',maxHeight:'90vh',overflow:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827'},children:\"\\uD83D\\uDCCB Nueva Incidencia\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{padding:'0.25rem',background:'#f3f4f6',border:'none',borderRadius:'0.25rem',cursor:'pointer'},children:/*#__PURE__*/_jsx(X,{style:{width:'1rem',height:'1rem'}})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{padding:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Empleado *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.empleadoId,onChange:e=>setFormData(prev=>({...prev,empleadoId:Number(e.target.value)})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar empleado\"}),empleados.filter(e=>e.estado==='activo').map(emp=>/*#__PURE__*/_jsxs(\"option\",{value:emp.id,children:[emp.nombre,\" \",emp.apellidos,\" - \",emp.cargo]},emp.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Tipo de Incidencia *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.tipo,onChange:e=>setFormData(prev=>({...prev,tipo:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"horas_extra\",children:\"Horas Extra\"}),/*#__PURE__*/_jsx(\"option\",{value:\"falta\",children:\"Falta\"}),/*#__PURE__*/_jsx(\"option\",{value:\"permiso\",children:\"Permiso\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vacaciones\",children:\"Vacaciones\"}),/*#__PURE__*/_jsx(\"option\",{value:\"licencia\",children:\"Licencia M\\xE9dica\"})]})]}),formData.tipo==='horas_extra'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Fecha *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.fecha,onChange:e=>setFormData(prev=>({...prev,fecha:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Horas Trabajadas *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.horas,onChange:e=>setFormData(prev=>({...prev,horas:Number(e.target.value)})),min:\"0\",max:\"12\",step:\"0.5\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Tipo de Recargo *\"}),/*#__PURE__*/_jsx(\"select\",{value:formData.tipoRecargo,onChange:e=>setFormData(prev=>({...prev,tipoRecargo:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},children:configNomina.recargosHorarios.map(recargo=>/*#__PURE__*/_jsx(\"option\",{value:recargo.tipo,children:recargo.nombre},recargo.tipo))})]})]}),(formData.tipo==='permiso'||formData.tipo==='vacaciones'||formData.tipo==='licencia')&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Fecha Inicio *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.fechaInicio,onChange:e=>setFormData(prev=>({...prev,fechaInicio:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Fecha Fin *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.fechaFin,onChange:e=>setFormData(prev=>({...prev,fechaFin:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"D\\xEDas Solicitados *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.diasSolicitados,onChange:e=>setFormData(prev=>({...prev,diasSolicitados:Number(e.target.value)})),min:\"1\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]}),formData.tipo==='permiso'&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.conGoce,onChange:e=>setFormData(prev=>({...prev,conGoce:e.target.checked}))}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',fontWeight:'500'},children:\"Con goce de sueldo\"})]})})]}),formData.tipo==='falta'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Fecha de la Falta *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.fecha,onChange:e=>setFormData(prev=>({...prev,fecha:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.justificada,onChange:e=>setFormData(prev=>({...prev,justificada:e.target.checked}))}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',fontWeight:'500'},children:\"Falta justificada\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:formData.tipo==='falta'?'Motivo/Justificación':'Motivo'}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.motivo,onChange:e=>setFormData(prev=>({...prev,motivo:e.target.value})),rows:\"3\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem',resize:'vertical'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Descripci\\xF3n Adicional\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.descripcion,onChange:e=>setFormData(prev=>({...prev,descripcion:e.target.value})),rows:\"2\",placeholder:\"Detalles adicionales sobre la incidencia...\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem',resize:'vertical'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',marginTop:'1.5rem',paddingTop:'1rem',borderTop:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,style:{flex:1,padding:'0.75rem',background:'#f3f4f6',color:'#374151',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{flex:1,padding:'0.75rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:\"Registrar Incidencia\"})]})]})]})});};const[selectedPeriodo,setSelectedPeriodo]=useState('2024-07');const[user]=useState({role:'admin'});// Usuario actual\n// Estados para modales\nconst[modalEmpleado,setModalEmpleado]=useState({open:false,empleado:null,modo:'crear'});const[modalIncidencia,setModalIncidencia]=useState({open:false,empleado:null});const[modalRecibo,setModalRecibo]=useState({open:false,nomina:null});const[modalPrestaciones,setModalPrestaciones]=useState({open:false,empleado:null});const[modalOperacionMasiva,setModalOperacionMasiva]=useState({open:false,tipo:null});const[tablaISR,setTablaISR]=useState([{desde:0,hasta:416220.00,porcentaje:0,montoFijo:0},{desde:416220.01,hasta:624329.01,porcentaje:15,montoFijo:0},{desde:624329.02,hasta:867123.02,porcentaje:20,montoFijo:31215.39},{desde:867123.03,hasta:999999999,porcentaje:25,montoFijo:79774.18}]);const[tssEmpleado,setTssEmpleado]=useState([{codigo:'TSS_AFP',nombre:'TSS - AFP (Pensiones)',porcentaje:2.87,aplicaSobre:'salario_cotizable',limite:'salario_minimo_10_veces'},{codigo:'TSS_SFS',nombre:'TSS - SFS (Salud)',porcentaje:3.04,aplicaSobre:'salario_cotizable',limite:'salario_minimo_10_veces'}]);const[aportesPatronales,setAportesPatronales]=useState([{codigo:'TSS_AFP_PATRONAL',nombre:'TSS - AFP Patronal (Pensiones)',porcentaje:7.10},{codigo:'TSS_SFS_PATRONAL',nombre:'TSS - SFS Patronal (Salud)',porcentaje:7.09},{codigo:'TSS_SRL',nombre:'TSS - Riesgo Laboral',porcentaje:1.10},{codigo:'INFOTEP',nombre:'INFOTEP',porcentaje:1.0}]);// Configuración avanzada\nconst[configNomina,setConfigNomina]=useState({empresa:{nombre:'Mi Empresa S.R.L.',rnc:'123456789',direccion:'Av. Principal #100, Santo Domingo',telefono:'809-555-0000',representanteLegal:'Director General'},periodicidad:'mensual',moneda:'DOP',horasLaboralesDia:8,diasLaboralesSemana:5,salarioMinimo:21000,// Prestaciones laborales RD\nprestaciones:{vacaciones:{diasPorAno:14,pagaDoble:true// Se paga doble cuando se toman\n},regaliaNavidena:{activada:true,fechaCalculo:'12-20',// 20 de diciembre\nminimoDias:3// Mínimo 3 meses trabajados\n},cesantia:{diasPorAno:23,maxAnosCalcular:15,baseSalarioPromedio:true},preaviso:{escalas:[{desdeAnosAntiguedad:0,hastaAnosAntiguedad:3,diasPreaviso:0},{desdeAnosAntiguedad:3,hastaAnosAntiguedad:5,diasPreaviso:14},{desdeAnosAntiguedad:5,hastaAnosAntiguedad:999,diasPreaviso:28}]}},// Deducciones legales RD actualizadas\ndeduccionesLegales:[{codigo:'TSS_AFP',nombre:'TSS - AFP (Pensiones)',porcentaje:2.87,aplicaSobre:'salario_cotizable',limite:'salario_minimo_10_veces'},{codigo:'TSS_SFS',nombre:'TSS - SFS (Salud)',porcentaje:3.04,aplicaSobre:'salario_cotizable',limite:'salario_minimo_10_veces'},{codigo:'ISR',nombre:'Impuesto Sobre la Renta',aplicaSobre:'salario_gravable',escalas:[{desde:0,hasta:416220.00,porcentaje:0,montoFijo:0},{desde:416220.01,hasta:624329.01,porcentaje:15,montoFijo:0},{desde:624329.02,hasta:867123.02,porcentaje:20,montoFijo:31215.39},{desde:867123.03,hasta:999999999,porcentaje:25,montoFijo:79774.18}]}],// Aportes patronales\naportesPatronales:[{codigo:'TSS_AFP_PATRONAL',nombre:'TSS - AFP Patronal (Pensiones)',porcentaje:7.10},{codigo:'TSS_SFS_PATRONAL',nombre:'TSS - SFS Patronal (Salud)',porcentaje:7.09},{codigo:'TSS_SRL',nombre:'TSS - Riesgo Laboral',porcentaje:1.10},{codigo:'INFOTEP',nombre:'INFOTEP',porcentaje:1.0}],// Recargos horarios\nrecargosHorarios:[{tipo:'extra_normal',nombre:'Horas Extras Diurnas (35%)',multiplicador:1.35},{tipo:'extra_nocturna',nombre:'Horas Nocturnas (75%)',multiplicador:1.75},{tipo:'extra_dominical',nombre:'Domingo/Feriado (100%)',multiplicador:2.0}],// Bonificaciones\nbonificaciones:[{codigo:'TRANSPORTE',nombre:'Auxilio de Transporte',monto:3000,tipo:'fijo',activa:true},{codigo:'ALIMENTACION',nombre:'Auxilio de Alimentación',monto:2500,tipo:'fijo',activa:true},{codigo:'RENDIMIENTO',nombre:'Bono por Rendimiento',porcentaje:5,tipo:'variable',activa:false}]});// Gestión de incidencias mejorada\nconst[incidencias,setIncidencias]=useState([{id:1,empleadoId:1,tipo:'horas_extra',fecha:'2024-07-15',horas:3,tipoRecargo:'extra_normal',descripcion:'Trabajo adicional proyecto urgente',aprobado:true,apropadoPor:2,fechaAprobacion:'2024-07-16'},{id:2,empleadoId:1,tipo:'vacaciones',fechaInicio:'2024-07-22',fechaFin:'2024-07-26',diasSolicitados:5,conGoce:true,motivo:'Vacaciones familiares',aprobado:true,fechaAprobacion:'2024-07-10'}]);// Nóminas procesadas\nconst cargarNominas=async()=>{try{setLoading(true);setError(null);const data=await getNominas();// ✅ CAMBIAR: debe ser getNominas()\nsetNominasProcesadas(data);console.log('Nóminas cargadas:',data);}catch(error){console.error('Error al cargar nóminas:',error);setError('Error al cargar nóminas desde la base de datos');}finally{setLoading(false);}};useEffect(()=>{if(activeTab==='nomina'){cargarNominas();}},[activeTab]);// Utilidades\nconst formatearMoneda=valor=>{return new Intl.NumberFormat('es-DO',{style:'currency',currency:'DOP',minimumFractionDigits:2}).format(valor);};const formatearFecha=fecha=>{return new Date(fecha).toLocaleDateString('es-DO');};const calcularEdad=fechaNacimiento=>{const hoy=new Date();const nacimiento=new Date(fechaNacimiento);let edad=hoy.getFullYear()-nacimiento.getFullYear();const m=hoy.getMonth()-nacimiento.getMonth();if(m<0||m===0&&hoy.getDate()<nacimiento.getDate())edad--;return edad;};const calcularAntiguedad=fechaIngreso=>{const hoy=new Date();const ingreso=new Date(fechaIngreso);const diffTime=Math.abs(hoy-ingreso);const diffDays=Math.ceil(diffTime/(1000*60*60*24));const años=Math.floor(diffDays/365);const meses=Math.floor(diffDays%365/30);return{años,meses,totalDias:diffDays};};// Validaciones de formularios\nconst validarEmpleado=empleado=>{var _empleado$nombre,_empleado$apellidos,_empleado$cedula,_empleado$cargo;const errores=[];if(!((_empleado$nombre=empleado.nombre)!==null&&_empleado$nombre!==void 0&&_empleado$nombre.trim()))errores.push('El nombre es requerido');if(!((_empleado$apellidos=empleado.apellidos)!==null&&_empleado$apellidos!==void 0&&_empleado$apellidos.trim()))errores.push('Los apellidos son requeridos');if(!((_empleado$cedula=empleado.cedula)!==null&&_empleado$cedula!==void 0&&_empleado$cedula.trim()))errores.push('La cédula es requerida');// Validar formato de cédula dominicana\nconst cedulaRegex=/^\\d{3}-\\d{7}-\\d{1}$/;if(empleado.cedula&&!cedulaRegex.test(empleado.cedula)){errores.push('Formato de cédula inválido (000-0000000-0)');}if(!((_empleado$cargo=empleado.cargo)!==null&&_empleado$cargo!==void 0&&_empleado$cargo.trim()))errores.push('El cargo es requerido');if(!empleado.salarioBase||empleado.salarioBase<=0)errores.push('El salario debe ser mayor a 0');if(empleado.salarioBase<configNomina.salarioMinimo){errores.push(`El salario no puede ser menor al mínimo (${formatearMoneda(configNomina.salarioMinimo)})`);}return errores;};// Cálculo de prestaciones laborales\nconst calcularPrestaciones=empleado=>{const antiguedad=calcularAntiguedad(empleado.fechaIngreso);const salarioMensual=empleado.salarioBase;const salarioDiario=salarioMensual/30;// Vacaciones (14 días por año)\nconst vacacionesDias=Math.floor(antiguedad.totalDias/365*configNomina.prestaciones.vacaciones.diasPorAno);const vacacionesValor=vacacionesDias*salarioDiario*(configNomina.prestaciones.vacaciones.pagaDoble?2:1);// Cesantía (23 días por año, máximo 15 años)\nconst añosParaCesantia=Math.min(antiguedad.años,configNomina.prestaciones.cesantia.maxAnosCalcular);const cesantiaDias=añosParaCesantia*configNomina.prestaciones.cesantia.diasPorAno;const cesantiaValor=cesantiaDias*salarioDiario;// Regalía navideña (salario completo si trabajó 12 meses, proporcional si menos)\nconst mesesTrabajadosAnoActual=new Date().getMonth()+1;// Simplificado\nconst regaliaDiciembreValor=mesesTrabajadosAnoActual/12*salarioMensual;// Preaviso según antigüedad\nconst preaviso=configNomina.prestaciones.preaviso.escalas.find(escala=>antiguedad.años>=escala.desdeAnosAntiguedad&&antiguedad.años<escala.hastaAnosAntiguedad);const preavisoValor=preaviso?preaviso.diasPreaviso*salarioDiario:0;return{vacaciones:{dias:vacacionesDias,valor:vacacionesValor},cesantia:{dias:cesantiaDias,valor:cesantiaValor},regaliaDiciembre:{valor:regaliaDiciembreValor,proporcional:mesesTrabajadosAnoActual<12},preaviso:{dias:(preaviso===null||preaviso===void 0?void 0:preaviso.diasPreaviso)||0,valor:preavisoValor},totalPrestaciones:vacacionesValor+cesantiaValor+regaliaDiciembreValor+preavisoValor};};// Cálculo mejorado de nómina\nconst calcularNominaEmpleado=(empleadoId,periodo)=>{var _empleado$estado;const empleado=empleados.find(e=>e.id===empleadoId);if(!empleado||((_empleado$estado=empleado.estado)===null||_empleado$estado===void 0?void 0:_empleado$estado.toLowerCase())!=='activo')return null;// Obtener incidencias del período\nconst incidenciasPeriodo=incidencias.filter(i=>{var _i$fecha,_i$fechaInicio,_i$fechaFin;return i.empleadoId===empleadoId&&(((_i$fecha=i.fecha)===null||_i$fecha===void 0?void 0:_i$fecha.startsWith(periodo))||((_i$fechaInicio=i.fechaInicio)===null||_i$fechaInicio===void 0?void 0:_i$fechaInicio.startsWith(periodo))||((_i$fechaFin=i.fechaFin)===null||_i$fechaFin===void 0?void 0:_i$fechaFin.startsWith(periodo)));});// Calcular salario base\nlet salarioBase=empleado.salarioBase;if(empleado.tipoSalario==='por_hora'){const horasNormales=184;// Aproximado mensual\nsalarioBase=empleado.salarioBase*horasNormales;}// ✅ Horas extras solo manuales\nconst valorHora=empleado.tipoSalario==='por_hora'?empleado.salarioBase:empleado.salarioBase/184;// Si no tiene definido horasExtras, se asume 0\nconst horasExtras=(empleado.horasExtras||0)*valorHora;// Calcular descuentos por faltas\nconst faltas=incidenciasPeriodo.filter(i=>i.tipo==='falta'&&!i.justificada);const descuentoFaltas=faltas.reduce((total,falta)=>{const valorDia=salarioBase/30;return total+valorDia;},0);// Calcular bonificaciones (desactivadas por ahora)\nconst bonificacionesFijas=0;const bonificacionesVariables=0;const totalBonificaciones=0;// Solo salario base menos descuentos\nconst totalDevengado=salarioBase-descuentoFaltas;// Calcular deducciones legales\n// TSS AFP (2.87%)\nconst deduccionTSS_AFP=Math.min(totalDevengado*2.87/100,configNomina.salarioMinimo*10*2.87/100);// TSS SFS (3.04%)\nconst deduccionTSS_SFS=Math.min(totalDevengado*3.04/100,configNomina.salarioMinimo*10*3.04/100);const deduccionTSS=deduccionTSS_AFP+deduccionTSS_SFS;// 5.91% total\n// Calcular ISR por escalas\n// Calcular ISR por escalas (método correcto DGII)\nlet deduccionISR=0;const salarioAnual=totalDevengado*12;if(salarioAnual>416220.00){if(salarioAnual<=624329.01){// Escala 2: 15% sobre excedente de 416,220\ndeduccionISR=(salarioAnual-416220.00)*0.15;}else if(salarioAnual<=867123.02){// Escala 3: 31,215.39 + 20% sobre excedente de 624,329.01\ndeduccionISR=31215.39+(salarioAnual-624329.01)*0.20;}else{// Escala 4: 79,774.18 + 25% sobre excedente de 867,123.02\ndeduccionISR=79774.18+(salarioAnual-867123.02)*0.25;}}deduccionISR=deduccionISR/12;// Mensual\nconst totalDeducciones=deduccionTSS+deduccionISR;const salarioNeto=totalDevengado-totalDeducciones;return{empleado,periodo,conceptos:{salarioBase,horasExtras,bonificaciones:totalBonificaciones,descuentoFaltas,totalDevengado,deduccionTSS,deduccionISR,totalDeducciones,salarioNeto},incidencias:incidenciasPeriodo,prestaciones:calcularPrestaciones(empleado)};};// Operaciones masivas\nconst ejecutarOperacionMasiva=(tipo,parametros)=>{setLoading(true);setTimeout(()=>{switch(tipo){case'aumento_salarial':const{porcentaje,empleadosSeleccionados}=parametros;setEmpleados(prev=>prev.map(emp=>{if(empleadosSeleccionados.includes(emp.id)){return{...emp,salarioBase:emp.salarioBase*(1+porcentaje/100)};}return emp;}));break;case'regalia_navidena':// Calcular regalía para todos los empleados activos\nconst empleadosActivos=empleados.filter(e=>{var _e$estado;return((_e$estado=e.estado)===null||_e$estado===void 0?void 0:_e$estado.toLowerCase())==='activo';});console.log(`Calculando regalía navideña para ${empleadosActivos.length} empleados`);break;case'bonificacion_especial':const{monto,concepto}=parametros;// Agregar bonificación especial\nconsole.log(`Aplicando bonificación de ${formatearMoneda(monto)} por ${concepto}`);break;}setLoading(false);setModalOperacionMasiva({open:false,tipo:null});showSuccessMessage('✅ Operación masiva completada exitosamente');},2000);};// Función para mostrar mensajes (simulada)\nconst showSuccessMessage=message=>{console.log('SUCCESS:',message);};const showErrorMessage=message=>{console.log('ERROR:',message);};// Procesar nómina completa\nconst procesarNominaCompleta=async()=>{try{setLoading(true);const empleadosIds=empleados.filter(e=>{var _e$estado2;return((_e$estado2=e.estado)===null||_e$estado2===void 0?void 0:_e$estado2.toLowerCase())==='activo';}).map(e=>e.id);const resultado=await procesarNomina({periodo:selectedPeriodo,empleadosIds:empleadosIds});await cargarNominas();// Recargar la lista\nshowSuccessMessage(resultado.message);}catch(error){showErrorMessage('Error al procesar nómina');}finally{setLoading(false);}};// Renderizado de empleados con CRUD completo\nconst renderEmpleados=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.5rem',fontWeight:'600',color:'#111827'},children:\"\\uD83D\\uDC65 Gesti\\xF3n de Empleados\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setModalEmpleado({open:true,empleado:null,modo:'crear'}),style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#3b82f6',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(UserPlus,{style:{width:'1rem',height:'1rem'}}),\"Nuevo Empleado\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setModalOperacionMasiva({open:true,tipo:'aumento_salarial'}),style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(TrendingUp,{style:{width:'1rem',height:'1rem'}}),\"Operaciones Masivas\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1rem',marginBottom:'1.5rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Buscar empleado:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nombre, c\\xE9dula o cargo...\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Departamento:\"}),/*#__PURE__*/_jsxs(\"select\",{style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Tecnolog\\xEDa\",children:\"Tecnolog\\xEDa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Recursos Humanos\",children:\"Recursos Humanos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Finanzas\",children:\"Finanzas\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Estado:\"}),/*#__PURE__*/_jsxs(\"select\",{style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"activo\",children:\"Activo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"suspendido\",children:\"Suspendido\"}),/*#__PURE__*/_jsx(\"option\",{value:\"terminado\",children:\"Terminado\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{style:{background:'#f9fafb'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Empleado\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Cargo\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Salario\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Antig\\xFCedad\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:empleados.map(empleado=>{const antiguedad=calcularAntiguedad(empleado.fechaIngreso);return/*#__PURE__*/_jsxs(\"tr\",{style:{borderTop:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem'},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'500',color:'#111827'},children:[empleado.nombre,\" \",empleado.apellidos]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[empleado.cedula,\" \\u2022 \",empleado.email]})]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem'},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#111827'},children:empleado.cargo}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:empleado.departamento})]})}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'0.75rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#111827'},children:formatearMoneda(empleado.salarioBase)}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:empleado.tipoSalario==='mensual'?'Mensual':'Actual'})]}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'0.75rem',fontSize:'0.875rem',color:'#6b7280'},children:[antiguedad.años,\" a\\xF1os, \",antiguedad.meses,\" meses\"]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.5rem',borderRadius:'0.375rem',fontSize:'0.75rem',fontWeight:'500',background:empleado.estado==='activo'?'#dcfce7':empleado.estado==='suspendido'?'#fef3c7':'#b6daafff',color:empleado.estado==='activo'?'#045523ff':empleado.estado==='suspendido'?'#a7d891ff':'#335803ff'},children:empleado.estado})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModalEmpleado({open:true,empleado,modo:'editar'}),style:{padding:'0.25rem',background:'#3b82f6',color:'white',border:'none',borderRadius:'0.25rem',cursor:'pointer'},title:\"Editar\",children:/*#__PURE__*/_jsx(Edit,{style:{width:'1rem',height:'1rem'}})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModalPrestaciones({open:true,empleado}),style:{padding:'0.25rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.25rem',cursor:'pointer'},title:\"Prestaciones\",children:/*#__PURE__*/_jsx(Award,{style:{width:'1rem',height:'1rem'}})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModalIncidencia({open:true,empleado}),style:{padding:'0.25rem',background:'#f59e0b',color:'white',border:'none',borderRadius:'0.25rem',cursor:'pointer'},title:\"Incidencias\",children:/*#__PURE__*/_jsx(Clock,{style:{width:'1rem',height:'1rem'}})})]})})]},empleado.id);})})]})})}),modalEmpleado.open&&/*#__PURE__*/_jsx(ModalEmpleado,{empleado:modalEmpleado.empleado,modo:modalEmpleado.modo,onClose:()=>setModalEmpleado({open:false,empleado:null,modo:'crear'}),onSave:empleado=>{const errores=validarEmpleado(empleado);if(errores.length>0){showErrorMessage(errores.join(', '));return;}if(modalEmpleado.modo==='crear'){setEmpleados(prev=>[...prev,{...empleado,id:Date.now()}]);showSuccessMessage('✅ Empleado creado exitosamente');}else{setEmpleados(prev=>prev.map(e=>e.id===empleado.id?empleado:e));showSuccessMessage('✅ Empleado actualizado exitosamente');}setModalEmpleado({open:false,empleado:null,modo:'crear'});},configNomina:configNomina}),modalPrestaciones.open&&modalPrestaciones.empleado&&/*#__PURE__*/_jsx(ModalPrestaciones,{empleado:modalPrestaciones.empleado,prestaciones:calcularPrestaciones(modalPrestaciones.empleado),onClose:()=>setModalPrestaciones({open:false,empleado:null}),formatearMoneda:formatearMoneda}),modalOperacionMasiva.open&&/*#__PURE__*/_jsx(ModalOperacionMasiva,{tipo:modalOperacionMasiva.tipo,empleados:empleados,onClose:()=>setModalOperacionMasiva({open:false,tipo:null}),onExecute:ejecutarOperacionMasiva,formatearMoneda:formatearMoneda})]});// Renderizado de incidencias mejorado\nconst renderIncidencias=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.5rem',fontWeight:'600',color:'#111827'},children:\"Gesti\\xF3n de Incidencias\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setModalIncidencia({open:true,empleado:null}),style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Plus,{style:{width:'1rem',height:'1rem'}}),\"Nueva Incidencia\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Resumen del Per\\xEDodo\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(150px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem',background:'#f0f9ff',borderRadius:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#3b82f6'},children:incidencias.filter(i=>i.tipo==='horas_extra'&&i.aprobado).length}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"Horas Extra\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem',background:'#fef3c7',borderRadius:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#d97706'},children:incidencias.filter(i=>i.tipo==='falta').length}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"Faltas\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem',background:'#f0fdf4',borderRadius:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#10b981'},children:incidencias.filter(i=>i.tipo==='vacaciones'&&i.aprobado).length}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"Vacaciones\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem',background:'#fdf2f8',borderRadius:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#be185d'},children:incidencias.filter(i=>!i.aprobado).length}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"Pendientes\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{style:{background:'#f9fafb'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Empleado\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Fecha/Per\\xEDodo\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Detalles\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:incidencias.map(incidencia=>{const empleado=empleados.find(e=>e.id===incidencia.empleadoId);return/*#__PURE__*/_jsxs(\"tr\",{style:{borderTop:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'500',color:'#111827'},children:[empleado===null||empleado===void 0?void 0:empleado.nombre,\" \",empleado===null||empleado===void 0?void 0:empleado.apellidos]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.5rem',borderRadius:'0.375rem',fontSize:'0.75rem',fontWeight:'500',background:incidencia.tipo==='horas_extra'?'#dbeafe':incidencia.tipo==='falta'?'#fee2e2':incidencia.tipo==='vacaciones'?'#dcfce7':'#fef3c7',color:incidencia.tipo==='horas_extra'?'#1e40af':incidencia.tipo==='falta'?'#dc2626':incidencia.tipo==='vacaciones'?'#166534':'#d97706'},children:incidencia.tipo.replace('_',' ')})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',fontSize:'0.875rem',color:'#6b7280'},children:incidencia.fecha||`${incidencia.fechaInicio} - ${incidencia.fechaFin}`}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'0.75rem',fontSize:'0.875rem',color:'#6b7280'},children:[incidencia.horas&&`${incidencia.horas} horas`,incidencia.diasSolicitados&&`${incidencia.diasSolicitados} días`,incidencia.descripcion&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'0.25rem',fontSize:'0.75rem'},children:incidencia.descripcion})]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.5rem',borderRadius:'0.375rem',fontSize:'0.75rem',fontWeight:'500',background:incidencia.aprobado?'#dcfce7':'#fef3c7',color:incidencia.aprobado?'#166534':'#d97706'},children:incidencia.aprobado?'Aprobado':'Pendiente'})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{style:{padding:'0.25rem',background:'#3b82f6',color:'white',border:'none',borderRadius:'0.25rem',cursor:'pointer'},title:\"Editar\",children:/*#__PURE__*/_jsx(Edit,{style:{width:'1rem',height:'1rem'}})}),!incidencia.aprobado&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIncidencias(prev=>prev.map(i=>i.id===incidencia.id?{...i,aprobado:true,fechaAprobacion:new Date().toISOString().split('T')[0]}:i));showSuccessMessage('✅ Incidencia aprobada');},style:{padding:'0.25rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.25rem',cursor:'pointer'},title:\"Aprobar\",children:/*#__PURE__*/_jsx(CheckCircle,{style:{width:'1rem',height:'1rem'}})})]})})]},incidencia.id);})})]})})})]});// Renderizado de nómina mejorado\nconst renderNomina=()=>{const empleadosActivos=empleados.filter(e=>{var _e$estado3;return((_e$estado3=e.estado)===null||_e$estado3===void 0?void 0:_e$estado3.toLowerCase())==='activo';});const calculosNomina=empleadosActivos.map(emp=>calcularNominaEmpleado(emp.id,selectedPeriodo)).filter(Boolean);// AGREGAR ESTAS LÍNEAS DE DEBUG:\nconsole.log('🔍 Empleados activos:',empleadosActivos.length);console.log('🔍 Cálculos antes del filter:',empleadosActivos.map(emp=>calcularNominaEmpleado(emp.id,selectedPeriodo)));console.log('🔍 Cálculos después del filter:',calculosNomina.length);console.log('🔍 Primer empleado activo:',empleadosActivos[0]);console.log('🔍 selectedPeriodo:',selectedPeriodo);const totalNomina=calculosNomina.reduce((total,calc)=>total+calc.conceptos.salarioNeto,0);const totalDeducciones=calculosNomina.reduce((total,calc)=>total+calc.conceptos.totalDeducciones,0);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.5rem',fontWeight:'600',color:'#111827'},children:\"C\\xE1lculo de N\\xF3mina\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:procesarNominaCompleta,disabled:loading,style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:loading?'#9ca3af':'#10b981',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:loading?'not-allowed':'pointer'},children:[/*#__PURE__*/_jsx(Calculator,{style:{width:'1rem',height:'1rem'}}),loading?'Procesando...':'Procesar Nómina']}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setModalOperacionMasiva({open:true,tipo:'regalia_navidena'}),style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#dc2626',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Gift,{style:{width:'1rem',height:'1rem'}}),\"Regal\\xEDa Navide\\xF1a\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:[\"Resumen General - \",selectedPeriodo]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem',background:'#f0f9ff',borderRadius:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#3b82f6'},children:empleadosActivos.length}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"Empleados Activos\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem',background:'#f0fdf4',borderRadius:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#10b981'},children:formatearMoneda(totalNomina)}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"Total N\\xF3mina Neta\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem',background:'#fef2f2',borderRadius:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#dc2626'},children:formatearMoneda(totalDeducciones)}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"Total Deducciones\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem',background:'#fffbeb',borderRadius:'0.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#d97706'},children:formatearMoneda(totalNomina+totalDeducciones)}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"Total Bruto\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{style:{background:'#f9fafb'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Empleado\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'right',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Salario Base\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'right',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Extras/Bonos\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'right',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Descuentos\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'right',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Deducciones\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'right',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Salario Neto\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151'},children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:calculosNomina.map(calculo=>/*#__PURE__*/_jsxs(\"tr\",{style:{borderTop:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"td\",{style:{padding:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'500',color:'#111827'},children:[calculo.empleado.nombre,\" \",calculo.empleado.apellidos]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:calculo.empleado.cargo})]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'right',fontWeight:'500'},children:formatearMoneda(calculo.conceptos.salarioBase)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'right',color:'#10b981',fontWeight:'500'},children:formatearMoneda(calculo.conceptos.horasExtras+calculo.conceptos.bonificaciones)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'right',color:'#dc2626',fontWeight:'500'},children:formatearMoneda(calculo.conceptos.descuentoFaltas||0)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'right',color:'#ef4444',fontWeight:'500'},children:formatearMoneda(calculo.conceptos.totalDeducciones)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'right',fontWeight:'bold',color:'#10b981',fontSize:'1.125rem'},children:formatearMoneda(calculo.conceptos.salarioNeto)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'center'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModalRecibo({open:true,nomina:{empleadoId:calculo.empleado.id,conceptos:calculo.conceptos,periodo:selectedPeriodo}}),style:{padding:'0.25rem',background:'#3b82f6',color:'white',border:'none',borderRadius:'0.25rem',cursor:'pointer'},title:\"Ver recibo\",children:/*#__PURE__*/_jsx(Eye,{style:{width:'1rem',height:'1rem'}})})})]},calculo.empleado.id))})]})})})]});};// Renderizado de ajustes de nómina\nconst renderAjustesNomina=()=>{const guardarCambios=()=>{setConfigNomina(prev=>({...prev,deduccionesLegales:[{...tssEmpleado[0],codigo:'TSS_AFP'},{...tssEmpleado[1],codigo:'TSS_SFS'},{codigo:'ISR',nombre:'Impuesto Sobre la Renta',aplicaSobre:'salario_gravable',escalas:tablaISR}],aportesPatronales:aportesPatronales}));showSuccessMessage('✅ Configuración actualizada correctamente');};const restablecerValores=()=>{if(window.confirm('¿Está seguro de restablecer los valores originales de DGII?')){setTablaISR([{desde:0,hasta:416220.00,porcentaje:0,montoFijo:0},{desde:416220.01,hasta:624329.01,porcentaje:15,montoFijo:0},{desde:624329.02,hasta:867123.02,porcentaje:20,montoFijo:31215.39},{desde:867123.03,hasta:999999999,porcentaje:25,montoFijo:79774.18}]);setTssEmpleado([{codigo:'TSS_AFP',nombre:'TSS - AFP (Pensiones)',porcentaje:2.87,aplicaSobre:'salario_cotizable',limite:'salario_minimo_10_veces'},{codigo:'TSS_SFS',nombre:'TSS - SFS (Salud)',porcentaje:3.04,aplicaSobre:'salario_cotizable',limite:'salario_minimo_10_veces'}]);setAportesPatronales([{codigo:'TSS_AFP_PATRONAL',nombre:'TSS - AFP Patronal (Pensiones)',porcentaje:7.10},{codigo:'TSS_SFS_PATRONAL',nombre:'TSS - SFS Patronal (Salud)',porcentaje:7.09},{codigo:'TSS_SRL',nombre:'TSS - Riesgo Laboral',porcentaje:1.10},{codigo:'INFOTEP',nombre:'INFOTEP',porcentaje:1.0}]);showSuccessMessage('✅ Valores restablecidos');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.5rem',fontWeight:'600',color:'#111827'},children:\"\\u2699\\uFE0F Configuraci\\xF3n de N\\xF3mina\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:restablecerValores,style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#6b7280',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Settings,{style:{width:'1rem',height:'1rem'}}),\"Restablecer\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:guardarCambios,style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Save,{style:{width:'1rem',height:'1rem'}}),\"Guardar Cambios\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"\\uD83D\\uDCCA Tabla ISR - DGII\"}),/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{style:{background:'#f9fafb'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"Escalas\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"L\\xEDmite Inferior\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"L\\xEDmite Superior\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"Tasa ISR\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"Monto Fijo\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tablaISR.map((escala,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'center',border:'1px solid #e5e7eb',fontWeight:'500'},children:index+1}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.5rem',border:'1px solid #e5e7eb'},children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:escala.desde,onChange:e=>{const nuevaTabla=[...tablaISR];nuevaTabla[index].desde=Number(e.target.value);setTablaISR(nuevaTabla);},style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.25rem',fontSize:'0.875rem'}})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.5rem',border:'1px solid #e5e7eb'},children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:escala.hasta,onChange:e=>{const nuevaTabla=[...tablaISR];nuevaTabla[index].hasta=Number(e.target.value);setTablaISR(nuevaTabla);},style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.25rem',fontSize:'0.875rem'}})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.5rem',border:'1px solid #e5e7eb'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:escala.porcentaje,onChange:e=>{const nuevaTabla=[...tablaISR];nuevaTabla[index].porcentaje=Number(e.target.value);setTablaISR(nuevaTabla);},min:\"0\",max:\"100\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.25rem',fontSize:'0.875rem'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"%\"})]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.5rem',border:'1px solid #e5e7eb'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"$\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:escala.montoFijo,onChange:e=>{const nuevaTabla=[...tablaISR];nuevaTabla[index].montoFijo=Number(e.target.value);setTablaISR(nuevaTabla);},step:\"0.01\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.25rem',fontSize:'0.875rem'}})]})})]},index))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"\\uD83C\\uDFE6 Cuotas TSS Empleado\"}),/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{style:{background:'#f9fafb'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"Porcentaje\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tssEmpleado.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'center',border:'1px solid #e5e7eb',fontWeight:'500'},children:index+1}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',border:'1px solid #e5e7eb'},children:item.nombre}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.5rem',border:'1px solid #e5e7eb'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.25rem',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.porcentaje,onChange:e=>{const nuevaTSS=[...tssEmpleado];nuevaTSS[index].porcentaje=Number(e.target.value);setTssEmpleado(nuevaTSS);},min:\"0\",max:\"100\",step:\"0.01\",style:{width:'80px',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.25rem',fontSize:'0.875rem',textAlign:'center'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"%\"})]})})]},index))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"\\uD83C\\uDFE2 Aportes de la Empresa (TSS)\"}),/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{style:{background:'#f9fafb'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'left',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'0.75rem',textAlign:'center',fontSize:'0.875rem',fontWeight:'600',color:'#374151',border:'1px solid #e5e7eb'},children:\"Porcentaje\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:aportesPatronales.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',textAlign:'center',border:'1px solid #e5e7eb',fontWeight:'500'},children:index+1}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.75rem',border:'1px solid #e5e7eb'},children:item.nombre}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'0.5rem',border:'1px solid #e5e7eb'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.25rem',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.porcentaje,onChange:e=>{const nuevosAportes=[...aportesPatronales];nuevosAportes[index].porcentaje=Number(e.target.value);setAportesPatronales(nuevosAportes);},min:\"0\",max:\"100\",step:\"0.01\",style:{width:'80px',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.25rem',fontSize:'0.875rem',textAlign:'center'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"%\"})]})})]},index))})]})})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:'#fffbeb',border:'1px solid #fde68a',borderRadius:'0.5rem',padding:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',alignItems:'start'},children:[/*#__PURE__*/_jsx(AlertCircle,{style:{width:'1.25rem',height:'1.25rem',color:'#d97706',flexShrink:0,marginTop:'0.125rem'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#92400e',marginBottom:'0.5rem'},children:\"\\u26A0\\uFE0F Importante\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{fontSize:'0.875rem',color:'#78350f',margin:0,paddingLeft:'1.25rem'},children:[/*#__PURE__*/_jsx(\"li\",{children:\"Los cambios afectar\\xE1n todos los c\\xE1lculos de n\\xF3mina futuros\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Use \\\"Restablecer\\\" para volver a los valores oficiales de DGII\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Verifique los montos fijos del ISR seg\\xFAn la tabla oficial\"}),/*#__PURE__*/_jsx(\"li\",{children:\"El total TSS empleado ser\\xE1: AFP (2.87%) + SFS (3.04%) = 5.91%\"})]})]})]})})]})]});};// Navegación por pestañas\nconst tabs=[{id:'empleados',label:'👥 Empleados',component:renderEmpleados},{id:'incidencias',label:'Incidencias',component:renderIncidencias},{id:'nomina',label:'Nómina',component:renderNomina},{id:'ajustes',label:'⚙️ Ajustes Nómina',component:renderAjustesNomina}];return/*#__PURE__*/_jsx(\"div\",{style:{padding:'1.5rem',minHeight:'100vh',background:'#f8fafc'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'112rem',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2.5rem',fontWeight:'bold',color:'#111827',marginBottom:'0.5rem'},children:\"Sistema Integral de N\\xF3mina RD\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',fontSize:'1.125rem'},children:\"Gesti\\xF3n completa de empleados, prestaciones laborales y n\\xF3mina para Rep\\xFAblica Dominicana\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:'#f0f9ff',border:'1px solid #bae6fd',borderRadius:'0.75rem',padding:'1rem',marginBottom:'2rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Calendar,{style:{width:'1.25rem',height:'1.25rem',color:'#0369a1'}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#0369a1',marginBottom:'0.5rem',display:'block'},children:\"Per\\xEDodo de N\\xF3mina:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedPeriodo,onChange:e=>setSelectedPeriodo(e.target.value),style:{padding:'0.5rem',border:'1px solid #bfdbfe',borderRadius:'0.375rem',fontSize:'0.875rem',background:'white',fontWeight:'500'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"2024-07\",children:\"Julio 2024\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2024-06\",children:\"Junio 2024\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2024-05\",children:\"Mayo 2024\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2024-04\",children:\"Abril 2024\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'0.5rem 1rem',background:'#dcfce7',color:'#166534',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500'},children:\"Sistema Operativo\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{background:'white',borderRadius:'0.75rem 0.75rem 0 0',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',borderBottom:'none'},children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',overflowX:'auto',borderBottom:'1px solid #e5e7eb'},children:tabs.map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab.id),style:{padding:'1rem 1.5rem',borderBottom:activeTab===tab.id?'2px solid #3b82f6':'2px solid transparent',background:activeTab===tab.id?'#f8fafc':'transparent',color:activeTab===tab.id?'#3b82f6':'#6b7280',border:'none',fontWeight:activeTab===tab.id?'600':'500',fontSize:'0.875rem',cursor:'pointer',whiteSpace:'nowrap',transition:'all 0.2s'},children:tab.label},tab.id))})}),/*#__PURE__*/_jsx(\"div\",{style:{background:'white',borderRadius:'0 0 0.75rem 0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',borderTop:'none',padding:'2rem',minHeight:'500px'},children:(_tabs$find=tabs.find(tab=>tab.id===activeTab))===null||_tabs$find===void 0?void 0:_tabs$find.component()})]})});};// Modal de empleado\nconst ModalEmpleado=_ref2=>{let{empleado,modo,onClose,onSave,configNomina}=_ref2;const[formData,setFormData]=useState(empleado||{nombre:'',apellidos:'',cedula:'',cargo:'',departamento:'',tipoContrato:'fijo',salarioBase:configNomina.salarioMinimo,tipoSalario:'mensual',fechaIngreso:new Date().toISOString().split('T')[0],fechaNacimiento:'',banco:'',numeroCuenta:'',estado:'activo',telefono:'',email:'',direccion:'',sexo:'M',estadoCivil:'soltero',nacionalidad:'dominicana',tipoDocumento:'cedula',nivelEducativo:'secundario',profesion:'',contactoEmergencia:{nombre:'',telefono:'',relacion:''}});const handleSubmit=e=>{e.preventDefault();onSave(formData);};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 20px 25px rgba(0,0,0,0.1)',maxWidth:'800px',width:'100%',maxHeight:'90vh',overflow:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827'},children:modo==='crear'?'👤 Nuevo Empleado':'✏️ Editar Empleado'}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{padding:'0.25rem',background:'#f3f4f6',border:'none',borderRadius:'0.25rem',cursor:'pointer'},children:/*#__PURE__*/_jsx(X,{style:{width:'1rem',height:'1rem'}})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{padding:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Informaci\\xF3n Personal\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Nombres *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.nombre,onChange:e=>setFormData(prev=>({...prev,nombre:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Apellidos *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.apellidos,onChange:e=>setFormData(prev=>({...prev,apellidos:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"C\\xE9dula *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.cedula,onChange:e=>setFormData(prev=>({...prev,cedula:e.target.value})),placeholder:\"000-0000000-0\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Fecha de Nacimiento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.fechaNacimiento,onChange:e=>setFormData(prev=>({...prev,fechaNacimiento:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"\\uD83D\\uDCBC Informaci\\xF3n Laboral\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Cargo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.cargo,onChange:e=>setFormData(prev=>({...prev,cargo:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Departamento\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.departamento,onChange:e=>setFormData(prev=>({...prev,departamento:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Tecnolog\\xEDa\",children:\"Tecnolog\\xEDa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Recursos Humanos\",children:\"Recursos Humanos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Finanzas\",children:\"Finanzas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Ventas\",children:\"Ventas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Operaciones\",children:\"Operaciones\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Salario Base *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.salarioBase,onChange:e=>setFormData(prev=>({...prev,salarioBase:Number(e.target.value)})),min:configNomina.salarioMinimo,style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#6b7280',marginTop:'0.25rem'},children:[\"M\\xEDnimo: \",configNomina.salarioMinimo.toLocaleString('es-DO'),\" DOP\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Fecha de Ingreso *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.fechaIngreso,onChange:e=>setFormData(prev=>({...prev,fechaIngreso:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'},required:true})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"\\uD83D\\uDCDE Informaci\\xF3n de Contacto\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:formData.telefono,onChange:e=>setFormData(prev=>({...prev,telefono:e.target.value})),placeholder:\"809-555-0000\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:formData.email,onChange:e=>setFormData(prev=>({...prev,email:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:'span 2'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.direccion,onChange:e=>setFormData(prev=>({...prev,direccion:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',marginTop:'1.5rem',paddingTop:'1rem',borderTop:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,style:{flex:1,padding:'0.75rem',background:'#f3f4f6',color:'#374151',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{flex:1,padding:'0.75rem',background:'#3b82f6',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:modo==='crear'?'Crear Empleado':'Guardar Cambios'})]})]})]})});};// Modal de prestaciones\nconst ModalPrestaciones=_ref3=>{let{empleado,prestaciones,onClose,formatearMoneda}=_ref3;return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 20px 25px rgba(0,0,0,0.1)',maxWidth:'600px',width:'100%',maxHeight:'90vh',overflow:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827'},children:[\"Prestaciones Laborales - \",empleado.nombre,\" \",empleado.apellidos]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{padding:'0.25rem',background:'#f3f4f6',border:'none',borderRadius:'0.25rem',cursor:'pointer'},children:/*#__PURE__*/_jsx(X,{style:{width:'1rem',height:'1rem'}})})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'1.5rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:'#f0f9ff',borderRadius:'0.5rem',border:'1px solid #bae6fd'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#111827'},children:\"Vacaciones\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[prestaciones.vacaciones.dias,\" d\\xEDas acumulados\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.25rem',fontWeight:'bold',color:'#3b82f6'},children:formatearMoneda(prestaciones.vacaciones.valor)})]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:'#f0fdf4',borderRadius:'0.5rem',border:'1px solid #bbf7d0'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#111827'},children:\"Cesant\\xEDa\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[prestaciones.cesantia.dias,\" d\\xEDas acumulados\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.25rem',fontWeight:'bold',color:'#10b981'},children:formatearMoneda(prestaciones.cesantia.valor)})]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:'#fef2f2',borderRadius:'0.5rem',border:'1px solid #fecaca'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#111827'},children:\"Regal\\xEDa Navide\\xF1a\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:prestaciones.regaliaDiciembre.proporcional?'Proporcional':'Completa'})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.25rem',fontWeight:'bold',color:'#dc2626'},children:formatearMoneda(prestaciones.regaliaDiciembre.valor)})]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:'#fffbeb',borderRadius:'0.5rem',border:'1px solid #fde68a'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#111827'},children:\"Preaviso\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[prestaciones.preaviso.dias,\" d\\xEDas seg\\xFAn antig\\xFCedad\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.25rem',fontWeight:'bold',color:'#d97706'},children:formatearMoneda(prestaciones.preaviso.valor)})]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:'#f8fafc',borderRadius:'0.5rem',border:'2px solid #374151'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#111827',fontSize:'1.125rem'},children:\"Total Prestaciones\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"Valor acumulado total\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#111827'},children:formatearMoneda(prestaciones.totalPrestaciones)})]})})]})})]})});};// Modal de operaciones masivas\nconst ModalOperacionMasiva=_ref4=>{let{tipo,empleados,onClose,onExecute,formatearMoneda}=_ref4;const[parametros,setParametros]=useState({porcentaje:10,monto:5000,concepto:'Bonificación especial',empleadosSeleccionados:empleados.filter(e=>e.estado==='activo').map(e=>e.id)});const handleExecute=()=>{onExecute(tipo,parametros);};const getTituloOperacion=()=>{switch(tipo){case'aumento_salarial':return'Aumento Salarial Masivo';case'regalia_navidena':return'Cálculo de Regalía Navideña';case'bonificacion_especial':return'Bonificación Especial';default:return'Operación Masiva';}};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 20px 25px rgba(0,0,0,0.1)',maxWidth:'600px',width:'100%',maxHeight:'90vh',overflow:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827'},children:getTituloOperacion()}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{padding:'0.25rem',background:'#f3f4f6',border:'none',borderRadius:'0.25rem',cursor:'pointer'},children:/*#__PURE__*/_jsx(X,{style:{width:'1rem',height:'1rem'}})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem'},children:[tipo==='aumento_salarial'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Porcentaje de Aumento (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:parametros.porcentaje,onChange:e=>setParametros(prev=>({...prev,porcentaje:Number(e.target.value)})),min:\"0\",max:\"100\",step:\"0.5\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:[\"Empleados Seleccionados (\",parametros.empleadosSeleccionados.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'200px',overflowY:'auto',border:'1px solid #d1d5db',borderRadius:'0.375rem',padding:'0.5rem'},children:empleados.filter(e=>e.estado==='activo').map(empleado=>/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.25rem',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:parametros.empleadosSeleccionados.includes(empleado.id),onChange:e=>{if(e.target.checked){setParametros(prev=>({...prev,empleadosSeleccionados:[...prev.empleadosSeleccionados,empleado.id]}));}else{setParametros(prev=>({...prev,empleadosSeleccionados:prev.empleadosSeleccionados.filter(id=>id!==empleado.id)}));}}}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.875rem'},children:[empleado.nombre,\" \",empleado.apellidos,\" - \",formatearMoneda(empleado.salarioBase)]})]},empleado.id))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#f0f9ff',borderRadius:'0.5rem',border:'1px solid #bae6fd'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#111827',marginBottom:'0.5rem'},children:\"Vista Previa del Aumento\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[\"Empleados afectados: \",parametros.empleadosSeleccionados.length]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[\"Aumento total estimado: \",formatearMoneda(empleados.filter(e=>parametros.empleadosSeleccionados.includes(e.id)).reduce((total,emp)=>total+emp.salarioBase*parametros.porcentaje/100,0))]})]})]}),tipo==='regalia_navidena'&&/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#fef2f2',borderRadius:'0.5rem',border:'1px solid #fecaca'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#111827',marginBottom:'0.5rem'},children:\"\\uD83C\\uDF84 C\\xE1lculo de Regal\\xEDa Navide\\xF1a 2024\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280',marginBottom:'1rem'},children:\"Se calcular\\xE1 la regal\\xEDa navide\\xF1a para todos los empleados activos que hayan trabajado al menos 3 meses durante el a\\xF1o.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'0.5rem'},children:empleados.filter(e=>e.estado==='activo').map(empleado=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.5rem',background:'white',borderRadius:'0.25rem'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.875rem'},children:[empleado.nombre,\" \",empleado.apellidos]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#dc2626'},children:formatearMoneda(empleado.salarioBase)})]},empleado.id))}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',paddingTop:'1rem',borderTop:'1px solid #f3f4f6',display:'flex',justifyContent:'space-between',fontWeight:'600'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Regal\\xEDa:\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#dc2626'},children:formatearMoneda(empleados.filter(e=>e.estado==='activo').reduce((total,emp)=>total+emp.salarioBase,0))})]})]})}),tipo==='bonificacion_especial'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Monto de Bonificaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:parametros.monto,onChange:e=>setParametros(prev=>({...prev,monto:Number(e.target.value)})),min:\"0\",style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',marginBottom:'0.5rem'},children:\"Concepto de la Bonificaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:parametros.concepto,onChange:e=>setParametros(prev=>({...prev,concepto:e.target.value})),style:{width:'100%',padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#f0fdf4',borderRadius:'0.5rem',border:'1px solid #bbf7d0'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#111827',marginBottom:'0.5rem'},children:\"Resumen de Bonificaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[\"Empleados beneficiados: \",empleados.filter(e=>e.estado==='activo').length]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[\"Monto total: \",formatearMoneda(parametros.monto*empleados.filter(e=>e.estado==='activo').length)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',marginTop:'1.5rem',paddingTop:'1rem',borderTop:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{flex:1,padding:'0.75rem',background:'#f3f4f6',color:'#374151',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExecute,style:{flex:1,padding:'0.75rem',background:'#dc2626',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:\"Ejecutar Operaci\\xF3n\"})]})]})]})});};// Modal de recibo de pago\nconst ModalRecibo=_ref5=>{let{nomina,empleados,onClose,formatearMoneda,configNomina}=_ref5;const empleado=empleados.find(e=>e.id===nomina.empleadoId);const generarReciboHTML=()=>{return`\n      <div style=\"font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px;\">\n        <div style=\"text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 20px;\">\n          <h1>${configNomina.empresa.nombre}</h1>\n          <p>RNC: ${configNomina.empresa.rnc}</p>\n          <p>${configNomina.empresa.direccion}</p>\n          <h2>RECIBO DE PAGO</h2>\n        </div>\n        \n        <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;\">\n          <div>\n            <h3>DATOS DEL EMPLEADO</h3>\n            <p><strong>Nombre:</strong> ${empleado.nombre} ${empleado.apellidos}</p>\n            <p><strong>Cédula:</strong> ${empleado.cedula}</p>\n            <p><strong>Cargo:</strong> ${empleado.cargo}</p>\n            <p><strong>Departamento:</strong> ${empleado.departamento}</p>\n          </div>\n          <div>\n            <h3>PERÍODO DE PAGO</h3>\n            <p><strong>Período:</strong> ${nomina.periodo}</p>\n            <p><strong>Fecha Proceso:</strong> ${new Date().toLocaleDateString('es-DO')}</p>\n            <p><strong>Estado:</strong> Procesado</p>\n          </div>\n        </div>\n\n        <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 20px;\">\n          <thead style=\"background-color: #f0f0f0;\">\n            <tr>\n              <th style=\"border: 1px solid #ddd; padding: 8px; text-align: left;\">CONCEPTO</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">DEVENGADO</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">DEDUCIDO</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td style=\"border: 1px solid #ddd; padding: 8px;\">Salario Base</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">${formatearMoneda(nomina.conceptos.salarioBase)}</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\n            </tr>\n            <tr>\n              <td style=\"border: 1px solid #ddd; padding: 8px;\">Horas Extras</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">${formatearMoneda(nomina.conceptos.horasExtras||0)}</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\n            </tr>\n            <tr>\n              <td style=\"border: 1px solid #ddd; padding: 8px;\">Bonificaciones</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">${formatearMoneda(nomina.conceptos.bonificaciones||0)}</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\n            </tr>\n            <tr style=\"background-color: #f8f9fa;\">\n              <td style=\"border: 1px solid #ddd; padding: 8px; font-weight: bold;\">TOTAL DEVENGADO</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right; font-weight: bold;\">${formatearMoneda(nomina.conceptos.totalDevengado)}</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\n            </tr>\n            <tr>\n              <td style=\"border: 1px solid #ddd; padding: 8px;\">TSS (2.87%)</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">${formatearMoneda(nomina.conceptos.deduccionTSS)}</td>\n            </tr>\n            <tr>\n              <td style=\"border: 1px solid #ddd; padding: 8px;\">ISR</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">${formatearMoneda(nomina.conceptos.deduccionISR||0)}</td>\n            </tr>\n            <tr style=\"background-color: #f8f9fa;\">\n              <td style=\"border: 1px solid #ddd; padding: 8px; font-weight: bold;\">TOTAL DEDUCCIONES</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right; font-weight: bold;\">${formatearMoneda(nomina.conceptos.totalDeducciones)}</td>\n            </tr>\n            <tr style=\"background-color: #e8f5e8;\">\n              <td style=\"border: 1px solid #ddd; padding: 8px; font-weight: bold; font-size: 18px;\">SALARIO NETO</td>\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right; font-weight: bold; font-size: 18px;\" colspan=\"2\">${formatearMoneda(nomina.conceptos.salarioNeto)}</td>\n            </tr>\n          </tbody>\n        </table>\n\n        <div style=\"text-align: center; margin-top: 30px; font-size: 12px; color: #666;\">\n          <p>Este documento ha sido generado electrónicamente y no requiere firma.</p>\n          <p>Generado el ${new Date().toLocaleDateString('es-DO')} a las ${new Date().toLocaleTimeString('es-DO')}</p>\n        </div>\n      </div>\n    `;};const descargarRecibo=()=>{const htmlContent=generarReciboHTML();const blob=new Blob([htmlContent],{type:'text/html'});const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=`recibo_${empleado.nombre}_${nomina.periodo}.html`;link.click();URL.revokeObjectURL(url);};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 20px 25px rgba(0,0,0,0.1)',maxWidth:'800px',width:'100%',maxHeight:'90vh',overflow:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827'},children:\"\\uD83E\\uDDFE Recibo de Pago\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{padding:'0.25rem',background:'#f3f4f6',border:'none',borderRadius:'0.25rem',cursor:'pointer'},children:/*#__PURE__*/_jsx(X,{style:{width:'1rem',height:'1rem'}})})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem'},children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:generarReciboHTML()}})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',padding:'1rem',borderTop:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:descargarRecibo,style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#3b82f6',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Download,{style:{width:'1rem',height:'1rem'}}),\"Descargar PDF\"]}),/*#__PURE__*/_jsxs(\"button\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.375rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Send,{style:{width:'1rem',height:'1rem'}}),\"Enviar por Email\"]})]})]})});};export default SistemaNominaCompleto;","map":{"version":3,"names":["React","useState","useEffect","getNominas","procesarNomina","getNominaById","marcarNominaPagada","getEmpleadosActivos","DollarSign","Download","Calendar","FileText","Eye","Calculator","CreditCard","PieChart","TrendingUp","Settings","AlertCircle","CheckCircle","Clock","User","Building","Users","Edit","Trash2","Plus","Search","Filter","Mail","Upload","Save","X","UserPlus","Briefcase","MapPin","Phone","FileBarChart","Banknote","Receipt","Send","Award","Gift","Zap","FileCheck","BarChart3","Target","ShieldCheck","ArrowRight","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SistemaNominaCompleto","_tabs$find","activeTab","setActiveTab","nominasProcesadas","setNominasProcesadas","empleados","setEmpleados","loading","setLoading","error","setError","console","log","length","cargarEmpleados","data","ModalIncidencia","_ref","empleado","onClose","onSave","configNomina","formData","setFormData","empleadoId","id","tipo","fecha","Date","toISOString","split","fechaInicio","fechaFin","horas","tipoRecargo","diasSolicitados","conGoce","justificada","motivo","descripcion","aprobado","handleSubmit","e","preventDefault","style","position","top","left","right","bottom","background","display","alignItems","justifyContent","zIndex","padding","children","borderRadius","boxShadow","maxWidth","width","maxHeight","overflow","borderBottom","fontSize","fontWeight","color","onClick","border","cursor","height","onSubmit","gap","marginBottom","value","onChange","prev","Number","target","required","filter","estado","map","emp","nombre","apellidos","cargo","type","min","max","step","recargosHorarios","recargo","gridTemplateColumns","checked","rows","resize","placeholder","marginTop","paddingTop","borderTop","flex","selectedPeriodo","setSelectedPeriodo","user","role","modalEmpleado","setModalEmpleado","open","modo","modalIncidencia","setModalIncidencia","modalRecibo","setModalRecibo","nomina","modalPrestaciones","setModalPrestaciones","modalOperacionMasiva","setModalOperacionMasiva","tablaISR","setTablaISR","desde","hasta","porcentaje","montoFijo","tssEmpleado","setTssEmpleado","codigo","aplicaSobre","limite","aportesPatronales","setAportesPatronales","setConfigNomina","empresa","rnc","direccion","telefono","representanteLegal","periodicidad","moneda","horasLaboralesDia","diasLaboralesSemana","salarioMinimo","prestaciones","vacaciones","diasPorAno","pagaDoble","regaliaNavidena","activada","fechaCalculo","minimoDias","cesantia","maxAnosCalcular","baseSalarioPromedio","preaviso","escalas","desdeAnosAntiguedad","hastaAnosAntiguedad","diasPreaviso","deduccionesLegales","multiplicador","bonificaciones","monto","activa","incidencias","setIncidencias","apropadoPor","fechaAprobacion","cargarNominas","formatearMoneda","valor","Intl","NumberFormat","currency","minimumFractionDigits","format","formatearFecha","toLocaleDateString","calcularEdad","fechaNacimiento","hoy","nacimiento","edad","getFullYear","m","getMonth","getDate","calcularAntiguedad","fechaIngreso","ingreso","diffTime","Math","abs","diffDays","ceil","años","floor","meses","totalDias","validarEmpleado","_empleado$nombre","_empleado$apellidos","_empleado$cedula","_empleado$cargo","errores","trim","push","cedula","cedulaRegex","test","salarioBase","calcularPrestaciones","antiguedad","salarioMensual","salarioDiario","vacacionesDias","vacacionesValor","añosParaCesantia","cesantiaDias","cesantiaValor","mesesTrabajadosAnoActual","regaliaDiciembreValor","find","escala","preavisoValor","dias","regaliaDiciembre","proporcional","totalPrestaciones","calcularNominaEmpleado","periodo","_empleado$estado","toLowerCase","incidenciasPeriodo","i","_i$fecha","_i$fechaInicio","_i$fechaFin","startsWith","tipoSalario","horasNormales","valorHora","horasExtras","faltas","descuentoFaltas","reduce","total","falta","valorDia","bonificacionesFijas","bonificacionesVariables","totalBonificaciones","totalDevengado","deduccionTSS_AFP","deduccionTSS_SFS","deduccionTSS","deduccionISR","salarioAnual","totalDeducciones","salarioNeto","conceptos","ejecutarOperacionMasiva","parametros","setTimeout","empleadosSeleccionados","includes","empleadosActivos","_e$estado","concepto","showSuccessMessage","message","showErrorMessage","procesarNominaCompleta","empleadosIds","_e$estado2","resultado","renderEmpleados","overflowX","borderCollapse","textAlign","email","departamento","title","ModalEmpleado","join","now","ModalPrestaciones","ModalOperacionMasiva","onExecute","renderIncidencias","incidencia","replace","renderNomina","_e$estado3","calculosNomina","Boolean","totalNomina","calc","disabled","calculo","renderAjustesNomina","guardarCambios","restablecerValores","window","confirm","index","nuevaTabla","item","nuevaTSS","nuevosAportes","flexShrink","margin","paddingLeft","tabs","label","component","minHeight","flexWrap","tab","whiteSpace","transition","_ref2","tipoContrato","banco","numeroCuenta","sexo","estadoCivil","nacionalidad","tipoDocumento","nivelEducativo","profesion","contactoEmergencia","relacion","toLocaleString","gridColumn","_ref3","_ref4","setParametros","handleExecute","getTituloOperacion","overflowY","ModalRecibo","_ref5","generarReciboHTML","toLocaleTimeString","descargarRecibo","htmlContent","blob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","dangerouslySetInnerHTML","__html"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/components/modules/nomina/NominaModule.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getNominas, procesarNomina, getNominaById, marcarNominaPagada, getEmpleadosActivos } from '../../../api/nominaService';\r\nimport { \r\n  DollarSign, Download, Calendar, FileText, Eye, Calculator, CreditCard,\r\n  PieChart, TrendingUp, Settings, AlertCircle, CheckCircle, Clock, User,\r\n  Building, Users, Edit, Trash2, Plus, Search, Filter, Mail, Upload, Save,\r\n  X, UserPlus, Briefcase, MapPin, Phone, FileBarChart, Banknote, Receipt,\r\n  Send, Award, Gift, Zap, FileCheck, BarChart3, Target, ShieldCheck, ArrowRight\r\n} from 'lucide-react';\r\n\r\nconst SistemaNominaCompleto = () => {\r\n  // Estados principales\r\n  const [activeTab, setActiveTab] = useState('empleados');\r\n  const [nominasProcesadas, setNominasProcesadas] = useState([]);\r\n  const [empleados, setEmpleados] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  console.log('📋 Estado actual empleados:', empleados?.length || 0, empleados);\r\n  console.log('🔄 Loading:', loading);\r\n  console.log('❌ Error:', error);\r\n\r\n // Función para cargar empleados\r\nconst cargarEmpleados = async () => {\r\n try {\r\n   console.log('🚀 Iniciando cargarEmpleados...');\r\n   setLoading(true);\r\n   setError(null);\r\n   const data = await getEmpleadosActivos();\r\n   console.log('✅ Empleados recibidos:', data);\r\n   console.log('📊 Cantidad de empleados:', data?.length || 0);\r\n   setEmpleados(data);\r\n   console.log('🎯 Estado empleados después de setEmpleados:', data);\r\n } catch (error) {\r\n   console.error('❌ Error al cargar empleados:', error);\r\n   setError('Error al cargar empleados desde la base de datos');\r\n } finally {\r\n   setLoading(false);\r\n }\r\n};\r\n\r\n// useEffect para cargar cuando cambie de tab\r\nuseEffect(() => {\r\n console.log('🔄 Tab cambió a:', activeTab);\r\n console.log('🔄 Tipo de activeTab:', typeof activeTab);\r\n \r\n if (activeTab === 'empleados') {\r\n   console.log('✅ Ejecutando cargarEmpleados...');\r\n   cargarEmpleados();\r\n } else {\r\n   console.log('❌ activeTab no es \"empleados\", es:', activeTab);\r\n }\r\n}, [activeTab]);\r\n  \r\n  \r\n  \r\n  // resto de tu código...\r\n\r\n// Modal de incidencias\r\nconst ModalIncidencia = ({ empleado, onClose, onSave, empleados, configNomina }) => {\r\n  const [formData, setFormData] = useState({\r\n    empleadoId: empleado?.id || '',\r\n    tipo: 'horas_extra',\r\n    fecha: new Date().toISOString().split('T')[0],\r\n    fechaInicio: '',\r\n    fechaFin: '',\r\n    horas: 0,\r\n    tipoRecargo: 'extra_normal',\r\n    diasSolicitados: 0,\r\n    conGoce: true,\r\n    justificada: true,\r\n    motivo: '',\r\n    descripcion: '',\r\n    aprobado: false\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSave(formData);\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      background: 'rgba(0,0,0,0.5)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      zIndex: 1000,\r\n      padding: '1rem'\r\n    }}>\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '0.75rem',\r\n        boxShadow: '0 20px 25px rgba(0,0,0,0.1)',\r\n        maxWidth: '600px',\r\n        width: '100%',\r\n        maxHeight: '90vh',\r\n        overflow: 'auto'\r\n      }}>\r\n        <div style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          padding: '1rem',\r\n          borderBottom: '1px solid #e5e7eb'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827' }}>\r\n            📋 Nueva Incidencia\r\n          </h3>\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              padding: '0.25rem',\r\n              background: '#f3f4f6',\r\n              border: 'none',\r\n              borderRadius: '0.25rem',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <X style={{ width: '1rem', height: '1rem' }} />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} style={{ padding: '1.5rem' }}>\r\n          <div style={{ display: 'grid', gap: '1rem' }}>\r\n            <div>\r\n              <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                Empleado *\r\n              </label>\r\n              <select\r\n                value={formData.empleadoId}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, empleadoId: Number(e.target.value) }))}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.5rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.375rem',\r\n                  fontSize: '0.875rem'\r\n                }}\r\n                required\r\n              >\r\n                <option value=\"\">Seleccionar empleado</option>\r\n                {empleados.filter(e => e.estado === 'activo').map(emp => (\r\n                  <option key={emp.id} value={emp.id}>\r\n                    {emp.nombre} {emp.apellidos} - {emp.cargo}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                Tipo de Incidencia *\r\n              </label>\r\n              <select\r\n                value={formData.tipo}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, tipo: e.target.value }))}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.5rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.375rem',\r\n                  fontSize: '0.875rem'\r\n                }}\r\n                required\r\n              >\r\n                <option value=\"horas_extra\">Horas Extra</option>\r\n                <option value=\"falta\">Falta</option>\r\n                <option value=\"permiso\">Permiso</option>\r\n                <option value=\"vacaciones\">Vacaciones</option>\r\n                <option value=\"licencia\">Licencia Médica</option>\r\n              </select>\r\n            </div>\r\n\r\n            {formData.tipo === 'horas_extra' && (\r\n              <>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Fecha *\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={formData.fecha}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, fecha: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Horas Trabajadas *\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={formData.horas}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, horas: Number(e.target.value) }))}\r\n                    min=\"0\"\r\n                    max=\"12\"\r\n                    step=\"0.5\"\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Tipo de Recargo *\r\n                  </label>\r\n                  <select\r\n                    value={formData.tipoRecargo}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, tipoRecargo: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                  >\r\n                    {configNomina.recargosHorarios.map(recargo => (\r\n                      <option key={recargo.tipo} value={recargo.tipo}>\r\n                        {recargo.nombre}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {(formData.tipo === 'permiso' || formData.tipo === 'vacaciones' || formData.tipo === 'licencia') && (\r\n              <>\r\n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>\r\n                  <div>\r\n                    <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                      Fecha Inicio *\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={formData.fechaInicio}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, fechaInicio: e.target.value }))}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '0.5rem',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '0.375rem',\r\n                        fontSize: '0.875rem'\r\n                      }}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                      Fecha Fin *\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={formData.fechaFin}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, fechaFin: e.target.value }))}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '0.5rem',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '0.375rem',\r\n                        fontSize: '0.875rem'\r\n                      }}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Días Solicitados *\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={formData.diasSolicitados}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, diasSolicitados: Number(e.target.value) }))}\r\n                    min=\"1\"\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                    required\r\n                  />\r\n                </div>\r\n                {formData.tipo === 'permiso' && (\r\n                  <div>\r\n                    <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={formData.conGoce}\r\n                        onChange={(e) => setFormData(prev => ({ ...prev, conGoce: e.target.checked }))}\r\n                      />\r\n                      <span style={{ fontSize: '0.875rem', fontWeight: '500' }}>\r\n                        Con goce de sueldo\r\n                      </span>\r\n                    </label>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {formData.tipo === 'falta' && (\r\n              <>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Fecha de la Falta *\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={formData.fecha}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, fecha: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={formData.justificada}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, justificada: e.target.checked }))}\r\n                    />\r\n                    <span style={{ fontSize: '0.875rem', fontWeight: '500' }}>\r\n                      Falta justificada\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            <div>\r\n              <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                {formData.tipo === 'falta' ? 'Motivo/Justificación' : 'Motivo'}\r\n              </label>\r\n              <textarea\r\n                value={formData.motivo}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, motivo: e.target.value }))}\r\n                rows=\"3\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.5rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.375rem',\r\n                  fontSize: '0.875rem',\r\n                  resize: 'vertical'\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                Descripción Adicional\r\n              </label>\r\n              <textarea\r\n                value={formData.descripcion}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, descripcion: e.target.value }))}\r\n                rows=\"2\"\r\n                placeholder=\"Detalles adicionales sobre la incidencia...\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.5rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.375rem',\r\n                  fontSize: '0.875rem',\r\n                  resize: 'vertical'\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{\r\n            display: 'flex',\r\n            gap: '1rem',\r\n            marginTop: '1.5rem',\r\n            paddingTop: '1rem',\r\n            borderTop: '1px solid #e5e7eb'\r\n          }}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              style={{\r\n                flex: 1,\r\n                padding: '0.75rem',\r\n                background: '#f3f4f6',\r\n                color: '#374151',\r\n                border: 'none',\r\n                borderRadius: '0.375rem',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              style={{\r\n                flex: 1,\r\n                padding: '0.75rem',\r\n                background: '#10b981',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '0.375rem',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Registrar Incidencia\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n  \r\n\r\n  const [selectedPeriodo, setSelectedPeriodo] = useState('2024-07');\r\n  const [user] = useState({ role: 'admin' }); // Usuario actual\r\n  \r\n  // Estados para modales\r\n  const [modalEmpleado, setModalEmpleado] = useState({ open: false, empleado: null, modo: 'crear' });\r\n  const [modalIncidencia, setModalIncidencia] = useState({ open: false, empleado: null });\r\n  const [modalRecibo, setModalRecibo] = useState({ open: false, nomina: null });\r\n  const [modalPrestaciones, setModalPrestaciones] = useState({ open: false, empleado: null });\r\n  const [modalOperacionMasiva, setModalOperacionMasiva] = useState({ open: false, tipo: null });\r\n  const [tablaISR, setTablaISR] = useState([\r\n  { desde: 0, hasta: 416220.00, porcentaje: 0, montoFijo: 0 },\r\n  { desde: 416220.01, hasta: 624329.01, porcentaje: 15, montoFijo: 0 },\r\n  { desde: 624329.02, hasta: 867123.02, porcentaje: 20, montoFijo: 31215.39 },\r\n  { desde: 867123.03, hasta: 999999999, porcentaje: 25, montoFijo: 79774.18 }\r\n]);\r\n\r\nconst [tssEmpleado, setTssEmpleado] = useState([\r\n  { codigo: 'TSS_AFP', nombre: 'TSS - AFP (Pensiones)', porcentaje: 2.87, aplicaSobre: 'salario_cotizable', limite: 'salario_minimo_10_veces' },\r\n  { codigo: 'TSS_SFS', nombre: 'TSS - SFS (Salud)', porcentaje: 3.04, aplicaSobre: 'salario_cotizable', limite: 'salario_minimo_10_veces' }\r\n]);\r\n\r\nconst [aportesPatronales, setAportesPatronales] = useState([\r\n  { codigo: 'TSS_AFP_PATRONAL', nombre: 'TSS - AFP Patronal (Pensiones)', porcentaje: 7.10 },\r\n  { codigo: 'TSS_SFS_PATRONAL', nombre: 'TSS - SFS Patronal (Salud)', porcentaje: 7.09 },\r\n  { codigo: 'TSS_SRL', nombre: 'TSS - Riesgo Laboral', porcentaje: 1.10 },\r\n  { codigo: 'INFOTEP', nombre: 'INFOTEP', porcentaje: 1.0 }\r\n]); \r\n\r\n\r\n  // Configuración avanzada\r\n  const [configNomina, setConfigNomina] = useState({\r\n    empresa: {\r\n      nombre: 'Mi Empresa S.R.L.',\r\n      rnc: '123456789',\r\n      direccion: 'Av. Principal #100, Santo Domingo',\r\n      telefono: '809-555-0000',\r\n      representanteLegal: 'Director General'\r\n    },\r\n    periodicidad: 'mensual',\r\n    moneda: 'DOP',\r\n    horasLaboralesDia: 8,\r\n    diasLaboralesSemana: 5,\r\n    salarioMinimo: 21000,\r\n    \r\n    // Prestaciones laborales RD\r\n    prestaciones: {\r\n      vacaciones: {\r\n        diasPorAno: 14,\r\n        pagaDoble: true // Se paga doble cuando se toman\r\n      },\r\n      regaliaNavidena: {\r\n        activada: true,\r\n        fechaCalculo: '12-20', // 20 de diciembre\r\n        minimoDias: 3 // Mínimo 3 meses trabajados\r\n      },\r\n      cesantia: {\r\n        diasPorAno: 23,\r\n        maxAnosCalcular: 15,\r\n        baseSalarioPromedio: true\r\n      },\r\n      preaviso: {\r\n        escalas: [\r\n          { desdeAnosAntiguedad: 0, hastaAnosAntiguedad: 3, diasPreaviso: 0 },\r\n          { desdeAnosAntiguedad: 3, hastaAnosAntiguedad: 5, diasPreaviso: 14 },\r\n          { desdeAnosAntiguedad: 5, hastaAnosAntiguedad: 999, diasPreaviso: 28 }\r\n        ]\r\n      }\r\n    },\r\n    \r\n    // Deducciones legales RD actualizadas\r\n    deduccionesLegales: [\r\n      { \r\n        codigo: 'TSS_AFP', \r\n        nombre: 'TSS - AFP (Pensiones)', \r\n        porcentaje: 2.87, \r\n        aplicaSobre: 'salario_cotizable',\r\n        limite: 'salario_minimo_10_veces'\r\n      },\r\n      { \r\n        codigo: 'TSS_SFS', \r\n        nombre: 'TSS - SFS (Salud)', \r\n        porcentaje: 3.04, \r\n        aplicaSobre: 'salario_cotizable',\r\n        limite: 'salario_minimo_10_veces'\r\n      },\r\n      { \r\n        codigo: 'ISR', \r\n        nombre: 'Impuesto Sobre la Renta', \r\n        aplicaSobre: 'salario_gravable',\r\n        escalas: [\r\n          { desde: 0, hasta: 416220.00, porcentaje: 0, montoFijo: 0 },\r\n          { desde: 416220.01, hasta: 624329.01, porcentaje: 15, montoFijo: 0 },\r\n          { desde: 624329.02, hasta: 867123.02, porcentaje: 20, montoFijo: 31215.39 },\r\n          { desde: 867123.03, hasta: 999999999, porcentaje: 25, montoFijo: 79774.18 }\r\n        ]\r\n      }\r\n    ],\r\n\r\n    // Aportes patronales\r\n    aportesPatronales: [\r\n      { codigo: 'TSS_AFP_PATRONAL', nombre: 'TSS - AFP Patronal (Pensiones)', porcentaje: 7.10 },\r\n      { codigo: 'TSS_SFS_PATRONAL', nombre: 'TSS - SFS Patronal (Salud)', porcentaje: 7.09 },\r\n      { codigo: 'TSS_SRL', nombre: 'TSS - Riesgo Laboral', porcentaje: 1.10 },\r\n      { codigo: 'INFOTEP', nombre: 'INFOTEP', porcentaje: 1.0 }\r\n    ],\r\n\r\n    // Recargos horarios\r\n    recargosHorarios: [\r\n      { tipo: 'extra_normal', nombre: 'Horas Extras Diurnas (35%)', multiplicador: 1.35 },\r\n      { tipo: 'extra_nocturna', nombre: 'Horas Nocturnas (75%)', multiplicador: 1.75 },\r\n      { tipo: 'extra_dominical', nombre: 'Domingo/Feriado (100%)', multiplicador: 2.0 }\r\n    ],\r\n\r\n    // Bonificaciones\r\n    bonificaciones: [\r\n      { codigo: 'TRANSPORTE', nombre: 'Auxilio de Transporte', monto: 3000, tipo: 'fijo', activa: true },\r\n      { codigo: 'ALIMENTACION', nombre: 'Auxilio de Alimentación', monto: 2500, tipo: 'fijo', activa: true },\r\n      { codigo: 'RENDIMIENTO', nombre: 'Bono por Rendimiento', porcentaje: 5, tipo: 'variable', activa: false }\r\n    ]\r\n  });\r\n\r\n  // Gestión de incidencias mejorada\r\n  const [incidencias, setIncidencias] = useState([\r\n    {\r\n      id: 1,\r\n      empleadoId: 1,\r\n      tipo: 'horas_extra',\r\n      fecha: '2024-07-15',\r\n      horas: 3,\r\n      tipoRecargo: 'extra_normal',\r\n      descripcion: 'Trabajo adicional proyecto urgente',\r\n      aprobado: true,\r\n      apropadoPor: 2,\r\n      fechaAprobacion: '2024-07-16'\r\n    },\r\n    {\r\n      id: 2,\r\n      empleadoId: 1,\r\n      tipo: 'vacaciones',\r\n      fechaInicio: '2024-07-22',\r\n      fechaFin: '2024-07-26',\r\n      diasSolicitados: 5,\r\n      conGoce: true,\r\n      motivo: 'Vacaciones familiares',\r\n      aprobado: true,\r\n      fechaAprobacion: '2024-07-10'\r\n    }\r\n  ]);\r\n\r\n  // Nóminas procesadas\r\n\r\n  const cargarNominas = async () => {\r\n  try {\r\n    setLoading(true);\r\n    setError(null);\r\n    const data = await getNominas(); // ✅ CAMBIAR: debe ser getNominas()\r\n    setNominasProcesadas(data);\r\n    console.log('Nóminas cargadas:', data);\r\n  } catch (error) {\r\n    console.error('Error al cargar nóminas:', error);\r\n    setError('Error al cargar nóminas desde la base de datos');\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\nuseEffect(() => {\r\n  if (activeTab === 'nomina') {\r\n    cargarNominas();\r\n  }\r\n}, [activeTab]);\r\n\r\n\r\n\r\n  // Utilidades\r\n  const formatearMoneda = (valor) => {\r\n    return new Intl.NumberFormat('es-DO', {\r\n      style: 'currency',\r\n      currency: 'DOP',\r\n      minimumFractionDigits: 2\r\n    }).format(valor);\r\n  };\r\n\r\n  const formatearFecha = (fecha) => {\r\n    return new Date(fecha).toLocaleDateString('es-DO');\r\n  };\r\n\r\n  const calcularEdad = (fechaNacimiento) => {\r\n    const hoy = new Date();\r\n    const nacimiento = new Date(fechaNacimiento);\r\n    let edad = hoy.getFullYear() - nacimiento.getFullYear();\r\n    const m = hoy.getMonth() - nacimiento.getMonth();\r\n    if (m < 0 || (m === 0 && hoy.getDate() < nacimiento.getDate())) edad--;\r\n    return edad;\r\n  };\r\n\r\n  const calcularAntiguedad = (fechaIngreso) => {\r\n    const hoy = new Date();\r\n    const ingreso = new Date(fechaIngreso);\r\n    const diffTime = Math.abs(hoy - ingreso);\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    const años = Math.floor(diffDays / 365);\r\n    const meses = Math.floor((diffDays % 365) / 30);\r\n    return { años, meses, totalDias: diffDays };\r\n  };\r\n\r\n  // Validaciones de formularios\r\n  const validarEmpleado = (empleado) => {\r\n    const errores = [];\r\n    \r\n    if (!empleado.nombre?.trim()) errores.push('El nombre es requerido');\r\n    if (!empleado.apellidos?.trim()) errores.push('Los apellidos son requeridos');\r\n    if (!empleado.cedula?.trim()) errores.push('La cédula es requerida');\r\n    \r\n    // Validar formato de cédula dominicana\r\n    const cedulaRegex = /^\\d{3}-\\d{7}-\\d{1}$/;\r\n    if (empleado.cedula && !cedulaRegex.test(empleado.cedula)) {\r\n      errores.push('Formato de cédula inválido (000-0000000-0)');\r\n    }\r\n    \r\n    if (!empleado.cargo?.trim()) errores.push('El cargo es requerido');\r\n    if (!empleado.salarioBase || empleado.salarioBase <= 0) errores.push('El salario debe ser mayor a 0');\r\n    if (empleado.salarioBase < configNomina.salarioMinimo) {\r\n      errores.push(`El salario no puede ser menor al mínimo (${formatearMoneda(configNomina.salarioMinimo)})`);\r\n    }\r\n    \r\n    return errores;\r\n  };\r\n\r\n  // Cálculo de prestaciones laborales\r\n  const calcularPrestaciones = (empleado) => {\r\n    const antiguedad = calcularAntiguedad(empleado.fechaIngreso);\r\n    const salarioMensual = empleado.salarioBase;\r\n    const salarioDiario = salarioMensual / 30;\r\n    \r\n    // Vacaciones (14 días por año)\r\n    const vacacionesDias = Math.floor((antiguedad.totalDias / 365) * configNomina.prestaciones.vacaciones.diasPorAno);\r\n    const vacacionesValor = vacacionesDias * salarioDiario * (configNomina.prestaciones.vacaciones.pagaDoble ? 2 : 1);\r\n    \r\n    // Cesantía (23 días por año, máximo 15 años)\r\n    const añosParaCesantia = Math.min(antiguedad.años, configNomina.prestaciones.cesantia.maxAnosCalcular);\r\n    const cesantiaDias = añosParaCesantia * configNomina.prestaciones.cesantia.diasPorAno;\r\n    const cesantiaValor = cesantiaDias * salarioDiario;\r\n    \r\n    // Regalía navideña (salario completo si trabajó 12 meses, proporcional si menos)\r\n    const mesesTrabajadosAnoActual = new Date().getMonth() + 1; // Simplificado\r\n    const regaliaDiciembreValor = (mesesTrabajadosAnoActual / 12) * salarioMensual;\r\n    \r\n    // Preaviso según antigüedad\r\n    const preaviso = configNomina.prestaciones.preaviso.escalas.find(\r\n      escala => antiguedad.años >= escala.desdeAnosAntiguedad && antiguedad.años < escala.hastaAnosAntiguedad\r\n    );\r\n    const preavisoValor = preaviso ? (preaviso.diasPreaviso * salarioDiario) : 0;\r\n    \r\n    return {\r\n      vacaciones: {\r\n        dias: vacacionesDias,\r\n        valor: vacacionesValor\r\n      },\r\n      cesantia: {\r\n        dias: cesantiaDias,\r\n        valor: cesantiaValor\r\n      },\r\n      regaliaDiciembre: {\r\n        valor: regaliaDiciembreValor,\r\n        proporcional: mesesTrabajadosAnoActual < 12\r\n      },\r\n      preaviso: {\r\n        dias: preaviso?.diasPreaviso || 0,\r\n        valor: preavisoValor\r\n      },\r\n      totalPrestaciones: vacacionesValor + cesantiaValor + regaliaDiciembreValor + preavisoValor\r\n    };\r\n  };\r\n\r\n  // Cálculo mejorado de nómina\r\n  const calcularNominaEmpleado = (empleadoId, periodo) => {\r\n    const empleado = empleados.find(e => e.id === empleadoId);\r\n    if (!empleado || empleado.estado?.toLowerCase() !== 'activo') return null;\r\n\r\n    // Obtener incidencias del período\r\n    const incidenciasPeriodo = incidencias.filter(i => \r\n      i.empleadoId === empleadoId && \r\n      (i.fecha?.startsWith(periodo) || \r\n       (i.fechaInicio?.startsWith(periodo) || i.fechaFin?.startsWith(periodo)))\r\n    );\r\n\r\n    // Calcular salario base\r\n    let salarioBase = empleado.salarioBase;\r\n    if (empleado.tipoSalario === 'por_hora') {\r\n      const horasNormales = 184; // Aproximado mensual\r\n      salarioBase = empleado.salarioBase * horasNormales;\r\n    }\r\n\r\n    // ✅ Horas extras solo manuales\r\n      const valorHora = empleado.tipoSalario === 'por_hora'\r\n        ? empleado.salarioBase\r\n        : empleado.salarioBase / 184;\r\n\r\n      // Si no tiene definido horasExtras, se asume 0\r\n      const horasExtras = (empleado.horasExtras || 0) * valorHora;\r\n\r\n\r\n    // Calcular descuentos por faltas\r\n    const faltas = incidenciasPeriodo.filter(i => i.tipo === 'falta' && !i.justificada);\r\n    const descuentoFaltas = faltas.reduce((total, falta) => {\r\n      const valorDia = salarioBase / 30;\r\n      return total + valorDia;\r\n    }, 0);\r\n\r\n    // Calcular bonificaciones (desactivadas por ahora)\r\n    const bonificacionesFijas = 0;\r\n    const bonificacionesVariables = 0;\r\n    const totalBonificaciones = 0;\r\n\r\n    // Solo salario base menos descuentos\r\n    const totalDevengado = salarioBase - descuentoFaltas;\r\n\r\n    // Calcular deducciones legales\r\n    // TSS AFP (2.87%)\r\nconst deduccionTSS_AFP = Math.min(\r\n  totalDevengado * 2.87 / 100,\r\n  (configNomina.salarioMinimo * 10) * 2.87 / 100\r\n    );\r\n\r\n    // TSS SFS (3.04%)\r\n    const deduccionTSS_SFS = Math.min(\r\n      totalDevengado * 3.04 / 100,\r\n      (configNomina.salarioMinimo * 10) * 3.04 / 100\r\n    );\r\n\r\n    const deduccionTSS = deduccionTSS_AFP + deduccionTSS_SFS; // 5.91% total\r\n\r\n    // Calcular ISR por escalas\r\n    // Calcular ISR por escalas (método correcto DGII)\r\nlet deduccionISR = 0;\r\n  const salarioAnual = totalDevengado * 12;\r\n\r\n  if (salarioAnual > 416220.00) {\r\n    if (salarioAnual <= 624329.01) {\r\n      // Escala 2: 15% sobre excedente de 416,220\r\n      deduccionISR = (salarioAnual - 416220.00) * 0.15;\r\n    } else if (salarioAnual <= 867123.02) {\r\n      // Escala 3: 31,215.39 + 20% sobre excedente de 624,329.01\r\n      deduccionISR = 31215.39 + ((salarioAnual - 624329.01) * 0.20);\r\n    } else {\r\n      // Escala 4: 79,774.18 + 25% sobre excedente de 867,123.02\r\n      deduccionISR = 79774.18 + ((salarioAnual - 867123.02) * 0.25);\r\n    }\r\n  }\r\n  deduccionISR = deduccionISR / 12; // Mensual\r\n\r\n    const totalDeducciones = deduccionTSS + deduccionISR;\r\n    const salarioNeto = totalDevengado - totalDeducciones;\r\n\r\n    return {\r\n      empleado,\r\n      periodo,\r\n      conceptos: {\r\n        salarioBase,\r\n        horasExtras,\r\n        bonificaciones: totalBonificaciones,\r\n        descuentoFaltas,\r\n        totalDevengado,\r\n        deduccionTSS,\r\n        deduccionISR,\r\n        totalDeducciones,\r\n        salarioNeto\r\n      },\r\n      incidencias: incidenciasPeriodo,\r\n      prestaciones: calcularPrestaciones(empleado)\r\n    };\r\n  };\r\n\r\n  // Operaciones masivas\r\n  const ejecutarOperacionMasiva = (tipo, parametros) => {\r\n    setLoading(true);\r\n    \r\n    setTimeout(() => {\r\n      switch (tipo) {\r\n        case 'aumento_salarial':\r\n          const { porcentaje, empleadosSeleccionados } = parametros;\r\n          setEmpleados(prev => prev.map(emp => {\r\n            if (empleadosSeleccionados.includes(emp.id)) {\r\n              return {\r\n                ...emp,\r\n                salarioBase: emp.salarioBase * (1 + porcentaje / 100)\r\n              };\r\n            }\r\n            return emp;\r\n          }));\r\n          break;\r\n          \r\n        case 'regalia_navidena':\r\n          // Calcular regalía para todos los empleados activos\r\n          const empleadosActivos = empleados.filter(e => e.estado?.toLowerCase() === 'activo');\r\n          console.log(`Calculando regalía navideña para ${empleadosActivos.length} empleados`);\r\n          break;\r\n          \r\n        case 'bonificacion_especial':\r\n          const { monto, concepto } = parametros;\r\n          // Agregar bonificación especial\r\n          console.log(`Aplicando bonificación de ${formatearMoneda(monto)} por ${concepto}`);\r\n          break;\r\n      }\r\n      \r\n      setLoading(false);\r\n      setModalOperacionMasiva({ open: false, tipo: null });\r\n      showSuccessMessage('✅ Operación masiva completada exitosamente');\r\n    }, 2000);\r\n  };\r\n\r\n  // Función para mostrar mensajes (simulada)\r\n  const showSuccessMessage = (message) => {\r\n    console.log('SUCCESS:', message);\r\n  };\r\n\r\n  const showErrorMessage = (message) => {\r\n    console.log('ERROR:', message);\r\n  };\r\n\r\n  // Procesar nómina completa\r\n    const procesarNominaCompleta = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const empleadosIds = empleados.filter(e => e.estado?.toLowerCase() === 'activo').map(e => e.id);\r\n      \r\n      const resultado = await procesarNomina({\r\n        periodo: selectedPeriodo,\r\n        empleadosIds: empleadosIds\r\n      });\r\n      \r\n      await cargarNominas(); // Recargar la lista\r\n      showSuccessMessage(resultado.message);\r\n    } catch (error) {\r\n      showErrorMessage('Error al procesar nómina');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Renderizado de empleados con CRUD completo\r\n  const renderEmpleados = () => (\r\n    <div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\r\n        <h2 style={{ fontSize: '1.5rem', fontWeight: '600', color: '#111827' }}>\r\n          👥 Gestión de Empleados\r\n        </h2>\r\n        <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n          <button\r\n            onClick={() => setModalEmpleado({ open: true, empleado: null, modo: 'crear' })}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.5rem',\r\n              padding: '0.5rem 1rem',\r\n              background: '#3b82f6',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '0.375rem',\r\n              fontWeight: '500',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <UserPlus style={{ width: '1rem', height: '1rem' }} />\r\n            Nuevo Empleado\r\n          </button>\r\n          <button\r\n            onClick={() => setModalOperacionMasiva({ open: true, tipo: 'aumento_salarial' })}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.5rem',\r\n              padding: '0.5rem 1rem',\r\n              background: '#10b981',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '0.375rem',\r\n              fontWeight: '500',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <TrendingUp style={{ width: '1rem', height: '1rem' }} />\r\n            Operaciones Masivas\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filtros */}\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '0.75rem',\r\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n        border: '1px solid #e5e7eb',\r\n        padding: '1rem',\r\n        marginBottom: '1.5rem'\r\n      }}>\r\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\r\n          <div>\r\n            <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n              Buscar empleado:\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Nombre, cédula o cargo...\"\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.5rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.375rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n              Departamento:\r\n            </label>\r\n            <select style={{\r\n              width: '100%',\r\n              padding: '0.5rem',\r\n              border: '1px solid #d1d5db',\r\n              borderRadius: '0.375rem',\r\n              fontSize: '0.875rem'\r\n            }}>\r\n              <option value=\"\">Todos</option>\r\n              <option value=\"Tecnología\">Tecnología</option>\r\n              <option value=\"Recursos Humanos\">Recursos Humanos</option>\r\n              <option value=\"Finanzas\">Finanzas</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n              Estado:\r\n            </label>\r\n            <select style={{\r\n              width: '100%',\r\n              padding: '0.5rem',\r\n              border: '1px solid #d1d5db',\r\n              borderRadius: '0.375rem',\r\n              fontSize: '0.875rem'\r\n            }}>\r\n              <option value=\"\">Todos</option>\r\n              <option value=\"activo\">Activo</option>\r\n              <option value=\"suspendido\">Suspendido</option>\r\n              <option value=\"terminado\">Terminado</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabla de empleados */}\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '0.75rem',\r\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n        border: '1px solid #e5e7eb',\r\n        overflow: 'hidden'\r\n      }}>\r\n        <div style={{ overflowX: 'auto' }}>\r\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n            <thead style={{ background: '#f9fafb' }}>\r\n              <tr>\r\n                <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Empleado\r\n                </th>\r\n                <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Cargo\r\n                </th>\r\n                <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Salario\r\n                </th>\r\n                <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Antigüedad\r\n                </th>\r\n                <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Estado\r\n                  \r\n                </th>\r\n                <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Acciones\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {empleados.map((empleado) => {\r\n                const antiguedad = calcularAntiguedad(empleado.fechaIngreso);\r\n                return (\r\n                  <tr key={empleado.id} style={{ borderTop: '1px solid #e5e7eb' }}>\r\n                    <td style={{ padding: '0.75rem' }}>\r\n                      <div>\r\n                        <div style={{ fontWeight: '500', color: '#111827' }}>\r\n                          {empleado.nombre} {empleado.apellidos}\r\n                        </div>\r\n                        <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                          {empleado.cedula} • {empleado.email}\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem' }}>\r\n                      <div>\r\n                        <div style={{ fontWeight: '500', color: '#111827' }}>\r\n                          {empleado.cargo}\r\n                        </div>\r\n                        <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                          {empleado.departamento}\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem' }}>\r\n                      <div style={{ fontWeight: '500', color: '#111827' }}>\r\n                        {formatearMoneda(empleado.salarioBase)}\r\n                      </div>\r\n                      <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                        {empleado.tipoSalario === 'mensual' ? 'Mensual' : 'Actual'}\r\n                      </div>\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', fontSize: '0.875rem', color: '#6b7280' }}>\r\n                      {antiguedad.años} años, {antiguedad.meses} meses\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem' }}>\r\n                      <span style={{\r\n                        padding: '0.25rem 0.5rem',\r\n                        borderRadius: '0.375rem',\r\n                        fontSize: '0.75rem',\r\n                        fontWeight: '500',\r\n                        background: empleado.estado === 'activo' ? '#dcfce7' : \r\n                                   empleado.estado === 'suspendido' ? '#fef3c7' : '#b6daafff',\r\n                        color: empleado.estado === 'activo' ? '#045523ff' : \r\n                               empleado.estado === 'suspendido' ? '#a7d891ff' : '#335803ff'\r\n                      }}>\r\n                        {empleado.estado}\r\n                      </span>\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'center' }}>\r\n                      <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center' }}>\r\n                        <button\r\n                          onClick={() => setModalEmpleado({ open: true, empleado, modo: 'editar' })}\r\n                          style={{\r\n                            padding: '0.25rem',\r\n                            background: '#3b82f6',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '0.25rem',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                          title=\"Editar\"\r\n                        >\r\n                          <Edit style={{ width: '1rem', height: '1rem' }} />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => setModalPrestaciones({ open: true, empleado })}\r\n                          style={{\r\n                            padding: '0.25rem',\r\n                            background: '#10b981',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '0.25rem',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                          title=\"Prestaciones\"\r\n                        >\r\n                          <Award style={{ width: '1rem', height: '1rem' }} />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => setModalIncidencia({ open: true, empleado })}\r\n                          style={{\r\n                            padding: '0.25rem',\r\n                            background: '#f59e0b',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '0.25rem',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                          title=\"Incidencias\"\r\n                        >\r\n                          <Clock style={{ width: '1rem', height: '1rem' }} />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal de empleado */}\r\n      {modalEmpleado.open && (\r\n        <ModalEmpleado \r\n          empleado={modalEmpleado.empleado}\r\n          modo={modalEmpleado.modo}\r\n          onClose={() => setModalEmpleado({ open: false, empleado: null, modo: 'crear' })}\r\n          onSave={(empleado) => {\r\n            const errores = validarEmpleado(empleado);\r\n            if (errores.length > 0) {\r\n              showErrorMessage(errores.join(', '));\r\n              return;\r\n            }\r\n\r\n            if (modalEmpleado.modo === 'crear') {\r\n              setEmpleados(prev => [...prev, { ...empleado, id: Date.now() }]);\r\n              showSuccessMessage('✅ Empleado creado exitosamente');\r\n            } else {\r\n              setEmpleados(prev => prev.map(e => e.id === empleado.id ? empleado : e));\r\n              showSuccessMessage('✅ Empleado actualizado exitosamente');\r\n            }\r\n            setModalEmpleado({ open: false, empleado: null, modo: 'crear' });\r\n          }}\r\n          configNomina={configNomina}                                                                                                                                                                                                             \r\n        />\r\n      )}\r\n\r\n      {/* Modal de prestaciones */}\r\n      {modalPrestaciones.open && modalPrestaciones.empleado && (\r\n        <ModalPrestaciones \r\n          empleado={modalPrestaciones.empleado}\r\n          prestaciones={calcularPrestaciones(modalPrestaciones.empleado)}\r\n          onClose={() => setModalPrestaciones({ open: false, empleado: null })}\r\n          formatearMoneda={formatearMoneda}\r\n        />\r\n      )}\r\n\r\n      {/* Modal de operaciones masivas */}\r\n      {modalOperacionMasiva.open && (\r\n        <ModalOperacionMasiva \r\n          tipo={modalOperacionMasiva.tipo}\r\n          empleados={empleados}\r\n          onClose={() => setModalOperacionMasiva({ open: false, tipo: null })}\r\n          onExecute={ejecutarOperacionMasiva}\r\n          formatearMoneda={formatearMoneda}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  // Renderizado de incidencias mejorado\r\n  const renderIncidencias = () => (\r\n    <div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\r\n        <h2 style={{ fontSize: '1.5rem', fontWeight: '600', color: '#111827' }}>\r\n          Gestión de Incidencias\r\n        </h2>\r\n        <button\r\n          onClick={() => setModalIncidencia({ open: true, empleado: null })}\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '0.5rem',\r\n            padding: '0.5rem 1rem',\r\n            background: '#10b981',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '0.375rem',\r\n            fontWeight: '500',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          <Plus style={{ width: '1rem', height: '1rem' }} />\r\n          Nueva Incidencia\r\n        </button>\r\n      </div>\r\n\r\n      {/* Resumen de incidencias */}\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '0.75rem',\r\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n        border: '1px solid #e5e7eb',\r\n        padding: '1.5rem',\r\n        marginBottom: '1.5rem'\r\n      }}>\r\n        <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n          Resumen del Período\r\n        </h3>\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\r\n          gap: '1rem'\r\n        }}>\r\n          <div style={{ textAlign: 'center', padding: '1rem', background: '#f0f9ff', borderRadius: '0.5rem' }}>\r\n            <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#3b82f6' }}>\r\n              {incidencias.filter(i => i.tipo === 'horas_extra' && i.aprobado).length}\r\n            </div>\r\n            <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>Horas Extra</div>\r\n          </div>\r\n          <div style={{ textAlign: 'center', padding: '1rem', background: '#fef3c7', borderRadius: '0.5rem' }}>\r\n            <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#d97706' }}>\r\n              {incidencias.filter(i => i.tipo === 'falta').length}\r\n            </div>\r\n            <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>Faltas</div>\r\n          </div>\r\n          <div style={{ textAlign: 'center', padding: '1rem', background: '#f0fdf4', borderRadius: '0.5rem' }}>\r\n            <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#10b981' }}>\r\n              {incidencias.filter(i => i.tipo === 'vacaciones' && i.aprobado).length}\r\n            </div>\r\n            <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>Vacaciones</div>\r\n          </div>\r\n          <div style={{ textAlign: 'center', padding: '1rem', background: '#fdf2f8', borderRadius: '0.5rem' }}>\r\n            <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#be185d' }}>\r\n              {incidencias.filter(i => !i.aprobado).length}\r\n            </div>\r\n            <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>Pendientes</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabla de incidencias */}\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '0.75rem',\r\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n        border: '1px solid #e5e7eb',\r\n        overflow: 'hidden'\r\n      }}>\r\n        <div style={{ overflowX: 'auto' }}>\r\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n            <thead style={{ background: '#f9fafb' }}>\r\n              <tr>\r\n                <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Empleado\r\n                </th>\r\n                <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Tipo\r\n                </th>\r\n                <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Fecha/Período\r\n                </th>\r\n                <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Detalles\r\n                </th>\r\n                <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Estado\r\n                </th>\r\n                <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                  Acciones\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {incidencias.map((incidencia) => {\r\n                const empleado = empleados.find(e => e.id === incidencia.empleadoId);\r\n                return (\r\n                  <tr key={incidencia.id} style={{ borderTop: '1px solid #e5e7eb' }}>\r\n                    <td style={{ padding: '0.75rem' }}>\r\n                      <div style={{ fontWeight: '500', color: '#111827' }}>\r\n                        {empleado?.nombre} {empleado?.apellidos}\r\n                      </div>\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem' }}>\r\n                      <span style={{\r\n                        padding: '0.25rem 0.5rem',\r\n                        borderRadius: '0.375rem',\r\n                        fontSize: '0.75rem',\r\n                        fontWeight: '500',\r\n                        background: incidencia.tipo === 'horas_extra' ? '#dbeafe' : \r\n                                   incidencia.tipo === 'falta' ? '#fee2e2' : \r\n                                   incidencia.tipo === 'vacaciones' ? '#dcfce7' : '#fef3c7',\r\n                        color: incidencia.tipo === 'horas_extra' ? '#1e40af' : \r\n                               incidencia.tipo === 'falta' ? '#dc2626' : \r\n                               incidencia.tipo === 'vacaciones' ? '#166534' : '#d97706'\r\n                      }}>\r\n                        {incidencia.tipo.replace('_', ' ')}\r\n                      </span>\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', fontSize: '0.875rem', color: '#6b7280' }}>\r\n                      {incidencia.fecha || `${incidencia.fechaInicio} - ${incidencia.fechaFin}`}\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', fontSize: '0.875rem', color: '#6b7280' }}>\r\n                      {incidencia.horas && `${incidencia.horas} horas`}\r\n                      {incidencia.diasSolicitados && `${incidencia.diasSolicitados} días`}\r\n                      {incidencia.descripcion && (\r\n                        <div style={{ marginTop: '0.25rem', fontSize: '0.75rem' }}>\r\n                          {incidencia.descripcion}\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem' }}>\r\n                      <span style={{\r\n                        padding: '0.25rem 0.5rem',\r\n                        borderRadius: '0.375rem',\r\n                        fontSize: '0.75rem',\r\n                        fontWeight: '500',\r\n                        background: incidencia.aprobado ? '#dcfce7' : '#fef3c7',\r\n                        color: incidencia.aprobado ? '#166534' : '#d97706'\r\n                      }}>\r\n                        {incidencia.aprobado ? 'Aprobado' : 'Pendiente'}\r\n                      </span>\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'center' }}>\r\n                      <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center' }}>\r\n                        <button\r\n                          style={{\r\n                            padding: '0.25rem',\r\n                            background: '#3b82f6',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '0.25rem',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                          title=\"Editar\"\r\n                        >\r\n                          <Edit style={{ width: '1rem', height: '1rem' }} />\r\n                        </button>\r\n                        {!incidencia.aprobado && (\r\n                          <button\r\n                            onClick={() => {\r\n                              setIncidencias(prev => prev.map(i => \r\n                                i.id === incidencia.id ? { ...i, aprobado: true, fechaAprobacion: new Date().toISOString().split('T')[0] } : i\r\n                              ));\r\n                              showSuccessMessage('✅ Incidencia aprobada');\r\n                            }}\r\n                            style={{\r\n                              padding: '0.25rem',\r\n                              background: '#10b981',\r\n                              color: 'white',\r\n                              border: 'none',\r\n                              borderRadius: '0.25rem',\r\n                              cursor: 'pointer'\r\n                            }}\r\n                            title=\"Aprobar\"\r\n                          >\r\n                            <CheckCircle style={{ width: '1rem', height: '1rem' }} />\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Renderizado de nómina mejorado\r\n  const renderNomina = () => {\r\n    const empleadosActivos = empleados.filter(e => e.estado?.toLowerCase() === 'activo');\r\n    const calculosNomina = empleadosActivos.map(emp => calcularNominaEmpleado(emp.id, selectedPeriodo)).filter(Boolean);\r\n    // AGREGAR ESTAS LÍNEAS DE DEBUG:\r\n      console.log('🔍 Empleados activos:', empleadosActivos.length);\r\n      console.log('🔍 Cálculos antes del filter:', empleadosActivos.map(emp => calcularNominaEmpleado(emp.id, selectedPeriodo)));\r\n      console.log('🔍 Cálculos después del filter:', calculosNomina.length);\r\n      console.log('🔍 Primer empleado activo:', empleadosActivos[0]);\r\n      console.log('🔍 selectedPeriodo:', selectedPeriodo);\r\n\r\n    const totalNomina = calculosNomina.reduce((total, calc) => total + calc.conceptos.salarioNeto, 0);\r\n    const totalDeducciones = calculosNomina.reduce((total, calc) => total + calc.conceptos.totalDeducciones, 0);\r\n\r\n    return (\r\n      <div>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\r\n          <h2 style={{ fontSize: '1.5rem', fontWeight: '600', color: '#111827' }}>\r\n             Cálculo de Nómina\r\n          </h2>\r\n          <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n            <button\r\n              onClick={procesarNominaCompleta}\r\n              disabled={loading}\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '0.5rem',\r\n                padding: '0.5rem 1rem',\r\n                background: loading ? '#9ca3af' : '#10b981',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '0.375rem',\r\n                fontWeight: '500',\r\n                cursor: loading ? 'not-allowed' : 'pointer'\r\n              }}\r\n            >\r\n              <Calculator style={{ width: '1rem', height: '1rem' }} />\r\n              {loading ? 'Procesando...' : 'Procesar Nómina'}\r\n            </button>\r\n            <button\r\n              onClick={() => setModalOperacionMasiva({ open: true, tipo: 'regalia_navidena' })}\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '0.5rem',\r\n                padding: '0.5rem 1rem',\r\n                background: '#dc2626',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '0.375rem',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              <Gift style={{ width: '1rem', height: '1rem' }} />\r\n              Regalía Navideña\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Resumen de nómina */}\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '0.75rem',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n          border: '1px solid #e5e7eb',\r\n          padding: '1.5rem',\r\n          marginBottom: '1.5rem'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n            Resumen General - {selectedPeriodo}\r\n          </h3>\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n            gap: '1rem'\r\n          }}>\r\n            <div style={{ textAlign: 'center', padding: '1rem', background: '#f0f9ff', borderRadius: '0.5rem' }}>\r\n              <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#3b82f6' }}>\r\n                {empleadosActivos.length}\r\n              </div>\r\n              <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>Empleados Activos</div>\r\n            </div>\r\n            <div style={{ textAlign: 'center', padding: '1rem', background: '#f0fdf4', borderRadius: '0.5rem' }}>\r\n              <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#10b981' }}>\r\n                {formatearMoneda(totalNomina)}\r\n              </div>\r\n              <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>Total Nómina Neta</div>\r\n            </div>\r\n            <div style={{ textAlign: 'center', padding: '1rem', background: '#fef2f2', borderRadius: '0.5rem' }}>\r\n              <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#dc2626' }}>\r\n                {formatearMoneda(totalDeducciones)}\r\n              </div>\r\n              <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>Total Deducciones</div>\r\n            </div>\r\n            <div style={{ textAlign: 'center', padding: '1rem', background: '#fffbeb', borderRadius: '0.5rem' }}>\r\n              <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#d97706' }}>\r\n                {formatearMoneda(totalNomina + totalDeducciones)}\r\n              </div>\r\n              <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>Total Bruto</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Detalle por empleado */}\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '0.75rem',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n          border: '1px solid #e5e7eb',\r\n          overflow: 'hidden'\r\n        }}>\r\n          <div style={{ overflowX: 'auto' }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead style={{ background: '#f9fafb' }}>\r\n                <tr>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                    Empleado\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'right', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                    Salario Base\r\n                  </th>\r\n                  \r\n                  <th style={{ padding: '0.75rem', textAlign: 'right', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                    Extras/Bonos\r\n                  </th>\r\n\r\n                  <th style={{ padding: '0.75rem', textAlign: 'right', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                    Descuentos\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'right', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                    Deducciones\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'right', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                    Salario Neto\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                    Acciones\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {calculosNomina.map((calculo) => (\r\n                  <tr key={calculo.empleado.id} style={{ borderTop: '1px solid #e5e7eb' }}>\r\n                    <td style={{ padding: '0.75rem' }}>\r\n                      <div style={{ fontWeight: '500', color: '#111827' }}>\r\n                        {calculo.empleado.nombre} {calculo.empleado.apellidos}\r\n                      </div>\r\n                      <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                        {calculo.empleado.cargo}\r\n                      </div>\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'right', fontWeight: '500' }}>\r\n                      {formatearMoneda(calculo.conceptos.salarioBase)}\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'right', color: '#10b981', fontWeight: '500' }}>\r\n                      {formatearMoneda(calculo.conceptos.horasExtras + calculo.conceptos.bonificaciones)}\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'right', color: '#dc2626', fontWeight: '500' }}>\r\n                      {formatearMoneda(calculo.conceptos.descuentoFaltas || 0)}\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'right', color: '#ef4444', fontWeight: '500' }}>\r\n                      {formatearMoneda(calculo.conceptos.totalDeducciones)}\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'right', fontWeight: 'bold', color: '#10b981', fontSize: '1.125rem' }}>\r\n                      {formatearMoneda(calculo.conceptos.salarioNeto)}\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'center' }}>\r\n                      <button\r\n                        onClick={() => setModalRecibo({ open: true, nomina: { empleadoId: calculo.empleado.id, conceptos: calculo.conceptos, periodo: selectedPeriodo } })}\r\n                        style={{\r\n                          padding: '0.25rem',\r\n                          background: '#3b82f6',\r\n                          color: 'white',\r\n                          border: 'none',\r\n                          borderRadius: '0.25rem',\r\n                          cursor: 'pointer'\r\n                        }}\r\n                        title=\"Ver recibo\"\r\n                      >\r\n                        <Eye style={{ width: '1rem', height: '1rem' }} />\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n // Renderizado de ajustes de nómina\r\nconst renderAjustesNomina = () => {\r\n  \r\n\r\n  const guardarCambios = () => {\r\n    setConfigNomina(prev => ({\r\n      ...prev,\r\n      deduccionesLegales: [\r\n        { ...tssEmpleado[0], codigo: 'TSS_AFP' },\r\n        { ...tssEmpleado[1], codigo: 'TSS_SFS' },\r\n        {\r\n          codigo: 'ISR',\r\n          nombre: 'Impuesto Sobre la Renta',\r\n          aplicaSobre: 'salario_gravable',\r\n          escalas: tablaISR\r\n        }\r\n      ],\r\n      aportesPatronales: aportesPatronales\r\n    }));\r\n    showSuccessMessage('✅ Configuración actualizada correctamente');\r\n  };\r\n\r\n  const restablecerValores = () => {\r\n    if (window.confirm('¿Está seguro de restablecer los valores originales de DGII?')) {\r\n      setTablaISR([\r\n        { desde: 0, hasta: 416220.00, porcentaje: 0, montoFijo: 0 },\r\n        { desde: 416220.01, hasta: 624329.01, porcentaje: 15, montoFijo: 0 },\r\n        { desde: 624329.02, hasta: 867123.02, porcentaje: 20, montoFijo: 31215.39 },\r\n        { desde: 867123.03, hasta: 999999999, porcentaje: 25, montoFijo: 79774.18 }\r\n      ]);\r\n      setTssEmpleado([\r\n        { codigo: 'TSS_AFP', nombre: 'TSS - AFP (Pensiones)', porcentaje: 2.87, aplicaSobre: 'salario_cotizable', limite: 'salario_minimo_10_veces' },\r\n        { codigo: 'TSS_SFS', nombre: 'TSS - SFS (Salud)', porcentaje: 3.04, aplicaSobre: 'salario_cotizable', limite: 'salario_minimo_10_veces' }\r\n      ]);\r\n      setAportesPatronales([\r\n        { codigo: 'TSS_AFP_PATRONAL', nombre: 'TSS - AFP Patronal (Pensiones)', porcentaje: 7.10 },\r\n        { codigo: 'TSS_SFS_PATRONAL', nombre: 'TSS - SFS Patronal (Salud)', porcentaje: 7.09 },\r\n        { codigo: 'TSS_SRL', nombre: 'TSS - Riesgo Laboral', porcentaje: 1.10 },\r\n        { codigo: 'INFOTEP', nombre: 'INFOTEP', porcentaje: 1.0 }\r\n      ]);\r\n      showSuccessMessage('✅ Valores restablecidos');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\r\n        <h2 style={{ fontSize: '1.5rem', fontWeight: '600', color: '#111827' }}>\r\n          ⚙️ Configuración de Nómina\r\n        </h2>\r\n        <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n          <button\r\n            onClick={restablecerValores}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.5rem',\r\n              padding: '0.5rem 1rem',\r\n              background: '#6b7280',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '0.375rem',\r\n              fontWeight: '500',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <Settings style={{ width: '1rem', height: '1rem' }} />\r\n            Restablecer\r\n          </button>\r\n          <button\r\n            onClick={guardarCambios}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.5rem',\r\n              padding: '0.5rem 1rem',\r\n              background: '#10b981',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '0.375rem',\r\n              fontWeight: '500',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <Save style={{ width: '1rem', height: '1rem' }} />\r\n            Guardar Cambios\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ display: 'grid', gap: '1.5rem' }}>\r\n        {/* TABLA ISR - DGII */}\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '0.75rem',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n          border: '1px solid #e5e7eb',\r\n          padding: '1.5rem'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n            📊 Tabla ISR - DGII\r\n          </h3>\r\n          <div style={{ overflowX: 'auto' }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead style={{ background: '#f9fafb' }}>\r\n                <tr>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    Escalas\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    Límite Inferior\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    Límite Superior\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    Tasa ISR\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    Monto Fijo\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {tablaISR.map((escala, index) => (\r\n                  <tr key={index}>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'center', border: '1px solid #e5e7eb', fontWeight: '500' }}>\r\n                      {index + 1}\r\n                    </td>\r\n                    <td style={{ padding: '0.5rem', border: '1px solid #e5e7eb' }}>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={escala.desde}\r\n                        onChange={(e) => {\r\n                          const nuevaTabla = [...tablaISR];\r\n                          nuevaTabla[index].desde = Number(e.target.value);\r\n                          setTablaISR(nuevaTabla);\r\n                        }}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.5rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.25rem',\r\n                          fontSize: '0.875rem'\r\n                        }}\r\n                      />\r\n                    </td>\r\n                    <td style={{ padding: '0.5rem', border: '1px solid #e5e7eb' }}>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={escala.hasta}\r\n                        onChange={(e) => {\r\n                          const nuevaTabla = [...tablaISR];\r\n                          nuevaTabla[index].hasta = Number(e.target.value);\r\n                          setTablaISR(nuevaTabla);\r\n                        }}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.5rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.25rem',\r\n                          fontSize: '0.875rem'\r\n                        }}\r\n                      />\r\n                    </td>\r\n                    <td style={{ padding: '0.5rem', border: '1px solid #e5e7eb' }}>\r\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem' }}>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={escala.porcentaje}\r\n                          onChange={(e) => {\r\n                            const nuevaTabla = [...tablaISR];\r\n                            nuevaTabla[index].porcentaje = Number(e.target.value);\r\n                            setTablaISR(nuevaTabla);\r\n                          }}\r\n                          min=\"0\"\r\n                          max=\"100\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '0.5rem',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '0.25rem',\r\n                            fontSize: '0.875rem'\r\n                          }}\r\n                        />\r\n                        <span style={{ fontSize: '0.875rem', color: '#6b7280' }}>%</span>\r\n                      </div>\r\n                    </td>\r\n                    <td style={{ padding: '0.5rem', border: '1px solid #e5e7eb' }}>\r\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem' }}>\r\n                        <span style={{ fontSize: '0.875rem', color: '#6b7280' }}>$</span>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={escala.montoFijo}\r\n                          onChange={(e) => {\r\n                            const nuevaTabla = [...tablaISR];\r\n                            nuevaTabla[index].montoFijo = Number(e.target.value);\r\n                            setTablaISR(nuevaTabla);\r\n                          }}\r\n                          step=\"0.01\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '0.5rem',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '0.25rem',\r\n                            fontSize: '0.875rem'\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* CUOTAS TSS EMPLEADO */}\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '0.75rem',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n          border: '1px solid #e5e7eb',\r\n          padding: '1.5rem'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n            🏦 Cuotas TSS Empleado\r\n          </h3>\r\n          <div style={{ overflowX: 'auto' }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead style={{ background: '#f9fafb' }}>\r\n                <tr>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    ID\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    Descripción\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    Porcentaje\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {tssEmpleado.map((item, index) => (\r\n                  <tr key={index}>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'center', border: '1px solid #e5e7eb', fontWeight: '500' }}>\r\n                      {index + 1}\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', border: '1px solid #e5e7eb' }}>\r\n                      {item.nombre}\r\n                    </td>\r\n                    <td style={{ padding: '0.5rem', border: '1px solid #e5e7eb' }}>\r\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem', justifyContent: 'center' }}>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={item.porcentaje}\r\n                          onChange={(e) => {\r\n                            const nuevaTSS = [...tssEmpleado];\r\n                            nuevaTSS[index].porcentaje = Number(e.target.value);\r\n                            setTssEmpleado(nuevaTSS);\r\n                          }}\r\n                          min=\"0\"\r\n                          max=\"100\"\r\n                          step=\"0.01\"\r\n                          style={{\r\n                            width: '80px',\r\n                            padding: '0.5rem',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '0.25rem',\r\n                            fontSize: '0.875rem',\r\n                            textAlign: 'center'\r\n                          }}\r\n                        />\r\n                        <span style={{ fontSize: '0.875rem', color: '#6b7280' }}>%</span>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* APORTES PATRONALES */}\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '0.75rem',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n          border: '1px solid #e5e7eb',\r\n          padding: '1.5rem'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n            🏢 Aportes de la Empresa (TSS)\r\n          </h3>\r\n          <div style={{ overflowX: 'auto' }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead style={{ background: '#f9fafb' }}>\r\n                <tr>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    ID\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    Descripción\r\n                  </th>\r\n                  <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151', border: '1px solid #e5e7eb' }}>\r\n                    Porcentaje\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {aportesPatronales.map((item, index) => (\r\n                  <tr key={index}>\r\n                    <td style={{ padding: '0.75rem', textAlign: 'center', border: '1px solid #e5e7eb', fontWeight: '500' }}>\r\n                      {index + 1}\r\n                    </td>\r\n                    <td style={{ padding: '0.75rem', border: '1px solid #e5e7eb' }}>\r\n                      {item.nombre}\r\n                    </td>\r\n                    <td style={{ padding: '0.5rem', border: '1px solid #e5e7eb' }}>\r\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem', justifyContent: 'center' }}>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={item.porcentaje}\r\n                          onChange={(e) => {\r\n                            const nuevosAportes = [...aportesPatronales];\r\n                            nuevosAportes[index].porcentaje = Number(e.target.value);\r\n                            setAportesPatronales(nuevosAportes);\r\n                          }}\r\n                          min=\"0\"\r\n                          max=\"100\"\r\n                          step=\"0.01\"\r\n                          style={{\r\n                            width: '80px',\r\n                            padding: '0.5rem',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '0.25rem',\r\n                            fontSize: '0.875rem',\r\n                            textAlign: 'center'\r\n                          }}\r\n                        />\r\n                        <span style={{ fontSize: '0.875rem', color: '#6b7280' }}>%</span>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* INFO ADICIONAL */}\r\n        <div style={{\r\n          background: '#fffbeb',\r\n          border: '1px solid #fde68a',\r\n          borderRadius: '0.5rem',\r\n          padding: '1rem'\r\n        }}>\r\n          <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'start' }}>\r\n            <AlertCircle style={{ width: '1.25rem', height: '1.25rem', color: '#d97706', flexShrink: 0, marginTop: '0.125rem' }} />\r\n            <div>\r\n              <div style={{ fontWeight: '600', color: '#92400e', marginBottom: '0.5rem' }}>\r\n                ⚠️ Importante\r\n              </div>\r\n              <ul style={{ fontSize: '0.875rem', color: '#78350f', margin: 0, paddingLeft: '1.25rem' }}>\r\n                <li>Los cambios afectarán todos los cálculos de nómina futuros</li>\r\n                <li>Use \"Restablecer\" para volver a los valores oficiales de DGII</li>\r\n                <li>Verifique los montos fijos del ISR según la tabla oficial</li>\r\n                <li>El total TSS empleado será: AFP (2.87%) + SFS (3.04%) = 5.91%</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n  \r\n\r\n  // Navegación por pestañas\r\n  const tabs = [\r\n    { id: 'empleados', label: '👥 Empleados', component: renderEmpleados },\r\n    { id: 'incidencias', label: 'Incidencias', component: renderIncidencias },\r\n    { id: 'nomina', label: 'Nómina', component: renderNomina },\r\n    { id: 'ajustes', label: '⚙️ Ajustes Nómina', component: renderAjustesNomina }\r\n  ];\r\n\r\n  return (\r\n    <div style={{ padding: '1.5rem', minHeight: '100vh', background: '#f8fafc' }}>\r\n      <div style={{ maxWidth: '112rem', margin: '0 auto' }}>\r\n        {/* Header */}\r\n        <div style={{ marginBottom: '2rem' }}>\r\n          <h1 style={{ fontSize: '2.5rem', fontWeight: 'bold', color: '#111827', marginBottom: '0.5rem' }}>\r\n            Sistema Integral de Nómina RD\r\n          </h1>\r\n          <p style={{ color: '#6b7280', fontSize: '1.125rem' }}>\r\n            Gestión completa de empleados, prestaciones laborales y nómina para República Dominicana\r\n          </p>\r\n        </div>\r\n\r\n        {/* Selector de período */}\r\n        <div style={{\r\n          background: '#f0f9ff',\r\n          border: '1px solid #bae6fd',\r\n          borderRadius: '0.75rem',\r\n          padding: '1rem',\r\n          marginBottom: '2rem'\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', flexWrap: 'wrap' }}>\r\n            <Calendar style={{ width: '1.25rem', height: '1.25rem', color: '#0369a1' }} />\r\n            <div style={{ flex: 1 }}>\r\n              <label style={{ fontSize: '0.875rem', fontWeight: '500', color: '#0369a1', marginBottom: '0.5rem', display: 'block' }}>\r\n                Período de Nómina:\r\n              </label>\r\n              <select\r\n                value={selectedPeriodo}\r\n                onChange={(e) => setSelectedPeriodo(e.target.value)}\r\n                style={{\r\n                  padding: '0.5rem',\r\n                  border: '1px solid #bfdbfe',\r\n                  borderRadius: '0.375rem',\r\n                  fontSize: '0.875rem',\r\n                  background: 'white',\r\n                  fontWeight: '500'\r\n                }}\r\n              >\r\n                <option value=\"2024-07\">Julio 2024</option>\r\n                <option value=\"2024-06\">Junio 2024</option>\r\n                <option value=\"2024-05\">Mayo 2024</option>\r\n                <option value=\"2024-04\">Abril 2024</option>\r\n              </select>\r\n            </div>\r\n            <div style={{\r\n              padding: '0.5rem 1rem',\r\n              background: '#dcfce7',\r\n              color: '#166534',\r\n              borderRadius: '0.375rem',\r\n              fontSize: '0.875rem',\r\n              fontWeight: '500'\r\n            }}>\r\n              Sistema Operativo\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Navegación */}\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '0.75rem 0.75rem 0 0',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n          border: '1px solid #e5e7eb',\r\n          borderBottom: 'none'\r\n        }}>\r\n          <div style={{\r\n            display: 'flex',\r\n            overflowX: 'auto',\r\n            borderBottom: '1px solid #e5e7eb'\r\n          }}>\r\n            {tabs.map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                style={{\r\n                  padding: '1rem 1.5rem',\r\n                  borderBottom: activeTab === tab.id ? '2px solid #3b82f6' : '2px solid transparent',\r\n                  background: activeTab === tab.id ? '#f8fafc' : 'transparent',\r\n                  color: activeTab === tab.id ? '#3b82f6' : '#6b7280',\r\n                  border: 'none',\r\n                  fontWeight: activeTab === tab.id ? '600' : '500',\r\n                  fontSize: '0.875rem',\r\n                  cursor: 'pointer',\r\n                  whiteSpace: 'nowrap',\r\n                  transition: 'all 0.2s'\r\n                }}\r\n              >\r\n                {tab.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Contenido */}\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '0 0 0.75rem 0.75rem',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n          border: '1px solid #e5e7eb',\r\n          borderTop: 'none',\r\n          padding: '2rem',\r\n          minHeight: '500px'\r\n        }}>\r\n          {tabs.find(tab => tab.id === activeTab)?.component()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Modal de empleado\r\nconst ModalEmpleado = ({ empleado, modo, onClose, onSave, configNomina }) => {\r\n  const [formData, setFormData] = useState(empleado || {\r\n    nombre: '',\r\n    apellidos: '',\r\n    cedula: '',\r\n    cargo: '',\r\n    departamento: '',\r\n    tipoContrato: 'fijo',\r\n    salarioBase: configNomina.salarioMinimo,\r\n    tipoSalario: 'mensual',\r\n    fechaIngreso: new Date().toISOString().split('T')[0],\r\n    fechaNacimiento: '',\r\n    banco: '',\r\n    numeroCuenta: '',\r\n    estado: 'activo',\r\n    telefono: '',\r\n    email: '',\r\n    direccion: '',\r\n    sexo: 'M',\r\n    estadoCivil: 'soltero',\r\n    nacionalidad: 'dominicana',\r\n    tipoDocumento: 'cedula',\r\n    nivelEducativo: 'secundario',\r\n    profesion: '',\r\n    contactoEmergencia: {\r\n      nombre: '',\r\n      telefono: '',\r\n      relacion: ''\r\n    }\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSave(formData);\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      background: 'rgba(0,0,0,0.5)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      zIndex: 1000,\r\n      padding: '1rem'\r\n    }}>\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '0.75rem',\r\n        boxShadow: '0 20px 25px rgba(0,0,0,0.1)',\r\n        maxWidth: '800px',\r\n        width: '100%',\r\n        maxHeight: '90vh',\r\n        overflow: 'auto'\r\n      }}>\r\n        <div style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          padding: '1rem',\r\n          borderBottom: '1px solid #e5e7eb'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827' }}>\r\n            {modo === 'crear' ? '👤 Nuevo Empleado' : '✏️ Editar Empleado'}\r\n          </h3>\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              padding: '0.25rem',\r\n              background: '#f3f4f6',\r\n              border: 'none',\r\n              borderRadius: '0.25rem',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <X style={{ width: '1rem', height: '1rem' }} />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} style={{ padding: '1.5rem' }}>\r\n          <div style={{ display: 'grid', gap: '1.5rem' }}>\r\n            {/* Información personal */}\r\n            <div>\r\n              <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n                Información Personal\r\n              </h4>\r\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem' }}>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Nombres *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.nombre}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, nombre: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Apellidos *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.apellidos}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, apellidos: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Cédula *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.cedula}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, cedula: e.target.value }))}\r\n                    placeholder=\"000-0000000-0\"\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Fecha de Nacimiento\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={formData.fechaNacimiento}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, fechaNacimiento: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Información laboral */}\r\n            <div>\r\n              <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n                💼 Información Laboral\r\n              </h4>\r\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem' }}>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Cargo *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.cargo}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, cargo: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Departamento\r\n                  </label>\r\n                  <select\r\n                    value={formData.departamento}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, departamento: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Seleccionar</option>\r\n                    <option value=\"Tecnología\">Tecnología</option>\r\n                    <option value=\"Recursos Humanos\">Recursos Humanos</option>\r\n                    <option value=\"Finanzas\">Finanzas</option>\r\n                    <option value=\"Ventas\">Ventas</option>\r\n                    <option value=\"Operaciones\">Operaciones</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Salario Base *\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={formData.salarioBase}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, salarioBase: Number(e.target.value) }))}\r\n                    min={configNomina.salarioMinimo}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                    required\r\n                  />\r\n                  <div style={{ fontSize: '0.75rem', color: '#6b7280', marginTop: '0.25rem' }}>\r\n                    Mínimo: {configNomina.salarioMinimo.toLocaleString('es-DO')} DOP\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Fecha de Ingreso *\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={formData.fechaIngreso}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, fechaIngreso: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Información de contacto */}\r\n            <div>\r\n              <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n                📞 Información de Contacto\r\n              </h4>\r\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem' }}>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Teléfono\r\n                  </label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={formData.telefono}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, telefono: e.target.value }))}\r\n                    placeholder=\"809-555-0000\"\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={formData.email}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div style={{ gridColumn: 'span 2' }}>\r\n                  <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                    Dirección\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.direccion}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, direccion: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.5rem',\r\n                      border: '1px solid #d1d5db',\r\n                      borderRadius: '0.375rem',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{\r\n            display: 'flex',\r\n            gap: '1rem',\r\n            marginTop: '1.5rem',\r\n            paddingTop: '1rem',\r\n            borderTop: '1px solid #e5e7eb'\r\n          }}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              style={{\r\n                flex: 1,\r\n                padding: '0.75rem',\r\n                background: '#f3f4f6',\r\n                color: '#374151',\r\n                border: 'none',\r\n                borderRadius: '0.375rem',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              style={{\r\n                flex: 1,\r\n                padding: '0.75rem',\r\n                background: '#3b82f6',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '0.375rem',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              {modo === 'crear' ? 'Crear Empleado' : 'Guardar Cambios'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Modal de prestaciones\r\nconst ModalPrestaciones = ({ empleado, prestaciones, onClose, formatearMoneda }) => (\r\n  <div style={{\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: 'rgba(0,0,0,0.5)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    zIndex: 1000,\r\n    padding: '1rem'\r\n  }}>\r\n    <div style={{\r\n      background: 'white',\r\n      borderRadius: '0.75rem',\r\n      boxShadow: '0 20px 25px rgba(0,0,0,0.1)',\r\n      maxWidth: '600px',\r\n      width: '100%',\r\n      maxHeight: '90vh',\r\n      overflow: 'auto'\r\n    }}>\r\n      <div style={{\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: '1rem',\r\n        borderBottom: '1px solid #e5e7eb'\r\n      }}>\r\n        <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827' }}>\r\n          Prestaciones Laborales - {empleado.nombre} {empleado.apellidos}\r\n        </h3>\r\n        <button\r\n          onClick={onClose}\r\n          style={{\r\n            padding: '0.25rem',\r\n            background: '#f3f4f6',\r\n            border: 'none',\r\n            borderRadius: '0.25rem',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          <X style={{ width: '1rem', height: '1rem' }} />\r\n        </button>\r\n      </div>\r\n\r\n      <div style={{ padding: '1.5rem' }}>\r\n        <div style={{ display: 'grid', gap: '1rem' }}>\r\n          <div style={{\r\n            padding: '1rem',\r\n            background: '#f0f9ff',\r\n            borderRadius: '0.5rem',\r\n            border: '1px solid #bae6fd'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <div>\r\n                <div style={{ fontWeight: '600', color: '#111827' }}>Vacaciones</div>\r\n                <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                  {prestaciones.vacaciones.dias} días acumulados\r\n                </div>\r\n              </div>\r\n              <div style={{ fontSize: '1.25rem', fontWeight: 'bold', color: '#3b82f6' }}>\r\n                {formatearMoneda(prestaciones.vacaciones.valor)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{\r\n            padding: '1rem',\r\n            background: '#f0fdf4',\r\n            borderRadius: '0.5rem',\r\n            border: '1px solid #bbf7d0'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <div>\r\n                <div style={{ fontWeight: '600', color: '#111827' }}>Cesantía</div>\r\n                <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                  {prestaciones.cesantia.dias} días acumulados\r\n                </div>\r\n              </div>\r\n              <div style={{ fontSize: '1.25rem', fontWeight: 'bold', color: '#10b981' }}>\r\n                {formatearMoneda(prestaciones.cesantia.valor)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{\r\n            padding: '1rem',\r\n            background: '#fef2f2',\r\n            borderRadius: '0.5rem',\r\n            border: '1px solid #fecaca'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <div>\r\n                <div style={{ fontWeight: '600', color: '#111827' }}>Regalía Navideña</div>\r\n                <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                  {prestaciones.regaliaDiciembre.proporcional ? 'Proporcional' : 'Completa'}\r\n                </div>\r\n              </div>\r\n              <div style={{ fontSize: '1.25rem', fontWeight: 'bold', color: '#dc2626' }}>\r\n                {formatearMoneda(prestaciones.regaliaDiciembre.valor)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{\r\n            padding: '1rem',\r\n            background: '#fffbeb',\r\n            borderRadius: '0.5rem',\r\n            border: '1px solid #fde68a'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <div>\r\n                <div style={{ fontWeight: '600', color: '#111827' }}>Preaviso</div>\r\n                <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                  {prestaciones.preaviso.dias} días según antigüedad\r\n                </div>\r\n              </div>\r\n              <div style={{ fontSize: '1.25rem', fontWeight: 'bold', color: '#d97706' }}>\r\n                {formatearMoneda(prestaciones.preaviso.valor)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{\r\n            padding: '1rem',\r\n            background: '#f8fafc',\r\n            borderRadius: '0.5rem',\r\n            border: '2px solid #374151'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <div>\r\n                <div style={{ fontWeight: '600', color: '#111827', fontSize: '1.125rem' }}>Total Prestaciones</div>\r\n                <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                  Valor acumulado total\r\n                </div>\r\n              </div>\r\n              <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#111827' }}>\r\n                {formatearMoneda(prestaciones.totalPrestaciones)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Modal de operaciones masivas\r\nconst ModalOperacionMasiva = ({ tipo, empleados, onClose, onExecute, formatearMoneda }) => {\r\n  const [parametros, setParametros] = useState({\r\n    porcentaje: 10,\r\n    monto: 5000,\r\n    concepto: 'Bonificación especial',\r\n    empleadosSeleccionados: empleados.filter(e => e.estado === 'activo').map(e => e.id)\r\n  });\r\n\r\n  const handleExecute = () => {\r\n    onExecute(tipo, parametros);\r\n  };\r\n\r\n  const getTituloOperacion = () => {\r\n    switch (tipo) {\r\n      case 'aumento_salarial': return 'Aumento Salarial Masivo';\r\n      case 'regalia_navidena': return 'Cálculo de Regalía Navideña';\r\n      case 'bonificacion_especial': return 'Bonificación Especial';\r\n      default: return 'Operación Masiva';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      background: 'rgba(0,0,0,0.5)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      zIndex: 1000,\r\n      padding: '1rem'\r\n    }}>\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '0.75rem',\r\n        boxShadow: '0 20px 25px rgba(0,0,0,0.1)',\r\n        maxWidth: '600px',\r\n        width: '100%',\r\n        maxHeight: '90vh',\r\n        overflow: 'auto'\r\n      }}>\r\n        <div style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          padding: '1rem',\r\n          borderBottom: '1px solid #e5e7eb'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827' }}>\r\n            {getTituloOperacion()}\r\n          </h3>\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              padding: '0.25rem',\r\n              background: '#f3f4f6',\r\n              border: 'none',\r\n              borderRadius: '0.25rem',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <X style={{ width: '1rem', height: '1rem' }} />\r\n          </button>\r\n        </div>\r\n\r\n        <div style={{ padding: '1.5rem' }}>\r\n          {tipo === 'aumento_salarial' && (\r\n            <div style={{ display: 'grid', gap: '1rem' }}>\r\n              <div>\r\n                <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                  Porcentaje de Aumento (%)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={parametros.porcentaje}\r\n                  onChange={(e) => setParametros(prev => ({ ...prev, porcentaje: Number(e.target.value) }))}\r\n                  min=\"0\"\r\n                  max=\"100\"\r\n                  step=\"0.5\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.5rem',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '0.375rem',\r\n                    fontSize: '0.875rem'\r\n                  }}\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                  Empleados Seleccionados ({parametros.empleadosSeleccionados.length})\r\n                </label>\r\n                <div style={{ \r\n                  maxHeight: '200px', \r\n                  overflowY: 'auto', \r\n                  border: '1px solid #d1d5db', \r\n                  borderRadius: '0.375rem', \r\n                  padding: '0.5rem' \r\n                }}>\r\n                  {empleados.filter(e => e.estado === 'activo').map(empleado => (\r\n                    <label key={empleado.id} style={{ \r\n                      display: 'flex', \r\n                      alignItems: 'center', \r\n                      gap: '0.5rem', \r\n                      padding: '0.25rem',\r\n                      cursor: 'pointer' \r\n                    }}>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={parametros.empleadosSeleccionados.includes(empleado.id)}\r\n                        onChange={(e) => {\r\n                          if (e.target.checked) {\r\n                            setParametros(prev => ({\r\n                              ...prev,\r\n                              empleadosSeleccionados: [...prev.empleadosSeleccionados, empleado.id]\r\n                            }));\r\n                          } else {\r\n                            setParametros(prev => ({\r\n                              ...prev,\r\n                              empleadosSeleccionados: prev.empleadosSeleccionados.filter(id => id !== empleado.id)\r\n                            }));\r\n                          }\r\n                        }}\r\n                      />\r\n                      <span style={{ fontSize: '0.875rem' }}>\r\n                        {empleado.nombre} {empleado.apellidos} - {formatearMoneda(empleado.salarioBase)}\r\n                      </span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ \r\n                padding: '1rem', \r\n                background: '#f0f9ff', \r\n                borderRadius: '0.5rem',\r\n                border: '1px solid #bae6fd' \r\n              }}>\r\n                <div style={{ fontWeight: '600', color: '#111827', marginBottom: '0.5rem' }}>\r\n                  Vista Previa del Aumento\r\n                </div>\r\n                <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                  Empleados afectados: {parametros.empleadosSeleccionados.length}\r\n                </div>\r\n                <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                  Aumento total estimado: {formatearMoneda(\r\n                    empleados\r\n                      .filter(e => parametros.empleadosSeleccionados.includes(e.id))\r\n                      .reduce((total, emp) => total + (emp.salarioBase * parametros.porcentaje / 100), 0)\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {tipo === 'regalia_navidena' && (\r\n            <div style={{ display: 'grid', gap: '1rem' }}>\r\n              <div style={{ \r\n                padding: '1rem', \r\n                background: '#fef2f2', \r\n                borderRadius: '0.5rem',\r\n                border: '1px solid #fecaca' \r\n              }}>\r\n                <div style={{ fontWeight: '600', color: '#111827', marginBottom: '0.5rem' }}>\r\n                  🎄 Cálculo de Regalía Navideña 2024\r\n                </div>\r\n                <div style={{ fontSize: '0.875rem', color: '#6b7280', marginBottom: '1rem' }}>\r\n                  Se calculará la regalía navideña para todos los empleados activos que hayan trabajado \r\n                  al menos 3 meses durante el año.\r\n                </div>\r\n                \r\n                <div style={{ display: 'grid', gap: '0.5rem' }}>\r\n                  {empleados.filter(e => e.estado === 'activo').map(empleado => (\r\n                    <div key={empleado.id} style={{ \r\n                      display: 'flex', \r\n                      justifyContent: 'space-between', \r\n                      alignItems: 'center',\r\n                      padding: '0.5rem',\r\n                      background: 'white',\r\n                      borderRadius: '0.25rem'\r\n                    }}>\r\n                      <span style={{ fontSize: '0.875rem' }}>\r\n                        {empleado.nombre} {empleado.apellidos}\r\n                      </span>\r\n                      <span style={{ fontSize: '0.875rem', fontWeight: '500', color: '#dc2626' }}>\r\n                        {formatearMoneda(empleado.salarioBase)}\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                <div style={{ \r\n                  marginTop: '1rem', \r\n                  paddingTop: '1rem', \r\n                  borderTop: '1px solid #f3f4f6',\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  fontWeight: '600'\r\n                }}>\r\n                  <span>Total Regalía:</span>\r\n                  <span style={{ color: '#dc2626' }}>\r\n                    {formatearMoneda(\r\n                      empleados\r\n                        .filter(e => e.estado === 'activo')\r\n                        .reduce((total, emp) => total + emp.salarioBase, 0)\r\n                    )}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {tipo === 'bonificacion_especial' && (\r\n            <div style={{ display: 'grid', gap: '1rem' }}>\r\n              <div>\r\n                <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                  Monto de Bonificación\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={parametros.monto}\r\n                  onChange={(e) => setParametros(prev => ({ ...prev, monto: Number(e.target.value) }))}\r\n                  min=\"0\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.5rem',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '0.375rem',\r\n                    fontSize: '0.875rem'\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\r\n                  Concepto de la Bonificación\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={parametros.concepto}\r\n                  onChange={(e) => setParametros(prev => ({ ...prev, concepto: e.target.value }))}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.5rem',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '0.375rem',\r\n                    fontSize: '0.875rem'\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div style={{ \r\n                padding: '1rem', \r\n                background: '#f0fdf4', \r\n                borderRadius: '0.5rem',\r\n                border: '1px solid #bbf7d0' \r\n              }}>\r\n                <div style={{ fontWeight: '600', color: '#111827', marginBottom: '0.5rem' }}>\r\n                  Resumen de Bonificación\r\n                </div>\r\n                <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                  Empleados beneficiados: {empleados.filter(e => e.estado === 'activo').length}\r\n                </div>\r\n                <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                  Monto total: {formatearMoneda(parametros.monto * empleados.filter(e => e.estado === 'activo').length)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div style={{\r\n            display: 'flex',\r\n            gap: '1rem',\r\n            marginTop: '1.5rem',\r\n            paddingTop: '1rem',\r\n            borderTop: '1px solid #e5e7eb'\r\n          }}>\r\n            <button\r\n              onClick={onClose}\r\n              style={{\r\n                flex: 1,\r\n                padding: '0.75rem',\r\n                background: '#f3f4f6',\r\n                color: '#374151',\r\n                border: 'none',\r\n                borderRadius: '0.375rem',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              onClick={handleExecute}\r\n              style={{\r\n                flex: 1,\r\n                padding: '0.75rem',\r\n                background: '#dc2626',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '0.375rem',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Ejecutar Operación\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Modal de recibo de pago\r\nconst ModalRecibo = ({ nomina, empleados, onClose, formatearMoneda, configNomina }) => {\r\n  const empleado = empleados.find(e => e.id === nomina.empleadoId);\r\n  \r\n  const generarReciboHTML = () => {\r\n    return `\r\n      <div style=\"font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px;\">\r\n        <div style=\"text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 20px;\">\r\n          <h1>${configNomina.empresa.nombre}</h1>\r\n          <p>RNC: ${configNomina.empresa.rnc}</p>\r\n          <p>${configNomina.empresa.direccion}</p>\r\n          <h2>RECIBO DE PAGO</h2>\r\n        </div>\r\n        \r\n        <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;\">\r\n          <div>\r\n            <h3>DATOS DEL EMPLEADO</h3>\r\n            <p><strong>Nombre:</strong> ${empleado.nombre} ${empleado.apellidos}</p>\r\n            <p><strong>Cédula:</strong> ${empleado.cedula}</p>\r\n            <p><strong>Cargo:</strong> ${empleado.cargo}</p>\r\n            <p><strong>Departamento:</strong> ${empleado.departamento}</p>\r\n          </div>\r\n          <div>\r\n            <h3>PERÍODO DE PAGO</h3>\r\n            <p><strong>Período:</strong> ${nomina.periodo}</p>\r\n            <p><strong>Fecha Proceso:</strong> ${new Date().toLocaleDateString('es-DO')}</p>\r\n            <p><strong>Estado:</strong> Procesado</p>\r\n          </div>\r\n        </div>\r\n\r\n        <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 20px;\">\r\n          <thead style=\"background-color: #f0f0f0;\">\r\n            <tr>\r\n              <th style=\"border: 1px solid #ddd; padding: 8px; text-align: left;\">CONCEPTO</th>\r\n              <th style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">DEVENGADO</th>\r\n              <th style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">DEDUCIDO</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px;\">Salario Base</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">${formatearMoneda(nomina.conceptos.salarioBase)}</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\r\n            </tr>\r\n            <tr>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px;\">Horas Extras</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">${formatearMoneda(nomina.conceptos.horasExtras || 0)}</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\r\n            </tr>\r\n            <tr>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px;\">Bonificaciones</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">${formatearMoneda(nomina.conceptos.bonificaciones || 0)}</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\r\n            </tr>\r\n            <tr style=\"background-color: #f8f9fa;\">\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; font-weight: bold;\">TOTAL DEVENGADO</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right; font-weight: bold;\">${formatearMoneda(nomina.conceptos.totalDevengado)}</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\r\n            </tr>\r\n            <tr>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px;\">TSS (2.87%)</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">${formatearMoneda(nomina.conceptos.deduccionTSS)}</td>\r\n            </tr>\r\n            <tr>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px;\">ISR</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">${formatearMoneda(nomina.conceptos.deduccionISR || 0)}</td>\r\n            </tr>\r\n            <tr style=\"background-color: #f8f9fa;\">\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; font-weight: bold;\">TOTAL DEDUCCIONES</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right;\">-</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right; font-weight: bold;\">${formatearMoneda(nomina.conceptos.totalDeducciones)}</td>\r\n            </tr>\r\n            <tr style=\"background-color: #e8f5e8;\">\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; font-weight: bold; font-size: 18px;\">SALARIO NETO</td>\r\n              <td style=\"border: 1px solid #ddd; padding: 8px; text-align: right; font-weight: bold; font-size: 18px;\" colspan=\"2\">${formatearMoneda(nomina.conceptos.salarioNeto)}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <div style=\"text-align: center; margin-top: 30px; font-size: 12px; color: #666;\">\r\n          <p>Este documento ha sido generado electrónicamente y no requiere firma.</p>\r\n          <p>Generado el ${new Date().toLocaleDateString('es-DO')} a las ${new Date().toLocaleTimeString('es-DO')}</p>\r\n        </div>\r\n      </div>\r\n    `;\r\n  };\r\n\r\n  const descargarRecibo = () => {\r\n    const htmlContent = generarReciboHTML();\r\n    const blob = new Blob([htmlContent], { type: 'text/html' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `recibo_${empleado.nombre}_${nomina.periodo}.html`;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      background: 'rgba(0,0,0,0.5)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      zIndex: 1000,\r\n      padding: '1rem'\r\n    }}>\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '0.75rem',\r\n        boxShadow: '0 20px 25px rgba(0,0,0,0.1)',\r\n        maxWidth: '800px',\r\n        width: '100%',\r\n        maxHeight: '90vh',\r\n        overflow: 'auto'\r\n      }}>\r\n        <div style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          padding: '1rem',\r\n          borderBottom: '1px solid #e5e7eb'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827' }}>\r\n            🧾 Recibo de Pago\r\n          </h3>\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              padding: '0.25rem',\r\n              background: '#f3f4f6',\r\n              border: 'none',\r\n              borderRadius: '0.25rem',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <X style={{ width: '1rem', height: '1rem' }} />\r\n          </button>\r\n        </div>\r\n        \r\n        <div style={{ padding: '1rem' }}>\r\n          <div dangerouslySetInnerHTML={{ __html: generarReciboHTML() }} />\r\n        </div>\r\n        \r\n        <div style={{\r\n          display: 'flex',\r\n          gap: '1rem',\r\n          padding: '1rem',\r\n          borderTop: '1px solid #e5e7eb'\r\n        }}>\r\n          <button\r\n            onClick={descargarRecibo}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.5rem',\r\n              padding: '0.5rem 1rem',\r\n              background: '#3b82f6',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '0.375rem',\r\n              fontWeight: '500',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <Download style={{ width: '1rem', height: '1rem' }} />\r\n            Descargar PDF\r\n          </button>\r\n          <button\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.5rem',\r\n              padding: '0.5rem 1rem',\r\n              background: '#10b981',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '0.375rem',\r\n              fontWeight: '500',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <Send style={{ width: '1rem', height: '1rem' }} />\r\n            Enviar por Email\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SistemaNominaCompleto;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}