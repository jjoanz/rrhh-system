{"ast":null,"code":"import{Users,Settings,Shield,Check,Plus,Edit,UserCheck,Briefcase,FileText,DollarSign,Calendar,GraduationCap,Clock,Building,BadgeCheck,BarChart3,Send,User}from'lucide-react';// Navegación principal\nconst NAVIGATION_ITEMS=[{id:'dashboard',label:'Inicio',icon:BarChart3,modulo:null,path:'/dashboard'},{id:'empleados',label:'Empleados',icon:Users,modulo:'empleados',path:'/empleados'},{id:'vacantes',label:'Vacantes',icon:Briefcase,modulo:'vacantes',path:'/vacantes'},{id:'perfil',label:'Perfil',icon:User,modulo:'perfil',path:'/perfil'},{id:'postulaciones',label:'Postulaciones',icon:FileText,modulo:'postulaciones',path:'/postulaciones'},{id:'nomina',label:'Nómina',icon:DollarSign,modulo:'nomina',path:'/nomina'},{id:'vacaciones',label:'Vacaciones',icon:Calendar,modulo:'vacaciones',path:'/vacaciones'},{id:'capacitaciones',label:'Capacitaciones',icon:GraduationCap,modulo:'capacitaciones',path:'/capacitaciones'},{id:'asistencia',label:'Asistencia',icon:Clock,modulo:'asistencia',path:'/asistencia'},{id:'departamentos',label:'Departamentos',icon:Building,modulo:'departamentos',path:'/departamentos'},{id:'puestos',label:'Puestos',icon:BadgeCheck,modulo:'puestos',path:'/puestos'},{id:'reportes',label:'Reportes',icon:BarChart3,modulo:'reportes',path:'/reportes'},{id:'admin',label:'Administración',icon:Settings,modulo:'admin',path:'/admin'}];// Roles que tienen acceso directo a ciertos módulos sin necesidad de permisos explícitos\nconst ACCESO_DIRECTO_POR_ROL={vacantes:['gerente','director','gerente_rrhh','director_rrhh','rrhh','colaborador','empleado'],perfil:['gerente','director','gerente_rrhh','director_rrhh','rrhh','colaborador','empleado','admin'],postulaciones:['gerente','director','gerente_rrhh','director_rrhh','rrhh','colaborador','empleado']};/**\r\n * Devuelve los elementos de navegación que un usuario puede ver según su rol y permisos\r\n * @param {Object} user - Usuario autenticado\r\n * @param {Array} permisos - Lista de permisos con {NombreModulo, EstaVisible, PuedeVer}\r\n * @returns {Array} Navegación filtrada\r\n */export const getNavigationByRoleAndPermissions=function(user){var _ref;let permisos=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];console.log('🔍 DEBUG NAVEGACIÓN:',{user:user,userRole:(user===null||user===void 0?void 0:user.role)||(user===null||user===void 0?void 0:user.rol),permisos:permisos,permisosCount:permisos.length});if(!user)return[NAVIGATION_ITEMS[0]];// Solo dashboard si no hay usuario\nconst rolUsuario=(_ref=(user===null||user===void 0?void 0:user.rol)||(user===null||user===void 0?void 0:user.role))===null||_ref===void 0?void 0:_ref.toLowerCase().replace(/\\s+/g,'_');// Admin ve todo\nif(rolUsuario==='admin'){console.log('👑 Usuario admin - mostrando todo');return NAVIGATION_ITEMS;}// Filtrar módulos según permisos y acceso directo por rol\nconst navegacionFiltrada=NAVIGATION_ITEMS.filter(item=>{var _ACCESO_DIRECTO_POR_R;// Siempre mostrar dashboard\nif(!item.modulo){console.log('✅ Mostrando:',item.label,'(dashboard - siempre visible)');return true;}// Verificar si el rol tiene acceso directo al módulo\nconst tieneAccesoDirecto=(_ACCESO_DIRECTO_POR_R=ACCESO_DIRECTO_POR_ROL[item.modulo])===null||_ACCESO_DIRECTO_POR_R===void 0?void 0:_ACCESO_DIRECTO_POR_R.includes(rolUsuario);if(tieneAccesoDirecto){console.log('✅ Acceso directo por rol:',item.label,'(rol:',rolUsuario,')');return true;}// Buscar permiso correspondiente en la BD\nconst permiso=permisos.find(p=>{var _p$NombreModulo,_item$modulo;const moduloPermiso=(_p$NombreModulo=p.NombreModulo)===null||_p$NombreModulo===void 0?void 0:_p$NombreModulo.toLowerCase();const moduloNavegacion=(_item$modulo=item.modulo)===null||_item$modulo===void 0?void 0:_item$modulo.toLowerCase();return moduloPermiso===moduloNavegacion;});if(permiso){console.log('🔍 Evaluando:',item.label,{modulo:item.modulo,permiso:permiso,EstaVisible:permiso.EstaVisible,PuedeVer:permiso.PuedeVer,mostrar:permiso.EstaVisible!==false&&permiso.PuedeVer!==false});// Mostrar si no está explícitamente oculto y puede ver\nreturn permiso.EstaVisible!==false&&permiso.PuedeVer!==false;}else{console.log('❌ Sin permiso para:',item.label,'(módulo:',item.modulo,')');return false;}});console.log('📋 Navegación final:',navegacionFiltrada.map(n=>n.label));return navegacionFiltrada;};export default NAVIGATION_ITEMS;","map":{"version":3,"names":["Users","Settings","Shield","Check","Plus","Edit","UserCheck","Briefcase","FileText","DollarSign","Calendar","GraduationCap","Clock","Building","BadgeCheck","BarChart3","Send","User","NAVIGATION_ITEMS","id","label","icon","modulo","path","ACCESO_DIRECTO_POR_ROL","vacantes","perfil","postulaciones","getNavigationByRoleAndPermissions","user","_ref","permisos","arguments","length","undefined","console","log","userRole","role","rol","permisosCount","rolUsuario","toLowerCase","replace","navegacionFiltrada","filter","item","_ACCESO_DIRECTO_POR_R","tieneAccesoDirecto","includes","permiso","find","p","_p$NombreModulo","_item$modulo","moduloPermiso","NombreModulo","moduloNavegacion","EstaVisible","PuedeVer","mostrar","map","n"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/data/navigation.js"],"sourcesContent":["import { \r\n  Users, Settings, Shield, Check, Plus, Edit, UserCheck,\r\n  Briefcase, FileText, DollarSign, Calendar, GraduationCap,\r\n  Clock, Building, BadgeCheck, BarChart3, Send, User\r\n} from 'lucide-react';\r\n\r\n// Navegación principal\r\nconst NAVIGATION_ITEMS = [\r\n  { id: 'dashboard', label: 'Inicio', icon: BarChart3, modulo: null, path: '/dashboard' },\r\n  { id: 'empleados', label: 'Empleados', icon: Users, modulo: 'empleados', path: '/empleados' },\r\n  { id: 'vacantes', label: 'Vacantes', icon: Briefcase, modulo: 'vacantes', path: '/vacantes' },\r\n  { id: 'perfil', label: 'Perfil', icon: User, modulo: 'perfil', path: '/perfil' },\r\n  { id: 'postulaciones', label: 'Postulaciones', icon: FileText, modulo: 'postulaciones', path: '/postulaciones' },\r\n  { id: 'nomina', label: 'Nómina', icon: DollarSign, modulo: 'nomina', path: '/nomina' },\r\n  { id: 'vacaciones', label: 'Vacaciones', icon: Calendar, modulo: 'vacaciones', path: '/vacaciones' },\r\n  { id: 'capacitaciones', label: 'Capacitaciones', icon: GraduationCap, modulo: 'capacitaciones', path: '/capacitaciones' },\r\n  { id: 'asistencia', label: 'Asistencia', icon: Clock, modulo: 'asistencia', path: '/asistencia' },\r\n  { id: 'departamentos', label: 'Departamentos', icon: Building, modulo: 'departamentos', path: '/departamentos' },\r\n  { id: 'puestos', label: 'Puestos', icon: BadgeCheck, modulo: 'puestos', path: '/puestos' },\r\n  { id: 'reportes', label: 'Reportes', icon: BarChart3, modulo: 'reportes', path: '/reportes' },\r\n  { id: 'admin', label: 'Administración', icon: Settings, modulo: 'admin', path: '/admin' }\r\n];\r\n\r\n// Roles que tienen acceso directo a ciertos módulos sin necesidad de permisos explícitos\r\nconst ACCESO_DIRECTO_POR_ROL = {\r\n  vacantes: ['gerente', 'director', 'gerente_rrhh', 'director_rrhh', 'rrhh', 'colaborador', 'empleado'],\r\n  perfil: ['gerente', 'director', 'gerente_rrhh', 'director_rrhh', 'rrhh', 'colaborador', 'empleado', 'admin'],\r\n  postulaciones: ['gerente', 'director', 'gerente_rrhh', 'director_rrhh', 'rrhh', 'colaborador', 'empleado']\r\n};\r\n\r\n/**\r\n * Devuelve los elementos de navegación que un usuario puede ver según su rol y permisos\r\n * @param {Object} user - Usuario autenticado\r\n * @param {Array} permisos - Lista de permisos con {NombreModulo, EstaVisible, PuedeVer}\r\n * @returns {Array} Navegación filtrada\r\n */\r\nexport const getNavigationByRoleAndPermissions = (user, permisos = []) => {\r\n  console.log('🔍 DEBUG NAVEGACIÓN:', {\r\n    user: user,\r\n    userRole: user?.role || user?.rol,\r\n    permisos: permisos,\r\n    permisosCount: permisos.length\r\n  });\r\n\r\n  if (!user) return [NAVIGATION_ITEMS[0]]; // Solo dashboard si no hay usuario\r\n\r\n  const rolUsuario = (user?.rol || user?.role)?.toLowerCase().replace(/\\s+/g, '_');\r\n\r\n  // Admin ve todo\r\n  if (rolUsuario === 'admin') {\r\n    console.log('👑 Usuario admin - mostrando todo');\r\n    return NAVIGATION_ITEMS;\r\n  }\r\n\r\n  // Filtrar módulos según permisos y acceso directo por rol\r\n  const navegacionFiltrada = NAVIGATION_ITEMS.filter(item => {\r\n    // Siempre mostrar dashboard\r\n    if (!item.modulo) {\r\n      console.log('✅ Mostrando:', item.label, '(dashboard - siempre visible)');\r\n      return true;\r\n    }\r\n\r\n    // Verificar si el rol tiene acceso directo al módulo\r\n    const tieneAccesoDirecto = ACCESO_DIRECTO_POR_ROL[item.modulo]?.includes(rolUsuario);\r\n    \r\n    if (tieneAccesoDirecto) {\r\n      console.log('✅ Acceso directo por rol:', item.label, '(rol:', rolUsuario, ')');\r\n      return true;\r\n    }\r\n    \r\n    // Buscar permiso correspondiente en la BD\r\n    const permiso = permisos.find(p => {\r\n      const moduloPermiso = p.NombreModulo?.toLowerCase();\r\n      const moduloNavegacion = item.modulo?.toLowerCase();\r\n      return moduloPermiso === moduloNavegacion;\r\n    });\r\n\r\n    if (permiso) {\r\n      console.log('🔍 Evaluando:', item.label, {\r\n        modulo: item.modulo,\r\n        permiso: permiso,\r\n        EstaVisible: permiso.EstaVisible,\r\n        PuedeVer: permiso.PuedeVer,\r\n        mostrar: (permiso.EstaVisible !== false && permiso.PuedeVer !== false)\r\n      });\r\n      \r\n      // Mostrar si no está explícitamente oculto y puede ver\r\n      return (permiso.EstaVisible !== false && permiso.PuedeVer !== false);\r\n    } else {\r\n      console.log('❌ Sin permiso para:', item.label, '(módulo:', item.modulo, ')');\r\n      return false;\r\n    }\r\n  });\r\n\r\n  console.log('📋 Navegación final:', navegacionFiltrada.map(n => n.label));\r\n  return navegacionFiltrada;\r\n};\r\n\r\nexport default NAVIGATION_ITEMS;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}