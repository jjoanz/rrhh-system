{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../../../context/AuthContext';import{useApp}from'../../../context/AppContext';import{Calendar,Plus,Clock,Check,X,FileText,Users,ArrowRight,AlertTriangle,Edit}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VacacionesModule=()=>{var _JERARQUIA_APROBACION,_JERARQUIA_APROBACION3;const{user}=useAuth();const{showSuccessMessage,showErrorMessage}=useApp();const[activeTab,setActiveTab]=useState('solicitar');const[showManualModal,setShowManualModal]=useState(false);const[manualApprovalData,setManualApprovalData]=useState({solicitudId:null,motivo:'',accion:'aprobada'});// Estado del formulario de solicitud\nconst[solicitudForm,setSolicitudForm]=useState({fechaInicio:'',fechaFin:'',motivo:'',tipo:'vacaciones'});// Estado de loading\nconst[loading,setLoading]=useState(false);// Roles que pueden hacer aprobaciones manuales\nconst ROLES_APROBACION_MANUAL=['rrhh','gerente_rrhh','director_rrhh'];// Jerarqu√≠a de aprobaci√≥n estricta\nconst JERARQUIA_APROBACION={colaborador:['gerente','director','director_rrhh'],gerente:['director','director_rrhh'],director:['director_rrhh'],rrhh:['gerente_rrhh','director_rrhh'],gerente_rrhh:['director_rrhh'],director_rrhh:[],admin:[]};const ROLES_LABELS={colaborador:'Colaborador',gerente:'Gerente',director:'Director',rrhh:'RRHH',gerente_rrhh:'Gerente de RRHH',director_rrhh:'Director de RRHH',admin:'Administrador'};// ESTADO GLOBAL UNIFICADO - Todas las solicitudes de la empresa\nconst[solicitudesGlobales,setSolicitudesGlobales]=useState([// Solicitudes del usuario actual\n{id:1,empleado:user.name,empleadoId:user.id,empleadoRole:user.role,departamento:user.department||'IT',puesto:user.position||'Empleado',fechaInicio:'2024-08-15',fechaFin:'2024-08-25',dias:10,motivo:'Vacaciones familiares',tipo:'vacaciones',estado:'pendiente',fechaSolicitud:'2024-07-20',aprobadoPor:null,flujoAprobacion:{requeridos:JERARQUIA_APROBACION[user.role]||[],completados:[],actual:((_JERARQUIA_APROBACION=JERARQUIA_APROBACION[user.role])===null||_JERARQUIA_APROBACION===void 0?void 0:_JERARQUIA_APROBACION[0])||null,historial:[]}},{id:2,empleado:user.name,empleadoId:user.id,empleadoRole:user.role,departamento:user.department||'IT',puesto:user.position||'Empleado',fechaInicio:'2024-06-10',fechaFin:'2024-06-12',dias:2,motivo:'Asuntos personales',tipo:'permiso',estado:'aprobada',fechaSolicitud:'2024-06-01',aprobadoPor:'Luis Mart√≠nez',flujoAprobacion:{requeridos:JERARQUIA_APROBACION[user.role]||[],completados:JERARQUIA_APROBACION[user.role]||[],actual:null,historial:[{rol:'gerente',aprobadoPor:'Luis Mart√≠nez',fecha:'2024-06-01',accion:'aprobada',tipo:'normal'}]}},// =====================================================\n// üè¢ SOLICITUDES DE TODA LA EMPRESA (OTROS EMPLEADOS)\n// =====================================================\n// Colaboradores\n{id:101,empleado:'Pedro Ruiz',empleadoId:101,empleadoRole:'colaborador',departamento:'Desarrollo',puesto:'Desarrollador Backend',fechaInicio:'2024-08-20',fechaFin:'2024-08-30',dias:10,motivo:'Vacaciones de verano con familia',tipo:'vacaciones',estado:'pendiente',fechaSolicitud:'2024-07-25',flujoAprobacion:{requeridos:['gerente','director','director_rrhh'],completados:[],actual:'gerente',historial:[]}},{id:102,empleado:'Sofia Chen',empleadoId:102,empleadoRole:'colaborador',departamento:'Dise√±o',puesto:'Dise√±adora UX/UI',fechaInicio:'2024-08-05',fechaFin:'2024-08-07',dias:3,motivo:'Cita m√©dica especializada',tipo:'medico',estado:'pendiente',fechaSolicitud:'2024-07-30',flujoAprobacion:{requeridos:['gerente','director','director_rrhh'],completados:['gerente'],actual:'director',historial:[{rol:'gerente',aprobadoPor:'Mar√≠a Gonz√°lez',fecha:'2024-07-31',accion:'aprobada',tipo:'normal'}]}},{id:103,empleado:'Miguel Torres',empleadoId:103,empleadoRole:'colaborador',departamento:'QA',puesto:'QA Tester',fechaInicio:'2024-09-15',fechaFin:'2024-09-20',dias:5,motivo:'Emergencia familiar',tipo:'permiso',estado:'pendiente',fechaSolicitud:'2024-08-01',flujoAprobacion:{requeridos:['gerente','director','director_rrhh'],completados:[],actual:'gerente',historial:[]}},// Gerentes\n{id:201,empleado:'Ana L√≥pez',empleadoId:201,empleadoRole:'gerente',departamento:'Ventas',puesto:'Gerente de Ventas',fechaInicio:'2024-09-01',fechaFin:'2024-09-10',dias:9,motivo:'Vacaciones anuales',tipo:'vacaciones',estado:'aprobada',fechaSolicitud:'2024-08-01',aprobadoPor:'Carlos Director',flujoAprobacion:{requeridos:['director','director_rrhh'],completados:['director','director_rrhh'],actual:null,historial:[{rol:'director',aprobadoPor:'Carlos Director',fecha:'2024-08-02',accion:'aprobada',tipo:'normal'},{rol:'director_rrhh',aprobadoPor:'Laura RRHH',fecha:'2024-08-03',accion:'aprobada',tipo:'normal'}]}},{id:202,empleado:'Roberto Silva',empleadoId:202,empleadoRole:'gerente',departamento:'Marketing',puesto:'Gerente de Marketing',fechaInicio:'2024-08-12',fechaFin:'2024-08-16',dias:5,motivo:'Conferencia internacional',tipo:'permiso',estado:'pendiente',fechaSolicitud:'2024-08-05',flujoAprobacion:{requeridos:['director','director_rrhh'],completados:[],actual:'director',historial:[]}},// Directores\n{id:301,empleado:'Carlos Mendoza',empleadoId:301,empleadoRole:'director',departamento:'Operaciones',puesto:'Director de Operaciones',fechaInicio:'2024-09-25',fechaFin:'2024-10-05',dias:10,motivo:'Vacaciones familiares',tipo:'vacaciones',estado:'pendiente',fechaSolicitud:'2024-08-10',flujoAprobacion:{requeridos:['director_rrhh'],completados:[],actual:'director_rrhh',historial:[]}},// RRHH\n{id:401,empleado:'Lucia Morales',empleadoId:401,empleadoRole:'rrhh',departamento:'Recursos Humanos',puesto:'Especialista RRHH',fechaInicio:'2024-08-28',fechaFin:'2024-08-30',dias:3,motivo:'Asuntos personales',tipo:'permiso',estado:'pendiente',fechaSolicitud:'2024-08-15',flujoAprobacion:{requeridos:['gerente_rrhh','director_rrhh'],completados:[],actual:'gerente_rrhh',historial:[]}}]);// üéØ FUNCIONES DE VISTA PERSONALIZADA POR JERARQU√çA\nconst obtenerSolicitudesSegunJerarquia=()=>{let solicitudesFiltradas=[];switch(user.role){case'director_rrhh':// Ve TODAS las solicitudes de toda la empresa\nsolicitudesFiltradas=solicitudesGlobales;break;case'gerente_rrhh':// Ve TODAS las solicitudes de toda la empresa\nsolicitudesFiltradas=solicitudesGlobales;break;case'rrhh':// Ve solicitudes de gerentes y colaboradores (no directores)\nsolicitudesFiltradas=solicitudesGlobales.filter(s=>['colaborador','gerente','rrhh'].includes(s.empleadoRole));break;case'director':// Ve solicitudes de gerentes y colaboradores bajo su √°rea + sus propias\nsolicitudesFiltradas=solicitudesGlobales.filter(s=>['colaborador','gerente'].includes(s.empleadoRole)||s.empleadoId===user.id);break;case'gerente':// Ve solicitudes de colaboradores directos y sus propias\nsolicitudesFiltradas=solicitudesGlobales.filter(s=>s.empleadoRole==='colaborador'||s.empleadoId===user.id);break;case'colaborador':default:// Solo ve sus propias solicitudes\nsolicitudesFiltradas=solicitudesGlobales.filter(s=>s.empleadoId===user.id);break;}return solicitudesFiltradas;};// Verificar si el usuario puede aprobar una solicitud\nconst puedeAprobar=solicitud=>{const flujo=solicitud.flujoAprobacion;// Si es el rol actual en el flujo, puede aprobar\nif(flujo.actual===user.role){return{puede:true,motivo:'normal'};}// Si puede hacer aprobaci√≥n manual\nif(ROLES_APROBACION_MANUAL.includes(user.role)){return{puede:true,motivo:'manual'};}return{puede:false,motivo:'sin_permisos'};};// üëÅÔ∏è FUNCI√ìN PARA OBTENER ETIQUETA DE VISTA SEG√öN ROL\nconst getEtiquetaVista=()=>{switch(user.role){case'director_rrhh':return'Vista Global Completa - Toda la Empresa';case'gerente_rrhh':return'Vista Global Completa - Toda la Empresa';case'rrhh':return'Vista RRHH - Gerentes y Colaboradores';case'director':return'Vista Directiva - Gerentes y Colaboradores';case'gerente':return'Vista Gerencial - Colaboradores Directos';case'colaborador':default:return'Vista Personal - Mis Solicitudes';}};// üîÑ FUNCI√ìN PARA OBTENER SOLICITUDES PENDIENTES SEG√öN ROL\nconst getSolicitudesPendientesPorRol=()=>{return solicitudesGlobales.filter(solicitud=>{if(solicitud.estado!=='pendiente')return false;const permisos=puedeAprobar(solicitud);return permisos.puede;});};// Funciones de c√°lculo de d√≠as\nconst calcularDias=()=>{if(solicitudForm.fechaInicio&&solicitudForm.fechaFin){const inicio=new Date(solicitudForm.fechaInicio);const fin=new Date(solicitudForm.fechaFin);const diffTime=fin-inicio;const diffDays=Math.ceil(diffTime/(1000*60*60*24))+1;return diffDays>0?diffDays:0;}return 0;};const calcularDiasHabiles=()=>{if(solicitudForm.fechaInicio&&solicitudForm.fechaFin){const inicio=new Date(solicitudForm.fechaInicio);const fin=new Date(solicitudForm.fechaFin);let diasHabiles=0;for(let d=new Date(inicio);d<=fin;d.setDate(d.getDate()+1)){const diaSemana=d.getDay();if(diaSemana!==0&&diaSemana!==6){// No es domingo (0) ni s√°bado (6)\ndiasHabiles++;}}return diasHabiles;}return 0;};// üìù FUNCI√ìN GLOBAL PARA CREAR NUEVA SOLICITUD\nconst handleSubmitSolicitud=e=>{var _JERARQUIA_APROBACION2;e.preventDefault();if(!solicitudForm.fechaInicio||!solicitudForm.fechaFin||!solicitudForm.motivo.trim()){showErrorMessage('Por favor completa todos los campos obligatorios');return;}const inicio=new Date(solicitudForm.fechaInicio);const fin=new Date(solicitudForm.fechaFin);if(inicio>=fin){showErrorMessage('La fecha de fin debe ser posterior a la fecha de inicio');return;}if(inicio<=new Date()){showErrorMessage('La fecha de inicio debe ser futura');return;}const diasSolicitados=calcularDias();const diasDisponibles=user.vacationDays-user.usedVacationDays;if(diasSolicitados>diasDisponibles&&solicitudForm.tipo==='vacaciones'){showErrorMessage(`No tienes suficientes d√≠as disponibles. Solicitas ${diasSolicitados} d√≠as pero solo tienes ${diasDisponibles} disponibles.`);return;}// üåê CREAR NUEVA SOLICITUD EN EL POOL GLOBAL\nconst nuevaSolicitud={id:Date.now(),// ID √∫nico temporal\nempleado:user.name,empleadoId:user.id,empleadoRole:user.role,departamento:user.department||'General',puesto:user.position||user.role,fechaInicio:solicitudForm.fechaInicio,fechaFin:solicitudForm.fechaFin,dias:diasSolicitados,motivo:solicitudForm.motivo,tipo:solicitudForm.tipo,estado:'pendiente',fechaSolicitud:new Date().toISOString(),aprobadoPor:null,flujoAprobacion:{requeridos:JERARQUIA_APROBACION[user.role]||[],completados:[],actual:((_JERARQUIA_APROBACION2=JERARQUIA_APROBACION[user.role])===null||_JERARQUIA_APROBACION2===void 0?void 0:_JERARQUIA_APROBACION2[0])||null,historial:[]}};// Agregar al pool global - todos la ven seg√∫n su jerarqu√≠a\nsetSolicitudesGlobales(prev=>[nuevaSolicitud,...prev]);showSuccessMessage(`Solicitud de ${diasSolicitados} d√≠as enviada correctamente. Visible para toda la jerarqu√≠a de aprobaci√≥n.`);// Limpiar formulario\nsetSolicitudForm({fechaInicio:'',fechaFin:'',motivo:'',tipo:'vacaciones'});};// üîÑ FUNCI√ìN GLOBAL DE APROBACI√ìN\nconst handleAprobarSolicitud=function(solicitudId,accion){let esManual=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let motivoManual=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';setSolicitudesGlobales(prev=>prev.map(solicitud=>{if(solicitud.id===solicitudId){const nuevoFlujo={...solicitud.flujoAprobacion};// Agregar al historial\nconst evento={rol:user.role,aprobadoPor:user.name,fecha:new Date().toISOString(),accion:accion,tipo:esManual?'manual':'normal',motivoManual:esManual?motivoManual:undefined};nuevoFlujo.historial.push(evento);if(accion==='aprobada'){if(esManual){// Aprobaci√≥n manual - saltar al final\nreturn{...solicitud,flujoAprobacion:nuevoFlujo,estado:'aprobada',fechaAprobacionFinal:new Date().toISOString(),aprobacionManual:true,aprobadoPor:user.name};}else{// Aprobaci√≥n normal - seguir el flujo\nnuevoFlujo.completados.push(user.role);const siguienteIndex=nuevoFlujo.requeridos.indexOf(user.role)+1;if(siguienteIndex<nuevoFlujo.requeridos.length){nuevoFlujo.actual=nuevoFlujo.requeridos[siguienteIndex];return{...solicitud,flujoAprobacion:nuevoFlujo,estado:'pendiente'};}else{return{...solicitud,flujoAprobacion:nuevoFlujo,estado:'aprobada',fechaAprobacionFinal:new Date().toISOString(),aprobadoPor:user.name};}}}else{// Rechazada\nreturn{...solicitud,flujoAprobacion:nuevoFlujo,estado:'rechazada',fechaRechazo:new Date().toISOString(),aprobadoPor:user.name};}}return solicitud;}));if(esManual){showSuccessMessage(`Aprobaci√≥n manual registrada: ${accion} - Actualizaci√≥n global aplicada`);}else{const mensaje=accion==='aprobada'?'Solicitud aprobada y enviada al siguiente nivel - Actualizaci√≥n global aplicada':'Solicitud rechazada - Actualizaci√≥n global aplicada';showSuccessMessage(mensaje);}};const handleManualApproval=()=>{if(!manualApprovalData.motivo.trim()){showErrorMessage('Debes proporcionar un motivo para la aprobaci√≥n manual');return;}handleAprobarSolicitud(manualApprovalData.solicitudId,manualApprovalData.accion,true,manualApprovalData.motivo);setShowManualModal(false);setManualApprovalData({solicitudId:null,motivo:'',accion:'aprobada'});};const openManualModal=function(solicitudId){let accion=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'aprobada';setManualApprovalData({solicitudId,motivo:'',accion});setShowManualModal(true);};const getEstadoColor=estado=>{switch(estado){case'aprobada':return{bg:'#f0fdf4',color:'#166534',border:'#bbf7d0'};case'rechazada':return{bg:'#fef2f2',color:'#dc2626',border:'#fecaca'};case'pendiente':return{bg:'#fff7ed',color:'#ea580c',border:'#fed7aa'};default:return{bg:'#f9fafb',color:'#374151',border:'#e5e7eb'};}};const getTipoLabel=tipo=>{switch(tipo){case'vacaciones':return'Vacaciones';case'permiso':return'Permiso Personal';case'medico':return'Permiso M√©dico';default:return tipo;}};const FlujAprobacion=_ref=>{let{flujo,estado,aprobacionManual}=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',padding:'1rem',background:'#f8fafc',borderRadius:'0.5rem',border:'1px solid #e2e8f0'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#374151',margin:0},children:\"Flujo de Aprobaci\\xF3n\"}),aprobacionManual&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.5rem',borderRadius:'9999px',fontSize:'0.625rem',fontWeight:'600',background:'#fef3c7',color:'#92400e',border:'1px solid #fcd34d'},children:\"APROBACI\\xD3N MANUAL\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',flexWrap:'wrap'},children:flujo.requeridos.map((rol,index)=>{const isCompleted=flujo.completados.includes(rol);const isCurrent=flujo.actual===rol&&estado==='pendiente';const isRejected=estado==='rechazada'&&flujo.historial.some(h=>h.rol===rol&&h.accion==='rechazada');const isBlocked=!isCompleted&&!isCurrent&&!isRejected&&index>0&&!flujo.completados.includes(flujo.requeridos[index-1]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0.25rem 0.75rem',borderRadius:'9999px',fontSize:'0.75rem',fontWeight:'500',background:isCompleted?'#f0fdf4':isCurrent?'#fff7ed':isRejected?'#fef2f2':isBlocked?'#f1f5f9':'#f1f5f9',color:isCompleted?'#166534':isCurrent?'#ea580c':isRejected?'#dc2626':isBlocked?'#94a3b8':'#64748b',border:`1px solid ${isCompleted?'#bbf7d0':isCurrent?'#fed7aa':isRejected?'#fecaca':isBlocked?'#e2e8f0':'#cbd5e1'}`,display:'flex',alignItems:'center',gap:'0.25rem',opacity:isBlocked?0.6:1},children:[isCompleted&&/*#__PURE__*/_jsx(Check,{style:{width:'0.75rem',height:'0.75rem'}}),isCurrent&&/*#__PURE__*/_jsx(Clock,{style:{width:'0.75rem',height:'0.75rem'}}),isRejected&&/*#__PURE__*/_jsx(X,{style:{width:'0.75rem',height:'0.75rem'}}),isBlocked&&/*#__PURE__*/_jsx(AlertTriangle,{style:{width:'0.75rem',height:'0.75rem'}}),ROLES_LABELS[rol]]}),index<flujo.requeridos.length-1&&/*#__PURE__*/_jsx(ArrowRight,{style:{width:'1rem',height:'1rem',color:'#9ca3af'}})]},rol);})}),flujo.historial.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.75rem'},children:[/*#__PURE__*/_jsx(\"h6\",{style:{fontSize:'0.75rem',fontWeight:'600',color:'#6b7280',margin:0,marginBottom:'0.5rem'},children:\"HISTORIAL DE APROBACIONES\"}),flujo.historial.map((evento,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#6b7280',marginBottom:'0.5rem',padding:'0.5rem',background:evento.tipo==='manual'?'#fef3c7':'transparent',borderRadius:'0.25rem',border:evento.tipo==='manual'?'1px solid #fcd34d':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[evento.accion==='aprobada'?'‚úÖ':'‚ùå',/*#__PURE__*/_jsx(\"strong\",{children:ROLES_LABELS[evento.rol]}),\": \",evento.aprobadoPor,evento.tipo==='manual'&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.125rem 0.375rem',borderRadius:'9999px',fontSize:'0.625rem',fontWeight:'600',background:'#92400e',color:'#fef3c7'},children:\"MANUAL\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:'1.25rem',marginTop:'0.25rem'},children:[\"Fecha: \",new Date(evento.fecha).toLocaleString(),evento.motivoManual&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.25rem',fontStyle:'italic'},children:[\"Motivo: \",evento.motivoManual]})]})]},index))]})]});};const solicitudesPendientes=getSolicitudesPendientesPorRol();const solicitudesParaHistorial=obtenerSolicitudesSegunJerarquia();return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem'},children:[showManualModal&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',padding:'1.5rem',maxWidth:'28rem',width:'90%',boxShadow:'0 20px 25px -5px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Aprobaci\\xF3n Manual\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:'#fef3c7',border:'1px solid #fcd34d',borderRadius:'0.5rem',padding:'0.75rem',marginBottom:'1rem'},children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#92400e',margin:0},children:\"\\u26A0\\uFE0F Esta acci\\xF3n saltar\\xE1 el flujo normal de aprobaci\\xF3n y ser\\xE1 registrada como aprobaci\\xF3n manual.\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Acci\\xF3n\"}),/*#__PURE__*/_jsxs(\"select\",{value:manualApprovalData.accion,onChange:e=>setManualApprovalData(prev=>({...prev,accion:e.target.value})),style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"aprobada\",children:\"Aprobar\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rechazada\",children:\"Rechazar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Motivo de la aprobaci\\xF3n manual *\"}),/*#__PURE__*/_jsx(\"textarea\",{value:manualApprovalData.motivo,onChange:e=>setManualApprovalData(prev=>({...prev,motivo:e.target.value})),placeholder:\"Ej: Aprobaci\\xF3n urgente por emergencia familiar, autorizaci\\xF3n directa del CEO, etc.\",rows:3,style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem',resize:'vertical'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowManualModal(false),style:{padding:'0.5rem 1rem',background:'#f3f4f6',color:'#374151',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem',cursor:'pointer'},children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleManualApproval,style:{padding:'0.5rem 1rem',background:'#dc2626',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:'pointer'},children:\"Confirmar Aprobaci\\xF3n Manual\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'112rem',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#111827',marginBottom:'0.5rem'},children:\"Sistema Global de Vacaciones\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',fontSize:'1.125rem',marginBottom:'2rem'},children:getEtiquetaVista()}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(15rem, 1fr))',gap:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"D\\xEDas Disponibles\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#10b981',margin:0},children:user.vacationDays-user.usedVacationDays})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Pendientes en Mi Nivel\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#f59e0b',margin:0},children:solicitudesPendientes.length})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Vista Global\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'1rem',fontWeight:'bold',color:'#3b82f6',margin:0},children:[solicitudesParaHistorial.length,\" solicitudes\",ROLES_APROBACION_MANUAL.includes(user.role)&&/*#__PURE__*/_jsx(\"span\",{style:{display:'block',fontSize:'0.75rem',color:'#dc2626',fontWeight:'500'},children:\"+ Aprobaci\\xF3n Manual\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('solicitar'),style:{flex:1,padding:'1rem',border:'none',background:activeTab==='solicitar'?'#f8fafc':'transparent',color:activeTab==='solicitar'?'#3b82f6':'#6b7280',fontWeight:activeTab==='solicitar'?'600':'500',cursor:'pointer'},children:\"Solicitar Vacaciones\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('historial'),style:{flex:1,padding:'1rem',border:'none',background:activeTab==='historial'?'#f8fafc':'transparent',color:activeTab==='historial'?'#3b82f6':'#6b7280',fontWeight:activeTab==='historial'?'600':'500',cursor:'pointer'},children:[\"Historial Global (\",solicitudesParaHistorial.length,\")\"]}),['gerente','director','rrhh','gerente_rrhh','director_rrhh'].includes(user.role)&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('aprobar'),style:{flex:1,padding:'1rem',border:'none',background:activeTab==='aprobar'?'#f8fafc':'transparent',color:activeTab==='aprobar'?'#3b82f6':'#6b7280',fontWeight:activeTab==='aprobar'?'600':'500',cursor:'pointer',position:'relative'},children:[\"Aprobar Solicitudes\",solicitudesPendientes.length>0&&/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:'0.5rem',right:'0.5rem',background:'#dc2626',color:'white',borderRadius:'50%',width:'1.5rem',height:'1.5rem',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'0.75rem',fontWeight:'bold'},children:solicitudesPendientes.length})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem'},children:[activeTab==='solicitar'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1.5rem'},children:\"Nueva Solicitud de Vacaciones\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#eff6ff',border:'1px solid #bfdbfe',borderRadius:'0.5rem',padding:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#1d4ed8',margin:0,marginBottom:'0.5rem'},children:\"Flujo de Aprobaci\\xF3n Requerido:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',flexWrap:'wrap'},children:((_JERARQUIA_APROBACION3=JERARQUIA_APROBACION[user.role])===null||_JERARQUIA_APROBACION3===void 0?void 0:_JERARQUIA_APROBACION3.map((rol,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{style:{padding:'0.25rem 0.75rem',borderRadius:'9999px',fontSize:'0.75rem',fontWeight:'500',background:'#dbeafe',color:'#1d4ed8',border:'1px solid #bfdbfe'},children:[index+1,\". \",ROLES_LABELS[rol]]}),index<JERARQUIA_APROBACION[user.role].length-1&&/*#__PURE__*/_jsx(ArrowRight,{style:{width:'1rem',height:'1rem',color:'#3b82f6'}})]},rol)))||/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',color:'#1d4ed8'},children:\"No requiere aprobaci\\xF3n adicional\"})}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#1d4ed8',margin:0,marginTop:'0.5rem'},children:\"\\uD83C\\uDF10 Tu solicitud ser\\xE1 visible para toda la jerarqu\\xEDa de aprobaci\\xF3n inmediatamente\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitSolicitud,style:{maxWidth:'32rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Tipo de Solicitud *\"}),/*#__PURE__*/_jsxs(\"select\",{value:solicitudForm.tipo,onChange:e=>setSolicitudForm(prev=>({...prev,tipo:e.target.value})),style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem',outline:'none'},required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"vacaciones\",children:\"Vacaciones\"}),/*#__PURE__*/_jsx(\"option\",{value:\"permiso\",children:\"Permiso Personal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medico\",children:\"Permiso M\\xE9dico\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Fecha de Inicio *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:solicitudForm.fechaInicio,onChange:e=>setSolicitudForm(prev=>({...prev,fechaInicio:e.target.value})),min:new Date(Date.now()+86400000).toISOString().split('T')[0]// M√≠nimo ma√±ana\n,style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem',outline:'none'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Fecha de Fin *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:solicitudForm.fechaFin,onChange:e=>setSolicitudForm(prev=>({...prev,fechaFin:e.target.value})),min:solicitudForm.fechaInicio||new Date(Date.now()+86400000).toISOString().split('T')[0],style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem',outline:'none'},required:true})]})]}),calcularDias()>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f0f9ff',border:'1px solid #bae6fd',borderRadius:'0.5rem',padding:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(8rem, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#0369a1',margin:0,marginBottom:'0.25rem',fontWeight:'600'},children:\"D\\xCDAS TOTALES\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#0369a1',margin:0},children:calcularDias()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#0369a1',margin:0,marginBottom:'0.25rem',fontWeight:'600'},children:\"D\\xCDAS H\\xC1BILES\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#0369a1',margin:0},children:calcularDiasHabiles()})]}),solicitudForm.tipo==='vacaciones'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#0369a1',margin:0,marginBottom:'0.25rem',fontWeight:'600'},children:\"D\\xCDAS DISPONIBLES\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:user.vacationDays-user.usedVacationDays>=calcularDias()?'#0369a1':'#dc2626',margin:0},children:user.vacationDays-user.usedVacationDays})]})]}),solicitudForm.tipo==='vacaciones'&&calcularDias()>user.vacationDays-user.usedVacationDays&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'0.75rem',padding:'0.5rem',background:'#fef2f2',border:'1px solid #fecaca',borderRadius:'0.375rem'},children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#dc2626',margin:0},children:\"\\u26A0\\uFE0F No tienes suficientes d\\xEDas de vacaciones disponibles\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Motivo / Justificaci\\xF3n *\"}),/*#__PURE__*/_jsx(\"textarea\",{value:solicitudForm.motivo,onChange:e=>setSolicitudForm(prev=>({...prev,motivo:e.target.value})),placeholder:\"Describe el motivo de tu solicitud...\",rows:4,style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem',outline:'none',resize:'vertical'},required:true}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:'0.25rem 0 0 0'},children:\"Proporciona una justificaci\\xF3n clara para facilitar el proceso de aprobaci\\xF3n\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:!solicitudForm.fechaInicio||!solicitudForm.fechaFin||!solicitudForm.motivo.trim()||loading,style:{background:!solicitudForm.fechaInicio||!solicitudForm.fechaFin||!solicitudForm.motivo.trim()?'#9ca3af':'#3b82f6',color:'white',padding:'0.75rem 1.5rem',borderRadius:'0.5rem',border:'none',fontSize:'1rem',fontWeight:'500',cursor:!solicitudForm.fechaInicio||!solicitudForm.fechaFin||!solicitudForm.motivo.trim()?'not-allowed':'pointer',display:'flex',alignItems:'center',gap:'0.5rem',transition:'all 0.2s'},children:[/*#__PURE__*/_jsx(Plus,{style:{width:'1rem',height:'1rem'}}),loading?'Enviando...':'Enviar a Sistema Global']})]})]}),activeTab==='historial'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:getEtiquetaVista()}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',marginBottom:'1.5rem'},children:[\"Mostrando \",solicitudesParaHistorial.length,\" solicitudes seg\\xFAn tu nivel de acceso jer\\xE1rquico\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:[solicitudesParaHistorial.sort((a,b)=>new Date(b.fechaSolicitud)-new Date(a.fechaSolicitud)).map(solicitud=>{const estadoStyle=getEstadoColor(solicitud.estado);const esMiaSolicitud=solicitud.empleadoId===user.id;return/*#__PURE__*/_jsxs(\"div\",{style:{border:esMiaSolicitud?'2px solid #3b82f6':'1px solid #e5e7eb',borderRadius:'0.5rem',padding:'1.5rem',background:esMiaSolicitud?'#f8fafc':'#fafafa'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',margin:0,marginBottom:'0.5rem'},children:[solicitud.empleado,\" - \",getTipoLabel(solicitud.tipo),esMiaSolicitud&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'0.5rem',padding:'0.125rem 0.5rem',borderRadius:'9999px',fontSize:'0.75rem',fontWeight:'500',background:'#dbeafe',color:'#1d4ed8'},children:\"MIA\"})]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0},children:[solicitud.puesto,\" \\u2022 \",solicitud.departamento,\" \\u2022 Solicitado el \",new Date(solicitud.fechaSolicitud).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"span\",{style:{padding:'0.25rem 0.75rem',borderRadius:'9999px',fontSize:'0.75rem',fontWeight:'500',background:estadoStyle.bg,color:estadoStyle.color,border:`1px solid ${estadoStyle.border}`,textTransform:'capitalize'},children:[solicitud.estado==='pendiente'&&/*#__PURE__*/_jsx(Clock,{style:{width:'0.75rem',height:'0.75rem',display:'inline',marginRight:'0.25rem'}}),solicitud.estado==='aprobada'&&/*#__PURE__*/_jsx(Check,{style:{width:'0.75rem',height:'0.75rem',display:'inline',marginRight:'0.25rem'}}),solicitud.estado==='rechazada'&&/*#__PURE__*/_jsx(X,{style:{width:'0.75rem',height:'0.75rem',display:'inline',marginRight:'0.25rem'}}),solicitud.estado]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(10rem, 1fr))',gap:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"FECHA INICIO\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#111827',margin:0},children:new Date(solicitud.fechaInicio).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"FECHA FIN\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#111827',margin:0},children:new Date(solicitud.fechaFin).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"D\\xCDAS\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#111827',margin:0},children:[solicitud.dias,\" d\\xEDas\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"MOTIVO\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#111827',margin:0},children:solicitud.motivo})]}),solicitud.aprobadoPor&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"APROBADO POR\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#111827',margin:0},children:solicitud.aprobadoPor})]}),solicitud.flujoAprobacion&&/*#__PURE__*/_jsx(FlujAprobacion,{flujo:solicitud.flujoAprobacion,estado:solicitud.estado,aprobacionManual:solicitud.aprobacionManual})]},solicitud.id);}),solicitudesParaHistorial.length===0&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',background:'#f9fafb',borderRadius:'0.5rem',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(FileText,{style:{width:'3rem',height:'3rem',color:'#9ca3af',margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',margin:0,marginBottom:'0.5rem'},children:\"No hay solicitudes en tu vista\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',margin:0},children:\"No tienes acceso a solicitudes en este momento seg\\xFAn tu rol jer\\xE1rquico.\"})]})]})]}),activeTab==='aprobar'&&['gerente','director','rrhh','gerente_rrhh','director_rrhh'].includes(user.role)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:[\"Solicitudes Pendientes de Aprobaci\\xF3n (\",solicitudesPendientes.length,\")\"]}),ROLES_APROBACION_MANUAL.includes(user.role)&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fef3c7',border:'1px solid #fcd34d',borderRadius:'0.5rem',padding:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#92400e',margin:0,marginBottom:'0.5rem'},children:\"\\uD83D\\uDD11 Privilegios de Aprobaci\\xF3n Manual\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.75rem',color:'#92400e',margin:0},children:[\"Como \",ROLES_LABELS[user.role],\", puedes realizar aprobaciones manuales que saltan el flujo normal. Estas aprobaciones se reflejan globalmente y quedan registradas con motivo.\"]})]}),solicitudesPendientes.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',background:'#f9fafb',borderRadius:'0.5rem',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(Users,{style:{width:'3rem',height:'3rem',color:'#9ca3af',margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',margin:0,marginBottom:'0.5rem'},children:\"No hay solicitudes pendientes en tu nivel\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',margin:0},children:\"Todas las solicitudes han sido procesadas o est\\xE1n en otros niveles de aprobaci\\xF3n.\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:solicitudesPendientes.map(solicitud=>{const permisos=puedeAprobar(solicitud);const esAprobacionNormal=permisos.motivo==='normal';return/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'0.5rem',padding:'1.5rem',background:esAprobacionNormal?'#fffbeb':'#fef3c7'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',margin:0,marginBottom:'0.5rem'},children:[solicitud.empleado,\" - \",getTipoLabel(solicitud.tipo)]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0},children:[solicitud.puesto,\" \\u2022 \",solicitud.departamento,\" \\u2022 \",solicitud.dias,\" d\\xEDas \\u2022\",new Date(solicitud.fechaInicio).toLocaleDateString(),\" - \",new Date(solicitud.fechaFin).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'end',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.75rem',borderRadius:'9999px',fontSize:'0.75rem',fontWeight:'500',background:esAprobacionNormal?'#fff7ed':'#fef3c7',color:esAprobacionNormal?'#ea580c':'#92400e',border:`1px solid ${esAprobacionNormal?'#fed7aa':'#fcd34d'}`},children:esAprobacionNormal?'Tu turno de aprobaci√≥n':'Aprobaci√≥n manual disponible'}),!esAprobacionNormal&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.625rem',color:'#92400e',fontStyle:'italic'},children:\"Saltar\\xE1 el flujo normal\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0,marginBottom:'0.25rem'},children:\"MOTIVO\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#111827',margin:0},children:solicitud.motivo})]}),/*#__PURE__*/_jsx(FlujAprobacion,{flujo:solicitud.flujoAprobacion,estado:solicitud.estado,aprobacionManual:solicitud.aprobacionManual}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1.5rem'},children:esAprobacionNormal?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleAprobarSolicitud(solicitud.id,'aprobada'),style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Check,{style:{width:'1rem',height:'1rem'}}),\"Aprobar y Enviar al Siguiente Nivel\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleAprobarSolicitud(solicitud.id,'rechazada'),style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#ef4444',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(X,{style:{width:'1rem',height:'1rem'}}),\"Rechazar Solicitud\"]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'#fef3c7',border:'1px solid #fcd34d',borderRadius:'0.375rem',padding:'0.75rem',marginBottom:'0.75rem'},children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#92400e',margin:0},children:\"\\u26A0\\uFE0F Esta solicitud no est\\xE1 en tu nivel de aprobaci\\xF3n normal, pero puedes hacer una aprobaci\\xF3n manual que se reflejar\\xE1 globalmente.\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openManualModal(solicitud.id,'aprobada'),style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#dc2626',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Edit,{style:{width:'1rem',height:'1rem'}}),\"Aprobaci\\xF3n Manual Global\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openManualModal(solicitud.id,'rechazada'),style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#6b7280',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:'pointer'},children:[/*#__PURE__*/_jsx(X,{style:{width:'1rem',height:'1rem'}}),\"Rechazo Manual Global\"]})]})]})})]},solicitud.id);})})]})]})]})]})]});};export default VacacionesModule;","map":{"version":3,"names":["React","useState","useAuth","useApp","Calendar","Plus","Clock","Check","X","FileText","Users","ArrowRight","AlertTriangle","Edit","jsx","_jsx","jsxs","_jsxs","VacacionesModule","_JERARQUIA_APROBACION","_JERARQUIA_APROBACION3","user","showSuccessMessage","showErrorMessage","activeTab","setActiveTab","showManualModal","setShowManualModal","manualApprovalData","setManualApprovalData","solicitudId","motivo","accion","solicitudForm","setSolicitudForm","fechaInicio","fechaFin","tipo","loading","setLoading","ROLES_APROBACION_MANUAL","JERARQUIA_APROBACION","colaborador","gerente","director","rrhh","gerente_rrhh","director_rrhh","admin","ROLES_LABELS","solicitudesGlobales","setSolicitudesGlobales","id","empleado","name","empleadoId","empleadoRole","role","departamento","department","puesto","position","dias","estado","fechaSolicitud","aprobadoPor","flujoAprobacion","requeridos","completados","actual","historial","rol","fecha","obtenerSolicitudesSegunJerarquia","solicitudesFiltradas","filter","s","includes","puedeAprobar","solicitud","flujo","puede","getEtiquetaVista","getSolicitudesPendientesPorRol","permisos","calcularDias","inicio","Date","fin","diffTime","diffDays","Math","ceil","calcularDiasHabiles","diasHabiles","d","setDate","getDate","diaSemana","getDay","handleSubmitSolicitud","e","_JERARQUIA_APROBACION2","preventDefault","trim","diasSolicitados","diasDisponibles","vacationDays","usedVacationDays","nuevaSolicitud","now","toISOString","prev","handleAprobarSolicitud","esManual","arguments","length","undefined","motivoManual","map","nuevoFlujo","evento","push","fechaAprobacionFinal","aprobacionManual","siguienteIndex","indexOf","fechaRechazo","mensaje","handleManualApproval","openManualModal","getEstadoColor","bg","color","border","getTipoLabel","FlujAprobacion","_ref","style","marginTop","padding","background","borderRadius","children","display","alignItems","justifyContent","marginBottom","fontSize","fontWeight","margin","gap","flexWrap","index","isCompleted","isCurrent","isRejected","some","h","isBlocked","Fragment","opacity","width","height","marginLeft","toLocaleString","fontStyle","solicitudesPendientes","solicitudesParaHistorial","top","left","right","bottom","zIndex","maxWidth","boxShadow","value","onChange","target","placeholder","rows","resize","onClick","cursor","gridTemplateColumns","borderBottom","flex","onSubmit","outline","required","type","min","split","disabled","transition","flexDirection","sort","a","b","estadoStyle","esMiaSolicitud","toLocaleDateString","textTransform","marginRight","textAlign","esAprobacionNormal"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/components/modules/vacaciones/VacacionesModule.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from '../../../context/AuthContext';\r\nimport { useApp } from '../../../context/AppContext';\r\nimport { Calendar, Plus, Clock, Check, X, FileText, Users, ArrowRight, AlertTriangle, Edit } from 'lucide-react';\r\n\r\nconst VacacionesModule = () => {\r\n  const { user } = useAuth();\r\n  const { showSuccessMessage, showErrorMessage } = useApp();\r\n  const [activeTab, setActiveTab] = useState('solicitar');\r\n  const [showManualModal, setShowManualModal] = useState(false);\r\n  const [manualApprovalData, setManualApprovalData] = useState({\r\n    solicitudId: null,\r\n    motivo: '',\r\n    accion: 'aprobada'\r\n  });\r\n\r\n  // Estado del formulario de solicitud\r\n  const [solicitudForm, setSolicitudForm] = useState({\r\n    fechaInicio: '',\r\n    fechaFin: '',\r\n    motivo: '',\r\n    tipo: 'vacaciones'\r\n  });\r\n\r\n  // Estado de loading\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Roles que pueden hacer aprobaciones manuales\r\n  const ROLES_APROBACION_MANUAL = ['rrhh', 'gerente_rrhh', 'director_rrhh'];\r\n\r\n  // Jerarqu√≠a de aprobaci√≥n estricta\r\n  const JERARQUIA_APROBACION = {\r\n    colaborador: ['gerente', 'director', 'director_rrhh'],\r\n    gerente: ['director', 'director_rrhh'],\r\n    director: ['director_rrhh'],\r\n    rrhh: ['gerente_rrhh', 'director_rrhh'],\r\n    gerente_rrhh: ['director_rrhh'],\r\n    director_rrhh: [],\r\n    admin: []\r\n  };\r\n\r\n  const ROLES_LABELS = {\r\n    colaborador: 'Colaborador',\r\n    gerente: 'Gerente',\r\n    director: 'Director',\r\n    rrhh: 'RRHH',\r\n    gerente_rrhh: 'Gerente de RRHH',\r\n    director_rrhh: 'Director de RRHH',\r\n    admin: 'Administrador'\r\n  };\r\n\r\n  // ESTADO GLOBAL UNIFICADO - Todas las solicitudes de la empresa\r\n  const [solicitudesGlobales, setSolicitudesGlobales] = useState([\r\n    // Solicitudes del usuario actual\r\n    {\r\n      id: 1,\r\n      empleado: user.name,\r\n      empleadoId: user.id,\r\n      empleadoRole: user.role,\r\n      departamento: user.department || 'IT',\r\n      puesto: user.position || 'Empleado',\r\n      fechaInicio: '2024-08-15',\r\n      fechaFin: '2024-08-25',\r\n      dias: 10,\r\n      motivo: 'Vacaciones familiares',\r\n      tipo: 'vacaciones',\r\n      estado: 'pendiente',\r\n      fechaSolicitud: '2024-07-20',\r\n      aprobadoPor: null,\r\n      flujoAprobacion: {\r\n        requeridos: JERARQUIA_APROBACION[user.role] || [],\r\n        completados: [],\r\n        actual: JERARQUIA_APROBACION[user.role]?.[0] || null,\r\n        historial: []\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      empleado: user.name,\r\n      empleadoId: user.id,\r\n      empleadoRole: user.role,\r\n      departamento: user.department || 'IT',\r\n      puesto: user.position || 'Empleado',\r\n      fechaInicio: '2024-06-10',\r\n      fechaFin: '2024-06-12',\r\n      dias: 2,\r\n      motivo: 'Asuntos personales',\r\n      tipo: 'permiso',\r\n      estado: 'aprobada',\r\n      fechaSolicitud: '2024-06-01',\r\n      aprobadoPor: 'Luis Mart√≠nez',\r\n      flujoAprobacion: {\r\n        requeridos: JERARQUIA_APROBACION[user.role] || [],\r\n        completados: JERARQUIA_APROBACION[user.role] || [],\r\n        actual: null,\r\n        historial: [\r\n          { \r\n            rol: 'gerente', \r\n            aprobadoPor: 'Luis Mart√≠nez', \r\n            fecha: '2024-06-01', \r\n            accion: 'aprobada',\r\n            tipo: 'normal'\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    // =====================================================\r\n    // üè¢ SOLICITUDES DE TODA LA EMPRESA (OTROS EMPLEADOS)\r\n    // =====================================================\r\n    // Colaboradores\r\n    {\r\n      id: 101,\r\n      empleado: 'Pedro Ruiz',\r\n      empleadoId: 101,\r\n      empleadoRole: 'colaborador',\r\n      departamento: 'Desarrollo',\r\n      puesto: 'Desarrollador Backend',\r\n      fechaInicio: '2024-08-20',\r\n      fechaFin: '2024-08-30',\r\n      dias: 10,\r\n      motivo: 'Vacaciones de verano con familia',\r\n      tipo: 'vacaciones',\r\n      estado: 'pendiente',\r\n      fechaSolicitud: '2024-07-25',\r\n      flujoAprobacion: {\r\n        requeridos: ['gerente', 'director', 'director_rrhh'],\r\n        completados: [],\r\n        actual: 'gerente',\r\n        historial: []\r\n      }\r\n    },\r\n    {\r\n      id: 102,\r\n      empleado: 'Sofia Chen',\r\n      empleadoId: 102,\r\n      empleadoRole: 'colaborador',\r\n      departamento: 'Dise√±o',\r\n      puesto: 'Dise√±adora UX/UI',\r\n      fechaInicio: '2024-08-05',\r\n      fechaFin: '2024-08-07',\r\n      dias: 3,\r\n      motivo: 'Cita m√©dica especializada',\r\n      tipo: 'medico',\r\n      estado: 'pendiente',\r\n      fechaSolicitud: '2024-07-30',\r\n      flujoAprobacion: {\r\n        requeridos: ['gerente', 'director', 'director_rrhh'],\r\n        completados: ['gerente'],\r\n        actual: 'director',\r\n        historial: [\r\n          { \r\n            rol: 'gerente', \r\n            aprobadoPor: 'Mar√≠a Gonz√°lez', \r\n            fecha: '2024-07-31', \r\n            accion: 'aprobada',\r\n            tipo: 'normal'\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      id: 103,\r\n      empleado: 'Miguel Torres',\r\n      empleadoId: 103,\r\n      empleadoRole: 'colaborador',\r\n      departamento: 'QA',\r\n      puesto: 'QA Tester',\r\n      fechaInicio: '2024-09-15',\r\n      fechaFin: '2024-09-20',\r\n      dias: 5,\r\n      motivo: 'Emergencia familiar',\r\n      tipo: 'permiso',\r\n      estado: 'pendiente',\r\n      fechaSolicitud: '2024-08-01',\r\n      flujoAprobacion: {\r\n        requeridos: ['gerente', 'director', 'director_rrhh'],\r\n        completados: [],\r\n        actual: 'gerente',\r\n        historial: []\r\n      }\r\n    },\r\n    // Gerentes\r\n    {\r\n      id: 201,\r\n      empleado: 'Ana L√≥pez',\r\n      empleadoId: 201,\r\n      empleadoRole: 'gerente',\r\n      departamento: 'Ventas',\r\n      puesto: 'Gerente de Ventas',\r\n      fechaInicio: '2024-09-01',\r\n      fechaFin: '2024-09-10',\r\n      dias: 9,\r\n      motivo: 'Vacaciones anuales',\r\n      tipo: 'vacaciones',\r\n      estado: 'aprobada',\r\n      fechaSolicitud: '2024-08-01',\r\n      aprobadoPor: 'Carlos Director',\r\n      flujoAprobacion: {\r\n        requeridos: ['director', 'director_rrhh'],\r\n        completados: ['director', 'director_rrhh'],\r\n        actual: null,\r\n        historial: [\r\n          { \r\n            rol: 'director', \r\n            aprobadoPor: 'Carlos Director', \r\n            fecha: '2024-08-02', \r\n            accion: 'aprobada',\r\n            tipo: 'normal'\r\n          },\r\n          { \r\n            rol: 'director_rrhh', \r\n            aprobadoPor: 'Laura RRHH', \r\n            fecha: '2024-08-03', \r\n            accion: 'aprobada',\r\n            tipo: 'normal'\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      id: 202,\r\n      empleado: 'Roberto Silva',\r\n      empleadoId: 202,\r\n      empleadoRole: 'gerente',\r\n      departamento: 'Marketing',\r\n      puesto: 'Gerente de Marketing',\r\n      fechaInicio: '2024-08-12',\r\n      fechaFin: '2024-08-16',\r\n      dias: 5,\r\n      motivo: 'Conferencia internacional',\r\n      tipo: 'permiso',\r\n      estado: 'pendiente',\r\n      fechaSolicitud: '2024-08-05',\r\n      flujoAprobacion: {\r\n        requeridos: ['director', 'director_rrhh'],\r\n        completados: [],\r\n        actual: 'director',\r\n        historial: []\r\n      }\r\n    },\r\n    // Directores\r\n    {\r\n      id: 301,\r\n      empleado: 'Carlos Mendoza',\r\n      empleadoId: 301,\r\n      empleadoRole: 'director',\r\n      departamento: 'Operaciones',\r\n      puesto: 'Director de Operaciones',\r\n      fechaInicio: '2024-09-25',\r\n      fechaFin: '2024-10-05',\r\n      dias: 10,\r\n      motivo: 'Vacaciones familiares',\r\n      tipo: 'vacaciones',\r\n      estado: 'pendiente',\r\n      fechaSolicitud: '2024-08-10',\r\n      flujoAprobacion: {\r\n        requeridos: ['director_rrhh'],\r\n        completados: [],\r\n        actual: 'director_rrhh',\r\n        historial: []\r\n      }\r\n    },\r\n    // RRHH\r\n    {\r\n      id: 401,\r\n      empleado: 'Lucia Morales',\r\n      empleadoId: 401,\r\n      empleadoRole: 'rrhh',\r\n      departamento: 'Recursos Humanos',\r\n      puesto: 'Especialista RRHH',\r\n      fechaInicio: '2024-08-28',\r\n      fechaFin: '2024-08-30',\r\n      dias: 3,\r\n      motivo: 'Asuntos personales',\r\n      tipo: 'permiso',\r\n      estado: 'pendiente',\r\n      fechaSolicitud: '2024-08-15',\r\n      flujoAprobacion: {\r\n        requeridos: ['gerente_rrhh', 'director_rrhh'],\r\n        completados: [],\r\n        actual: 'gerente_rrhh',\r\n        historial: []\r\n      }\r\n    }\r\n  ]);\r\n\r\n  // üéØ FUNCIONES DE VISTA PERSONALIZADA POR JERARQU√çA\r\n  const obtenerSolicitudesSegunJerarquia = () => {\r\n    let solicitudesFiltradas = [];\r\n    \r\n    switch (user.role) {\r\n      case 'director_rrhh':\r\n        // Ve TODAS las solicitudes de toda la empresa\r\n        solicitudesFiltradas = solicitudesGlobales;\r\n        break;\r\n        \r\n      case 'gerente_rrhh':\r\n        // Ve TODAS las solicitudes de toda la empresa\r\n        solicitudesFiltradas = solicitudesGlobales;\r\n        break;\r\n        \r\n      case 'rrhh':\r\n        // Ve solicitudes de gerentes y colaboradores (no directores)\r\n        solicitudesFiltradas = solicitudesGlobales.filter(s => \r\n          ['colaborador', 'gerente', 'rrhh'].includes(s.empleadoRole)\r\n        );\r\n        break;\r\n        \r\n      case 'director':\r\n        // Ve solicitudes de gerentes y colaboradores bajo su √°rea + sus propias\r\n        solicitudesFiltradas = solicitudesGlobales.filter(s => \r\n          ['colaborador', 'gerente'].includes(s.empleadoRole) || s.empleadoId === user.id\r\n        );\r\n        break;\r\n        \r\n      case 'gerente':\r\n        // Ve solicitudes de colaboradores directos y sus propias\r\n        solicitudesFiltradas = solicitudesGlobales.filter(s => \r\n          s.empleadoRole === 'colaborador' || s.empleadoId === user.id\r\n        );\r\n        break;\r\n        \r\n      case 'colaborador':\r\n      default:\r\n        // Solo ve sus propias solicitudes\r\n        solicitudesFiltradas = solicitudesGlobales.filter(s => s.empleadoId === user.id);\r\n        break;\r\n    }\r\n    \r\n    return solicitudesFiltradas;\r\n  };\r\n\r\n  // Verificar si el usuario puede aprobar una solicitud\r\n  const puedeAprobar = (solicitud) => {\r\n    const flujo = solicitud.flujoAprobacion;\r\n    \r\n    // Si es el rol actual en el flujo, puede aprobar\r\n    if (flujo.actual === user.role) {\r\n      return { puede: true, motivo: 'normal' };\r\n    }\r\n    \r\n    // Si puede hacer aprobaci√≥n manual\r\n    if (ROLES_APROBACION_MANUAL.includes(user.role)) {\r\n      return { puede: true, motivo: 'manual' };\r\n    }\r\n    \r\n    return { puede: false, motivo: 'sin_permisos' };\r\n  };\r\n\r\n  // üëÅÔ∏è FUNCI√ìN PARA OBTENER ETIQUETA DE VISTA SEG√öN ROL\r\n  const getEtiquetaVista = () => {\r\n    switch (user.role) {\r\n      case 'director_rrhh':\r\n        return 'Vista Global Completa - Toda la Empresa';\r\n      case 'gerente_rrhh':\r\n        return 'Vista Global Completa - Toda la Empresa';\r\n      case 'rrhh':\r\n        return 'Vista RRHH - Gerentes y Colaboradores';\r\n      case 'director':\r\n        return 'Vista Directiva - Gerentes y Colaboradores';\r\n      case 'gerente':\r\n        return 'Vista Gerencial - Colaboradores Directos';\r\n      case 'colaborador':\r\n      default:\r\n        return 'Vista Personal - Mis Solicitudes';\r\n    }\r\n  };\r\n\r\n  // üîÑ FUNCI√ìN PARA OBTENER SOLICITUDES PENDIENTES SEG√öN ROL\r\n  const getSolicitudesPendientesPorRol = () => {\r\n    return solicitudesGlobales.filter(solicitud => {\r\n      if (solicitud.estado !== 'pendiente') return false;\r\n      \r\n      const permisos = puedeAprobar(solicitud);\r\n      return permisos.puede;\r\n    });\r\n  };\r\n\r\n  // Funciones de c√°lculo de d√≠as\r\n  const calcularDias = () => {\r\n    if (solicitudForm.fechaInicio && solicitudForm.fechaFin) {\r\n      const inicio = new Date(solicitudForm.fechaInicio);\r\n      const fin = new Date(solicitudForm.fechaFin);\r\n      const diffTime = fin - inicio;\r\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;\r\n      return diffDays > 0 ? diffDays : 0;\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  const calcularDiasHabiles = () => {\r\n    if (solicitudForm.fechaInicio && solicitudForm.fechaFin) {\r\n      const inicio = new Date(solicitudForm.fechaInicio);\r\n      const fin = new Date(solicitudForm.fechaFin);\r\n      let diasHabiles = 0;\r\n      \r\n      for (let d = new Date(inicio); d <= fin; d.setDate(d.getDate() + 1)) {\r\n        const diaSemana = d.getDay();\r\n        if (diaSemana !== 0 && diaSemana !== 6) { // No es domingo (0) ni s√°bado (6)\r\n          diasHabiles++;\r\n        }\r\n      }\r\n      return diasHabiles;\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  // üìù FUNCI√ìN GLOBAL PARA CREAR NUEVA SOLICITUD\r\n  const handleSubmitSolicitud = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!solicitudForm.fechaInicio || !solicitudForm.fechaFin || !solicitudForm.motivo.trim()) {\r\n      showErrorMessage('Por favor completa todos los campos obligatorios');\r\n      return;\r\n    }\r\n\r\n    const inicio = new Date(solicitudForm.fechaInicio);\r\n    const fin = new Date(solicitudForm.fechaFin);\r\n    \r\n    if (inicio >= fin) {\r\n      showErrorMessage('La fecha de fin debe ser posterior a la fecha de inicio');\r\n      return;\r\n    }\r\n\r\n    if (inicio <= new Date()) {\r\n      showErrorMessage('La fecha de inicio debe ser futura');\r\n      return;\r\n    }\r\n\r\n    const diasSolicitados = calcularDias();\r\n    const diasDisponibles = user.vacationDays - user.usedVacationDays;\r\n    \r\n    if (diasSolicitados > diasDisponibles && solicitudForm.tipo === 'vacaciones') {\r\n      showErrorMessage(`No tienes suficientes d√≠as disponibles. Solicitas ${diasSolicitados} d√≠as pero solo tienes ${diasDisponibles} disponibles.`);\r\n      return;\r\n    }\r\n\r\n    // üåê CREAR NUEVA SOLICITUD EN EL POOL GLOBAL\r\n    const nuevaSolicitud = {\r\n      id: Date.now(), // ID √∫nico temporal\r\n      empleado: user.name,\r\n      empleadoId: user.id,\r\n      empleadoRole: user.role,\r\n      departamento: user.department || 'General',\r\n      puesto: user.position || user.role,\r\n      fechaInicio: solicitudForm.fechaInicio,\r\n      fechaFin: solicitudForm.fechaFin,\r\n      dias: diasSolicitados,\r\n      motivo: solicitudForm.motivo,\r\n      tipo: solicitudForm.tipo,\r\n      estado: 'pendiente',\r\n      fechaSolicitud: new Date().toISOString(),\r\n      aprobadoPor: null,\r\n      flujoAprobacion: {\r\n        requeridos: JERARQUIA_APROBACION[user.role] || [],\r\n        completados: [],\r\n        actual: JERARQUIA_APROBACION[user.role]?.[0] || null,\r\n        historial: []\r\n      }\r\n    };\r\n\r\n    // Agregar al pool global - todos la ven seg√∫n su jerarqu√≠a\r\n    setSolicitudesGlobales(prev => [nuevaSolicitud, ...prev]);\r\n\r\n    showSuccessMessage(`Solicitud de ${diasSolicitados} d√≠as enviada correctamente. Visible para toda la jerarqu√≠a de aprobaci√≥n.`);\r\n    \r\n    // Limpiar formulario\r\n    setSolicitudForm({\r\n      fechaInicio: '',\r\n      fechaFin: '',\r\n      motivo: '',\r\n      tipo: 'vacaciones'\r\n    });\r\n  };\r\n\r\n  // üîÑ FUNCI√ìN GLOBAL DE APROBACI√ìN\r\n  const handleAprobarSolicitud = (solicitudId, accion, esManual = false, motivoManual = '') => {\r\n    setSolicitudesGlobales(prev => \r\n      prev.map(solicitud => {\r\n        if (solicitud.id === solicitudId) {\r\n          const nuevoFlujo = { ...solicitud.flujoAprobacion };\r\n          \r\n          // Agregar al historial\r\n          const evento = {\r\n            rol: user.role,\r\n            aprobadoPor: user.name,\r\n            fecha: new Date().toISOString(),\r\n            accion: accion,\r\n            tipo: esManual ? 'manual' : 'normal',\r\n            motivoManual: esManual ? motivoManual : undefined\r\n          };\r\n          \r\n          nuevoFlujo.historial.push(evento);\r\n\r\n          if (accion === 'aprobada') {\r\n            if (esManual) {\r\n              // Aprobaci√≥n manual - saltar al final\r\n              return {\r\n                ...solicitud,\r\n                flujoAprobacion: nuevoFlujo,\r\n                estado: 'aprobada',\r\n                fechaAprobacionFinal: new Date().toISOString(),\r\n                aprobacionManual: true,\r\n                aprobadoPor: user.name\r\n              };\r\n            } else {\r\n              // Aprobaci√≥n normal - seguir el flujo\r\n              nuevoFlujo.completados.push(user.role);\r\n              \r\n              const siguienteIndex = nuevoFlujo.requeridos.indexOf(user.role) + 1;\r\n              \r\n              if (siguienteIndex < nuevoFlujo.requeridos.length) {\r\n                nuevoFlujo.actual = nuevoFlujo.requeridos[siguienteIndex];\r\n                return {\r\n                  ...solicitud,\r\n                  flujoAprobacion: nuevoFlujo,\r\n                  estado: 'pendiente'\r\n                };\r\n              } else {\r\n                return {\r\n                  ...solicitud,\r\n                  flujoAprobacion: nuevoFlujo,\r\n                  estado: 'aprobada',\r\n                  fechaAprobacionFinal: new Date().toISOString(),\r\n                  aprobadoPor: user.name\r\n                };\r\n              }\r\n            }\r\n          } else {\r\n            // Rechazada\r\n            return {\r\n              ...solicitud,\r\n              flujoAprobacion: nuevoFlujo,\r\n              estado: 'rechazada',\r\n              fechaRechazo: new Date().toISOString(),\r\n              aprobadoPor: user.name\r\n            };\r\n          }\r\n        }\r\n        return solicitud;\r\n      })\r\n    );\r\n    \r\n    if (esManual) {\r\n      showSuccessMessage(`Aprobaci√≥n manual registrada: ${accion} - Actualizaci√≥n global aplicada`);\r\n    } else {\r\n      const mensaje = accion === 'aprobada' \r\n        ? 'Solicitud aprobada y enviada al siguiente nivel - Actualizaci√≥n global aplicada' \r\n        : 'Solicitud rechazada - Actualizaci√≥n global aplicada';\r\n      showSuccessMessage(mensaje);\r\n    }\r\n  };\r\n\r\n  const handleManualApproval = () => {\r\n    if (!manualApprovalData.motivo.trim()) {\r\n      showErrorMessage('Debes proporcionar un motivo para la aprobaci√≥n manual');\r\n      return;\r\n    }\r\n\r\n    handleAprobarSolicitud(\r\n      manualApprovalData.solicitudId, \r\n      manualApprovalData.accion, \r\n      true, \r\n      manualApprovalData.motivo\r\n    );\r\n\r\n    setShowManualModal(false);\r\n    setManualApprovalData({\r\n      solicitudId: null,\r\n      motivo: '',\r\n      accion: 'aprobada'\r\n    });\r\n  };\r\n\r\n  const openManualModal = (solicitudId, accion = 'aprobada') => {\r\n    setManualApprovalData({\r\n      solicitudId,\r\n      motivo: '',\r\n      accion\r\n    });\r\n    setShowManualModal(true);\r\n  };\r\n\r\n  const getEstadoColor = (estado) => {\r\n    switch (estado) {\r\n      case 'aprobada': return { bg: '#f0fdf4', color: '#166534', border: '#bbf7d0' };\r\n      case 'rechazada': return { bg: '#fef2f2', color: '#dc2626', border: '#fecaca' };\r\n      case 'pendiente': return { bg: '#fff7ed', color: '#ea580c', border: '#fed7aa' };\r\n      default: return { bg: '#f9fafb', color: '#374151', border: '#e5e7eb' };\r\n    }\r\n  };\r\n\r\n  const getTipoLabel = (tipo) => {\r\n    switch (tipo) {\r\n      case 'vacaciones': return 'Vacaciones';\r\n      case 'permiso': return 'Permiso Personal';\r\n      case 'medico': return 'Permiso M√©dico';\r\n      default: return tipo;\r\n    }\r\n  };\r\n\r\n  const FlujAprobacion = ({ flujo, estado, aprobacionManual }) => {\r\n    return (\r\n      <div style={{ marginTop: '1rem', padding: '1rem', background: '#f8fafc', borderRadius: '0.5rem', border: '1px solid #e2e8f0' }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '0.75rem' }}>\r\n          <h5 style={{ fontSize: '0.875rem', fontWeight: '600', color: '#374151', margin: 0 }}>\r\n            Flujo de Aprobaci√≥n\r\n          </h5>\r\n          {aprobacionManual && (\r\n            <span style={{\r\n              padding: '0.25rem 0.5rem',\r\n              borderRadius: '9999px',\r\n              fontSize: '0.625rem',\r\n              fontWeight: '600',\r\n              background: '#fef3c7',\r\n              color: '#92400e',\r\n              border: '1px solid #fcd34d'\r\n            }}>\r\n              APROBACI√ìN MANUAL\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', flexWrap: 'wrap' }}>\r\n          {flujo.requeridos.map((rol, index) => {\r\n            const isCompleted = flujo.completados.includes(rol);\r\n            const isCurrent = flujo.actual === rol && estado === 'pendiente';\r\n            const isRejected = estado === 'rechazada' && flujo.historial.some(h => h.rol === rol && h.accion === 'rechazada');\r\n            const isBlocked = !isCompleted && !isCurrent && !isRejected && index > 0 && !flujo.completados.includes(flujo.requeridos[index - 1]);\r\n            \r\n            return (\r\n              <React.Fragment key={rol}>\r\n                <div style={{\r\n                  padding: '0.25rem 0.75rem',\r\n                  borderRadius: '9999px',\r\n                  fontSize: '0.75rem',\r\n                  fontWeight: '500',\r\n                  background: isCompleted ? '#f0fdf4' : \r\n                            isCurrent ? '#fff7ed' : \r\n                            isRejected ? '#fef2f2' : \r\n                            isBlocked ? '#f1f5f9' : '#f1f5f9',\r\n                  color: isCompleted ? '#166534' : \r\n                         isCurrent ? '#ea580c' : \r\n                         isRejected ? '#dc2626' : \r\n                         isBlocked ? '#94a3b8' : '#64748b',\r\n                  border: `1px solid ${isCompleted ? '#bbf7d0' : \r\n                                      isCurrent ? '#fed7aa' : \r\n                                      isRejected ? '#fecaca' : \r\n                                      isBlocked ? '#e2e8f0' : '#cbd5e1'}`,\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '0.25rem',\r\n                  opacity: isBlocked ? 0.6 : 1\r\n                }}>\r\n                  {isCompleted && <Check style={{ width: '0.75rem', height: '0.75rem' }} />}\r\n                  {isCurrent && <Clock style={{ width: '0.75rem', height: '0.75rem' }} />}\r\n                  {isRejected && <X style={{ width: '0.75rem', height: '0.75rem' }} />}\r\n                  {isBlocked && <AlertTriangle style={{ width: '0.75rem', height: '0.75rem' }} />}\r\n                  {ROLES_LABELS[rol]}\r\n                </div>\r\n                {index < flujo.requeridos.length - 1 && (\r\n                  <ArrowRight style={{ width: '1rem', height: '1rem', color: '#9ca3af' }} />\r\n                )}\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n        \r\n        {flujo.historial.length > 0 && (\r\n          <div style={{ marginTop: '0.75rem' }}>\r\n            <h6 style={{ fontSize: '0.75rem', fontWeight: '600', color: '#6b7280', margin: 0, marginBottom: '0.5rem' }}>\r\n              HISTORIAL DE APROBACIONES\r\n            </h6>\r\n            {flujo.historial.map((evento, index) => (\r\n              <div key={index} style={{ \r\n                fontSize: '0.75rem', \r\n                color: '#6b7280', \r\n                marginBottom: '0.5rem',\r\n                padding: '0.5rem',\r\n                background: evento.tipo === 'manual' ? '#fef3c7' : 'transparent',\r\n                borderRadius: '0.25rem',\r\n                border: evento.tipo === 'manual' ? '1px solid #fcd34d' : 'none'\r\n              }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                  {evento.accion === 'aprobada' ? '‚úÖ' : '‚ùå'} \r\n                  <strong>{ROLES_LABELS[evento.rol]}</strong>: {evento.aprobadoPor}\r\n                  {evento.tipo === 'manual' && (\r\n                    <span style={{\r\n                      padding: '0.125rem 0.375rem',\r\n                      borderRadius: '9999px',\r\n                      fontSize: '0.625rem',\r\n                      fontWeight: '600',\r\n                      background: '#92400e',\r\n                      color: '#fef3c7'\r\n                    }}>\r\n                      MANUAL\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div style={{ marginLeft: '1.25rem', marginTop: '0.25rem' }}>\r\n                  Fecha: {new Date(evento.fecha).toLocaleString()}\r\n                  {evento.motivoManual && (\r\n                    <div style={{ marginTop: '0.25rem', fontStyle: 'italic' }}>\r\n                      Motivo: {evento.motivoManual}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const solicitudesPendientes = getSolicitudesPendientesPorRol();\r\n  const solicitudesParaHistorial = obtenerSolicitudesSegunJerarquia();\r\n\r\n  return (\r\n    <div style={{ padding: '1.5rem' }}>\r\n      {/* Modal de Aprobaci√≥n Manual */}\r\n      {showManualModal && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          background: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            padding: '1.5rem',\r\n            maxWidth: '28rem',\r\n            width: '90%',\r\n            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Aprobaci√≥n Manual\r\n            </h3>\r\n            <div style={{\r\n              background: '#fef3c7',\r\n              border: '1px solid #fcd34d',\r\n              borderRadius: '0.5rem',\r\n              padding: '0.75rem',\r\n              marginBottom: '1rem'\r\n            }}>\r\n              <p style={{ fontSize: '0.875rem', color: '#92400e', margin: 0 }}>\r\n                ‚ö†Ô∏è Esta acci√≥n saltar√° el flujo normal de aprobaci√≥n y ser√° registrada como aprobaci√≥n manual.\r\n              </p>\r\n            </div>\r\n            \r\n            <div style={{ marginBottom: '1rem' }}>\r\n              <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                Acci√≥n\r\n              </label>\r\n              <select\r\n                value={manualApprovalData.accion}\r\n                onChange={(e) => setManualApprovalData(prev => ({ ...prev, accion: e.target.value }))}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.75rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '1rem'\r\n                }}\r\n              >\r\n                <option value=\"aprobada\">Aprobar</option>\r\n                <option value=\"rechazada\">Rechazar</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '1.5rem' }}>\r\n              <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                Motivo de la aprobaci√≥n manual *\r\n              </label>\r\n              <textarea\r\n                value={manualApprovalData.motivo}\r\n                onChange={(e) => setManualApprovalData(prev => ({ ...prev, motivo: e.target.value }))}\r\n                placeholder=\"Ej: Aprobaci√≥n urgente por emergencia familiar, autorizaci√≥n directa del CEO, etc.\"\r\n                rows={3}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.75rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '1rem',\r\n                  resize: 'vertical'\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: '0.75rem', justifyContent: 'flex-end' }}>\r\n              <button\r\n                onClick={() => setShowManualModal(false)}\r\n                style={{\r\n                  padding: '0.5rem 1rem',\r\n                  background: '#f3f4f6',\r\n                  color: '#374151',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.375rem',\r\n                  fontSize: '0.875rem',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={handleManualApproval}\r\n                style={{\r\n                  padding: '0.5rem 1rem',\r\n                  background: '#dc2626',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '0.375rem',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '500',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Confirmar Aprobaci√≥n Manual\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ maxWidth: '112rem', margin: '0 auto' }}>\r\n        <h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: '#111827', marginBottom: '0.5rem' }}>\r\n          Sistema Global de Vacaciones\r\n        </h1>\r\n        <p style={{ color: '#6b7280', fontSize: '1.125rem', marginBottom: '2rem' }}>\r\n          {getEtiquetaVista()}\r\n        </p>\r\n\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(auto-fit, minmax(15rem, 1fr))',\r\n          gap: '1.5rem',\r\n          marginBottom: '2rem'\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb',\r\n            padding: '1.5rem'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              D√≠as Disponibles\r\n            </h3>\r\n            <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#10b981', margin: 0 }}>\r\n              {user.vacationDays - user.usedVacationDays}\r\n            </p>\r\n          </div>\r\n\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb',\r\n            padding: '1.5rem'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Pendientes en Mi Nivel\r\n            </h3>\r\n            <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#f59e0b', margin: 0 }}>\r\n              {solicitudesPendientes.length}\r\n            </p>\r\n          </div>\r\n\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb',\r\n            padding: '1.5rem'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Vista Global\r\n            </h3>\r\n            <p style={{ fontSize: '1rem', fontWeight: 'bold', color: '#3b82f6', margin: 0 }}>\r\n              {solicitudesParaHistorial.length} solicitudes\r\n              {ROLES_APROBACION_MANUAL.includes(user.role) && (\r\n                <span style={{ \r\n                  display: 'block', \r\n                  fontSize: '0.75rem', \r\n                  color: '#dc2626', \r\n                  fontWeight: '500' \r\n                }}>\r\n                  + Aprobaci√≥n Manual\r\n                </span>\r\n              )}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '0.75rem',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n          border: '1px solid #e5e7eb'\r\n        }}>\r\n          <div style={{ display: 'flex', borderBottom: '1px solid #e5e7eb' }}>\r\n            <button\r\n              onClick={() => setActiveTab('solicitar')}\r\n              style={{\r\n                flex: 1,\r\n                padding: '1rem',\r\n                border: 'none',\r\n                background: activeTab === 'solicitar' ? '#f8fafc' : 'transparent',\r\n                color: activeTab === 'solicitar' ? '#3b82f6' : '#6b7280',\r\n                fontWeight: activeTab === 'solicitar' ? '600' : '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Solicitar Vacaciones\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('historial')}\r\n              style={{\r\n                flex: 1,\r\n                padding: '1rem',\r\n                border: 'none',\r\n                background: activeTab === 'historial' ? '#f8fafc' : 'transparent',\r\n                color: activeTab === 'historial' ? '#3b82f6' : '#6b7280',\r\n                fontWeight: activeTab === 'historial' ? '600' : '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Historial Global ({solicitudesParaHistorial.length})\r\n            </button>\r\n            {['gerente', 'director', 'rrhh', 'gerente_rrhh', 'director_rrhh'].includes(user.role) && (\r\n              <button\r\n                onClick={() => setActiveTab('aprobar')}\r\n                style={{\r\n                  flex: 1,\r\n                  padding: '1rem',\r\n                  border: 'none',\r\n                  background: activeTab === 'aprobar' ? '#f8fafc' : 'transparent',\r\n                  color: activeTab === 'aprobar' ? '#3b82f6' : '#6b7280',\r\n                  fontWeight: activeTab === 'aprobar' ? '600' : '500',\r\n                  cursor: 'pointer',\r\n                  position: 'relative'\r\n                }}\r\n              >\r\n                Aprobar Solicitudes\r\n                {solicitudesPendientes.length > 0 && (\r\n                  <span style={{\r\n                    position: 'absolute',\r\n                    top: '0.5rem',\r\n                    right: '0.5rem',\r\n                    background: '#dc2626',\r\n                    color: 'white',\r\n                    borderRadius: '50%',\r\n                    width: '1.5rem',\r\n                    height: '1.5rem',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    fontSize: '0.75rem',\r\n                    fontWeight: 'bold'\r\n                  }}>\r\n                    {solicitudesPendientes.length}\r\n                  </span>\r\n                )}\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <div style={{ padding: '2rem' }}>\r\n            {activeTab === 'solicitar' && (\r\n              <div>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1.5rem' }}>\r\n                  Nueva Solicitud de Vacaciones\r\n                </h3>\r\n                \r\n                <div style={{\r\n                  background: '#eff6ff',\r\n                  border: '1px solid #bfdbfe',\r\n                  borderRadius: '0.5rem',\r\n                  padding: '1rem',\r\n                  marginBottom: '1.5rem'\r\n                }}>\r\n                  <h4 style={{ fontSize: '0.875rem', fontWeight: '600', color: '#1d4ed8', margin: 0, marginBottom: '0.5rem' }}>\r\n                    Flujo de Aprobaci√≥n Requerido:\r\n                  </h4>\r\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', flexWrap: 'wrap' }}>\r\n                    {JERARQUIA_APROBACION[user.role]?.map((rol, index) => (\r\n                      <React.Fragment key={rol}>\r\n                        <span style={{\r\n                          padding: '0.25rem 0.75rem',\r\n                          borderRadius: '9999px',\r\n                          fontSize: '0.75rem',\r\n                          fontWeight: '500',\r\n                          background: '#dbeafe',\r\n                          color: '#1d4ed8',\r\n                          border: '1px solid #bfdbfe'\r\n                        }}>\r\n                          {index + 1}. {ROLES_LABELS[rol]}\r\n                        </span>\r\n                        {index < JERARQUIA_APROBACION[user.role].length - 1 && (\r\n                          <ArrowRight style={{ width: '1rem', height: '1rem', color: '#3b82f6' }} />\r\n                        )}\r\n                      </React.Fragment>\r\n                    )) || (\r\n                      <span style={{ fontSize: '0.875rem', color: '#1d4ed8' }}>\r\n                        No requiere aprobaci√≥n adicional\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <p style={{ fontSize: '0.75rem', color: '#1d4ed8', margin: 0, marginTop: '0.5rem' }}>\r\n                    üåê Tu solicitud ser√° visible para toda la jerarqu√≠a de aprobaci√≥n inmediatamente\r\n                  </p>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmitSolicitud} style={{ maxWidth: '32rem' }}>\r\n                  <div style={{ marginBottom: '1.5rem' }}>\r\n                    <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                      Tipo de Solicitud *\r\n                    </label>\r\n                    <select\r\n                      value={solicitudForm.tipo}\r\n                      onChange={(e) => setSolicitudForm(prev => ({ ...prev, tipo: e.target.value }))}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '0.75rem',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '0.5rem',\r\n                        fontSize: '1rem',\r\n                        outline: 'none'\r\n                      }}\r\n                      required\r\n                    >\r\n                      <option value=\"vacaciones\">Vacaciones</option>\r\n                      <option value=\"permiso\">Permiso Personal</option>\r\n                      <option value=\"medico\">Permiso M√©dico</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem', marginBottom: '1.5rem' }}>\r\n                    <div>\r\n                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                        Fecha de Inicio *\r\n                      </label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={solicitudForm.fechaInicio}\r\n                        onChange={(e) => setSolicitudForm(prev => ({ ...prev, fechaInicio: e.target.value }))}\r\n                        min={new Date(Date.now() + 86400000).toISOString().split('T')[0]} // M√≠nimo ma√±ana\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.75rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.5rem',\r\n                          fontSize: '1rem',\r\n                          outline: 'none'\r\n                        }}\r\n                        required\r\n                      />\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                        Fecha de Fin *\r\n                      </label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={solicitudForm.fechaFin}\r\n                        onChange={(e) => setSolicitudForm(prev => ({ ...prev, fechaFin: e.target.value }))}\r\n                        min={solicitudForm.fechaInicio || new Date(Date.now() + 86400000).toISOString().split('T')[0]}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.75rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.5rem',\r\n                          fontSize: '1rem',\r\n                          outline: 'none'\r\n                        }}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Informaci√≥n de d√≠as calculados */}\r\n                  {calcularDias() > 0 && (\r\n                    <div style={{\r\n                      background: '#f0f9ff',\r\n                      border: '1px solid #bae6fd',\r\n                      borderRadius: '0.5rem',\r\n                      padding: '1rem',\r\n                      marginBottom: '1.5rem'\r\n                    }}>\r\n                      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(8rem, 1fr))', gap: '1rem' }}>\r\n                        <div>\r\n                          <p style={{ fontSize: '0.75rem', color: '#0369a1', margin: 0, marginBottom: '0.25rem', fontWeight: '600' }}>\r\n                            D√çAS TOTALES\r\n                          </p>\r\n                          <p style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#0369a1', margin: 0 }}>\r\n                            {calcularDias()}\r\n                          </p>\r\n                        </div>\r\n                        <div>\r\n                          <p style={{ fontSize: '0.75rem', color: '#0369a1', margin: 0, marginBottom: '0.25rem', fontWeight: '600' }}>\r\n                            D√çAS H√ÅBILES\r\n                          </p>\r\n                          <p style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#0369a1', margin: 0 }}>\r\n                            {calcularDiasHabiles()}\r\n                          </p>\r\n                        </div>\r\n                        {solicitudForm.tipo === 'vacaciones' && (\r\n                          <div>\r\n                            <p style={{ fontSize: '0.75rem', color: '#0369a1', margin: 0, marginBottom: '0.25rem', fontWeight: '600' }}>\r\n                              D√çAS DISPONIBLES\r\n                            </p>\r\n                            <p style={{ \r\n                              fontSize: '1.5rem', \r\n                              fontWeight: 'bold', \r\n                              color: (user.vacationDays - user.usedVacationDays) >= calcularDias() ? '#0369a1' : '#dc2626', \r\n                              margin: 0 \r\n                            }}>\r\n                              {user.vacationDays - user.usedVacationDays}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      {solicitudForm.tipo === 'vacaciones' && calcularDias() > (user.vacationDays - user.usedVacationDays) && (\r\n                        <div style={{ marginTop: '0.75rem', padding: '0.5rem', background: '#fef2f2', border: '1px solid #fecaca', borderRadius: '0.375rem' }}>\r\n                          <p style={{ fontSize: '0.75rem', color: '#dc2626', margin: 0 }}>\r\n                            ‚ö†Ô∏è No tienes suficientes d√≠as de vacaciones disponibles\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n\r\n                  <div style={{ marginBottom: '1.5rem' }}>\r\n                    <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                      Motivo / Justificaci√≥n *\r\n                    </label>\r\n                    <textarea\r\n                      value={solicitudForm.motivo}\r\n                      onChange={(e) => setSolicitudForm(prev => ({ ...prev, motivo: e.target.value }))}\r\n                      placeholder=\"Describe el motivo de tu solicitud...\"\r\n                      rows={4}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '0.75rem',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '0.5rem',\r\n                        fontSize: '1rem',\r\n                        outline: 'none',\r\n                        resize: 'vertical'\r\n                      }}\r\n                      required\r\n                    />\r\n                    <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: '0.25rem 0 0 0' }}>\r\n                      Proporciona una justificaci√≥n clara para facilitar el proceso de aprobaci√≥n\r\n                    </p>\r\n                  </div>\r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={!solicitudForm.fechaInicio || !solicitudForm.fechaFin || !solicitudForm.motivo.trim() || loading}\r\n                    style={{\r\n                      background: (!solicitudForm.fechaInicio || !solicitudForm.fechaFin || !solicitudForm.motivo.trim()) ? '#9ca3af' : '#3b82f6',\r\n                      color: 'white',\r\n                      padding: '0.75rem 1.5rem',\r\n                      borderRadius: '0.5rem',\r\n                      border: 'none',\r\n                      fontSize: '1rem',\r\n                      fontWeight: '500',\r\n                      cursor: (!solicitudForm.fechaInicio || !solicitudForm.fechaFin || !solicitudForm.motivo.trim()) ? 'not-allowed' : 'pointer',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '0.5rem',\r\n                      transition: 'all 0.2s'\r\n                    }}\r\n                  >\r\n                    <Plus style={{ width: '1rem', height: '1rem' }} />\r\n                    {loading ? 'Enviando...' : 'Enviar a Sistema Global'}\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'historial' && (\r\n              <div>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n                  {getEtiquetaVista()}\r\n                </h3>\r\n                <p style={{ fontSize: '0.875rem', color: '#6b7280', marginBottom: '1.5rem' }}>\r\n                  Mostrando {solicitudesParaHistorial.length} solicitudes seg√∫n tu nivel de acceso jer√°rquico\r\n                </p>\r\n\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                  {solicitudesParaHistorial.sort((a, b) => new Date(b.fechaSolicitud) - new Date(a.fechaSolicitud)).map(solicitud => {\r\n                    const estadoStyle = getEstadoColor(solicitud.estado);\r\n                    const esMiaSolicitud = solicitud.empleadoId === user.id;\r\n                    return (\r\n                      <div\r\n                        key={solicitud.id}\r\n                        style={{\r\n                          border: esMiaSolicitud ? '2px solid #3b82f6' : '1px solid #e5e7eb',\r\n                          borderRadius: '0.5rem',\r\n                          padding: '1.5rem',\r\n                          background: esMiaSolicitud ? '#f8fafc' : '#fafafa'\r\n                        }}\r\n                      >\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '1rem' }}>\r\n                          <div>\r\n                            <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', margin: 0, marginBottom: '0.5rem' }}>\r\n                              {solicitud.empleado} - {getTipoLabel(solicitud.tipo)}\r\n                              {esMiaSolicitud && (\r\n                                <span style={{\r\n                                  marginLeft: '0.5rem',\r\n                                  padding: '0.125rem 0.5rem',\r\n                                  borderRadius: '9999px',\r\n                                  fontSize: '0.75rem',\r\n                                  fontWeight: '500',\r\n                                  background: '#dbeafe',\r\n                                  color: '#1d4ed8'\r\n                                }}>\r\n                                  MIA\r\n                                </span>\r\n                              )}\r\n                            </h4>\r\n                            <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0 }}>\r\n                              {solicitud.puesto} ‚Ä¢ {solicitud.departamento} ‚Ä¢ \r\n                              Solicitado el {new Date(solicitud.fechaSolicitud).toLocaleDateString()}\r\n                            </p>\r\n                          </div>\r\n                          <span style={{\r\n                            padding: '0.25rem 0.75rem',\r\n                            borderRadius: '9999px',\r\n                            fontSize: '0.75rem',\r\n                            fontWeight: '500',\r\n                            background: estadoStyle.bg,\r\n                            color: estadoStyle.color,\r\n                            border: `1px solid ${estadoStyle.border}`,\r\n                            textTransform: 'capitalize'\r\n                          }}>\r\n                            {solicitud.estado === 'pendiente' && <Clock style={{ width: '0.75rem', height: '0.75rem', display: 'inline', marginRight: '0.25rem' }} />}\r\n                            {solicitud.estado === 'aprobada' && <Check style={{ width: '0.75rem', height: '0.75rem', display: 'inline', marginRight: '0.25rem' }} />}\r\n                            {solicitud.estado === 'rechazada' && <X style={{ width: '0.75rem', height: '0.75rem', display: 'inline', marginRight: '0.25rem' }} />}\r\n                            {solicitud.estado}\r\n                          </span>\r\n                        </div>\r\n\r\n                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(10rem, 1fr))', gap: '1rem', marginBottom: '1rem' }}>\r\n                          <div>\r\n                            <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                              FECHA INICIO\r\n                            </p>\r\n                            <p style={{ fontSize: '0.875rem', fontWeight: '500', color: '#111827', margin: 0 }}>\r\n                              {new Date(solicitud.fechaInicio).toLocaleDateString()}\r\n                            </p>\r\n                          </div>\r\n                          <div>\r\n                            <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                              FECHA FIN\r\n                            </p>\r\n                            <p style={{ fontSize: '0.875rem', fontWeight: '500', color: '#111827', margin: 0 }}>\r\n                              {new Date(solicitud.fechaFin).toLocaleDateString()}\r\n                            </p>\r\n                          </div>\r\n                          <div>\r\n                            <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                              D√çAS\r\n                            </p>\r\n                            <p style={{ fontSize: '0.875rem', fontWeight: '500', color: '#111827', margin: 0 }}>\r\n                              {solicitud.dias} d√≠as\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div style={{ marginBottom: '1rem' }}>\r\n                          <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                            MOTIVO\r\n                          </p>\r\n                          <p style={{ fontSize: '0.875rem', color: '#111827', margin: 0 }}>\r\n                            {solicitud.motivo}\r\n                          </p>\r\n                        </div>\r\n\r\n                        {solicitud.aprobadoPor && (\r\n                          <div style={{ marginBottom: '1rem' }}>\r\n                            <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                              APROBADO POR\r\n                            </p>\r\n                            <p style={{ fontSize: '0.875rem', color: '#111827', margin: 0 }}>\r\n                              {solicitud.aprobadoPor}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Mostrar flujo de aprobaci√≥n */}\r\n                        {solicitud.flujoAprobacion && (\r\n                          <FlujAprobacion \r\n                            flujo={solicitud.flujoAprobacion} \r\n                            estado={solicitud.estado}\r\n                            aprobacionManual={solicitud.aprobacionManual}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n\r\n                  {solicitudesParaHistorial.length === 0 && (\r\n                    <div style={{\r\n                      textAlign: 'center',\r\n                      padding: '3rem',\r\n                      background: '#f9fafb',\r\n                      borderRadius: '0.5rem',\r\n                      border: '1px solid #e5e7eb'\r\n                    }}>\r\n                      <FileText style={{ width: '3rem', height: '3rem', color: '#9ca3af', margin: '0 auto 1rem' }} />\r\n                      <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', margin: 0, marginBottom: '0.5rem' }}>\r\n                        No hay solicitudes en tu vista\r\n                      </h4>\r\n                      <p style={{ color: '#6b7280', margin: 0 }}>\r\n                        No tienes acceso a solicitudes en este momento seg√∫n tu rol jer√°rquico.\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'aprobar' && ['gerente', 'director', 'rrhh', 'gerente_rrhh', 'director_rrhh'].includes(user.role) && (\r\n              <div>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n                  Solicitudes Pendientes de Aprobaci√≥n ({solicitudesPendientes.length})\r\n                </h3>\r\n                \r\n                {ROLES_APROBACION_MANUAL.includes(user.role) && (\r\n                  <div style={{\r\n                    background: '#fef3c7',\r\n                    border: '1px solid #fcd34d',\r\n                    borderRadius: '0.5rem',\r\n                    padding: '1rem',\r\n                    marginBottom: '1.5rem'\r\n                  }}>\r\n                    <h4 style={{ fontSize: '0.875rem', fontWeight: '600', color: '#92400e', margin: 0, marginBottom: '0.5rem' }}>\r\n                      üîë Privilegios de Aprobaci√≥n Manual\r\n                    </h4>\r\n                    <p style={{ fontSize: '0.75rem', color: '#92400e', margin: 0 }}>\r\n                      Como {ROLES_LABELS[user.role]}, puedes realizar aprobaciones manuales que saltan el flujo normal. \r\n                      Estas aprobaciones se reflejan globalmente y quedan registradas con motivo.\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {solicitudesPendientes.length === 0 ? (\r\n                  <div style={{\r\n                    textAlign: 'center',\r\n                    padding: '3rem',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '0.5rem',\r\n                    border: '1px solid #e5e7eb'\r\n                  }}>\r\n                    <Users style={{ width: '3rem', height: '3rem', color: '#9ca3af', margin: '0 auto 1rem' }} />\r\n                    <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', margin: 0, marginBottom: '0.5rem' }}>\r\n                      No hay solicitudes pendientes en tu nivel\r\n                    </h4>\r\n                    <p style={{ color: '#6b7280', margin: 0 }}>\r\n                      Todas las solicitudes han sido procesadas o est√°n en otros niveles de aprobaci√≥n.\r\n                    </p>\r\n                  </div>\r\n                ) : (\r\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                    {solicitudesPendientes.map(solicitud => {\r\n                      const permisos = puedeAprobar(solicitud);\r\n                      const esAprobacionNormal = permisos.motivo === 'normal';\r\n                      \r\n                      return (\r\n                        <div\r\n                          key={solicitud.id}\r\n                          style={{\r\n                            border: '1px solid #e5e7eb',\r\n                            borderRadius: '0.5rem',\r\n                            padding: '1.5rem',\r\n                            background: esAprobacionNormal ? '#fffbeb' : '#fef3c7'\r\n                          }}\r\n                        >\r\n                          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '1rem' }}>\r\n                            <div>\r\n                              <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', margin: 0, marginBottom: '0.5rem' }}>\r\n                                {solicitud.empleado} - {getTipoLabel(solicitud.tipo)}\r\n                              </h4>\r\n                              <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0 }}>\r\n                                {solicitud.puesto} ‚Ä¢ {solicitud.departamento} ‚Ä¢ {solicitud.dias} d√≠as ‚Ä¢ \r\n                                {new Date(solicitud.fechaInicio).toLocaleDateString()} - {new Date(solicitud.fechaFin).toLocaleDateString()}\r\n                              </p>\r\n                            </div>\r\n                            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'end', gap: '0.5rem' }}>\r\n                              <span style={{\r\n                                padding: '0.25rem 0.75rem',\r\n                                borderRadius: '9999px',\r\n                                fontSize: '0.75rem',\r\n                                fontWeight: '500',\r\n                                background: esAprobacionNormal ? '#fff7ed' : '#fef3c7',\r\n                                color: esAprobacionNormal ? '#ea580c' : '#92400e',\r\n                                border: `1px solid ${esAprobacionNormal ? '#fed7aa' : '#fcd34d'}`\r\n                              }}>\r\n                                {esAprobacionNormal ? 'Tu turno de aprobaci√≥n' : 'Aprobaci√≥n manual disponible'}\r\n                              </span>\r\n                              {!esAprobacionNormal && (\r\n                                <span style={{\r\n                                  fontSize: '0.625rem',\r\n                                  color: '#92400e',\r\n                                  fontStyle: 'italic'\r\n                                }}>\r\n                                  Saltar√° el flujo normal\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div style={{ marginBottom: '1rem' }}>\r\n                            <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0, marginBottom: '0.25rem' }}>\r\n                              MOTIVO\r\n                            </p>\r\n                            <p style={{ fontSize: '0.875rem', color: '#111827', margin: 0 }}>\r\n                              {solicitud.motivo}\r\n                            </p>\r\n                          </div>\r\n\r\n                          <FlujAprobacion \r\n                            flujo={solicitud.flujoAprobacion} \r\n                            estado={solicitud.estado}\r\n                            aprobacionManual={solicitud.aprobacionManual}\r\n                          />\r\n\r\n                          <div style={{ marginTop: '1.5rem' }}>\r\n                            {esAprobacionNormal ? (\r\n                              <div style={{ display: 'flex', gap: '0.75rem' }}>\r\n                                <button\r\n                                  onClick={() => handleAprobarSolicitud(solicitud.id, 'aprobada')}\r\n                                  style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                    padding: '0.5rem 1rem',\r\n                                    background: '#10b981',\r\n                                    color: 'white',\r\n                                    border: 'none',\r\n                                    borderRadius: '0.375rem',\r\n                                    fontSize: '0.875rem',\r\n                                    fontWeight: '500',\r\n                                    cursor: 'pointer'\r\n                                  }}\r\n                                >\r\n                                  <Check style={{ width: '1rem', height: '1rem' }} />\r\n                                  Aprobar y Enviar al Siguiente Nivel\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => handleAprobarSolicitud(solicitud.id, 'rechazada')}\r\n                                  style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                    padding: '0.5rem 1rem',\r\n                                    background: '#ef4444',\r\n                                    color: 'white',\r\n                                    border: 'none',\r\n                                    borderRadius: '0.375rem',\r\n                                    fontSize: '0.875rem',\r\n                                    fontWeight: '500',\r\n                                    cursor: 'pointer'\r\n                                  }}\r\n                                >\r\n                                  <X style={{ width: '1rem', height: '1rem' }} />\r\n                                  Rechazar Solicitud\r\n                                </button>\r\n                              </div>\r\n                            ) : (\r\n                              <div>\r\n                                <div style={{\r\n                                  background: '#fef3c7',\r\n                                  border: '1px solid #fcd34d',\r\n                                  borderRadius: '0.375rem',\r\n                                  padding: '0.75rem',\r\n                                  marginBottom: '0.75rem'\r\n                                }}>\r\n                                  <p style={{ fontSize: '0.75rem', color: '#92400e', margin: 0 }}>\r\n                                    ‚ö†Ô∏è Esta solicitud no est√° en tu nivel de aprobaci√≥n normal, pero puedes hacer una aprobaci√≥n manual que se reflejar√° globalmente.\r\n                                  </p>\r\n                                </div>\r\n                                <div style={{ display: 'flex', gap: '0.75rem' }}>\r\n                                  <button\r\n                                    onClick={() => openManualModal(solicitud.id, 'aprobada')}\r\n                                    style={{\r\n                                      display: 'flex',\r\n                                      alignItems: 'center',\r\n                                      gap: '0.5rem',\r\n                                      padding: '0.5rem 1rem',\r\n                                      background: '#dc2626',\r\n                                      color: 'white',\r\n                                      border: 'none',\r\n                                      borderRadius: '0.375rem',\r\n                                      fontSize: '0.875rem',\r\n                                      fontWeight: '500',\r\n                                      cursor: 'pointer'\r\n                                    }}\r\n                                  >\r\n                                    <Edit style={{ width: '1rem', height: '1rem' }} />\r\n                                    Aprobaci√≥n Manual Global\r\n                                  </button>\r\n                                  <button\r\n                                    onClick={() => openManualModal(solicitud.id, 'rechazada')}\r\n                                    style={{\r\n                                      display: 'flex',\r\n                                      alignItems: 'center',\r\n                                      gap: '0.5rem',\r\n                                      padding: '0.5rem 1rem',\r\n                                      background: '#6b7280',\r\n                                      color: 'white',\r\n                                      border: 'none',\r\n                                      borderRadius: '0.375rem',\r\n                                      fontSize: '0.875rem',\r\n                                      fontWeight: '500',\r\n                                      cursor: 'pointer'\r\n                                    }}\r\n                                  >\r\n                                    <X style={{ width: '1rem', height: '1rem' }} />\r\n                                    Rechazo Manual Global\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VacacionesModule;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}