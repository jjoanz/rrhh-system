{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../../../context/AuthContext';import{useApp}from'../../../context/AppContext';import vacacionesService from'../../../api/vacacionesService';import{Calendar,Plus,Clock,Check,X,FileText,Users,ArrowRight,AlertTriangle,Edit}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const VacacionesModule=()=>{const{user}=useAuth();const{showSuccessMessage,showErrorMessage}=useApp();const[activeTab,setActiveTab]=useState('solicitar');const[loading,setLoading]=useState(false);// Estados principales\nconst[solicitudes,setSolicitudes]=useState([]);const[estadisticas,setEstadisticas]=useState({diasTotales:0,diasUsados:0,diasDisponibles:0});// Modal de aprobación manual\nconst[showManualModal,setShowManualModal]=useState(false);const[manualApprovalData,setManualApprovalData]=useState({solicitudId:null,motivo:'',accion:'aprobada'});// Formulario de solicitud\nconst[solicitudForm,setSolicitudForm]=useState({fechaInicio:'',fechaFin:'',motivo:'',tipo:'vacaciones'});// Roles con aprobación manual (RRHH)\nconst ROLES_APROBACION_MANUAL=['RRHH','Gerente RRHH','Director RRHH'];const ROLES_LABELS={'Gerente':'Gerente','Director':'Director','Gerente RRHH':'Gerente RRHH','Director RRHH':'Director RRHH','RRHH':'RRHH','Colaborador':'Colaborador'};// Cargar datos al montar\nuseEffect(()=>{if(user!==null&&user!==void 0&&user.id&&user!==null&&user!==void 0&&user.empleadoId){cargarDatos();}},[user]);const cargarDatos=async()=>{try{setLoading(true);// Cargar solicitudes\nconst solicitudesData=await vacacionesService.getSolicitudes(user.id,user.role);setSolicitudes(solicitudesData);// Cargar estadísticas\nconst statsData=await vacacionesService.getEstadisticas(user.empleadoId);setEstadisticas(statsData);}catch(error){showErrorMessage('Error al cargar datos de vacaciones');console.error('Error:',error);}finally{setLoading(false);}};// Calcular días\nconst calcularDias=()=>{if(solicitudForm.fechaInicio&&solicitudForm.fechaFin){const inicio=new Date(solicitudForm.fechaInicio);const fin=new Date(solicitudForm.fechaFin);const diffTime=fin-inicio;const diffDays=Math.ceil(diffTime/(1000*60*60*24))+1;return diffDays>0?diffDays:0;}return 0;};const calcularDiasHabiles=()=>{if(solicitudForm.fechaInicio&&solicitudForm.fechaFin){const inicio=new Date(solicitudForm.fechaInicio);const fin=new Date(solicitudForm.fechaFin);let diasHabiles=0;for(let d=new Date(inicio);d<=fin;d.setDate(d.getDate()+1)){const diaSemana=d.getDay();if(diaSemana!==0&&diaSemana!==6){diasHabiles++;}}return diasHabiles;}return 0;};// Crear solicitud\nconst handleSubmitSolicitud=async e=>{e.preventDefault();if(!solicitudForm.fechaInicio||!solicitudForm.fechaFin||!solicitudForm.motivo.trim()){showErrorMessage('Por favor completa todos los campos obligatorios');return;}const inicio=new Date(solicitudForm.fechaInicio);const fin=new Date(solicitudForm.fechaFin);if(inicio>=fin){showErrorMessage('La fecha de fin debe ser posterior a la fecha de inicio');return;}if(inicio<=new Date()){showErrorMessage('La fecha de inicio debe ser futura');return;}const diasSolicitados=calcularDias();if(diasSolicitados>estadisticas.diasDisponibles&&solicitudForm.tipo==='vacaciones'){showErrorMessage(`No tienes suficientes días disponibles. Solicitas ${diasSolicitados} días pero solo tienes ${estadisticas.diasDisponibles} disponibles.`);return;}try{setLoading(true);await vacacionesService.crearSolicitud({empleadoId:user.empleadoId,tipo:solicitudForm.tipo,fechaInicio:solicitudForm.fechaInicio,fechaFin:solicitudForm.fechaFin,dias:diasSolicitados,diasHabiles:calcularDiasHabiles(),motivo:solicitudForm.motivo});await cargarDatos();showSuccessMessage(`Solicitud de ${diasSolicitados} días enviada correctamente.`);setSolicitudForm({fechaInicio:'',fechaFin:'',motivo:'',tipo:'vacaciones'});}catch(error){var _error$response,_error$response$data;showErrorMessage('Error al crear solicitud: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message));}finally{setLoading(false);}};// Aprobar/Rechazar solicitud\nconst handleAprobarSolicitud=async function(solicitudId,accion){let esManual=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let motivoManual=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';try{setLoading(true);await vacacionesService.procesarSolicitud(solicitudId,{accion,aprobadorId:user.empleadoId,rol:user.role,esManual,motivoManual});await cargarDatos();if(esManual){showSuccessMessage(`Aprobación manual registrada: ${accion}`);}else{const mensaje=accion==='aprobada'?'Solicitud aprobada y enviada al siguiente nivel':'Solicitud rechazada';showSuccessMessage(mensaje);}}catch(error){var _error$response2,_error$response2$data;showErrorMessage('Error al procesar solicitud: '+(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||error.message));}finally{setLoading(false);}};const handleManualApproval=()=>{if(!manualApprovalData.motivo.trim()){showErrorMessage('Debes proporcionar un motivo para la aprobación manual');return;}handleAprobarSolicitud(manualApprovalData.solicitudId,manualApprovalData.accion,true,manualApprovalData.motivo);setShowManualModal(false);setManualApprovalData({solicitudId:null,motivo:'',accion:'aprobada'});};const openManualModal=function(solicitudId){let accion=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'aprobada';setManualApprovalData({solicitudId,motivo:'',accion});setShowManualModal(true);};// Verificar si puede aprobar\nconst puedeAprobar=solicitud=>{if(!solicitud.flujoAprobacion)return{puede:false};if(solicitud.flujoAprobacion.actual===user.role){return{puede:true,motivo:'normal'};}if(ROLES_APROBACION_MANUAL.includes(user.role)){return{puede:true,motivo:'manual'};}return{puede:false};};// Obtener solicitudes pendientes\nconst solicitudesPendientes=solicitudes.filter(sol=>{if(sol.estado!=='pendiente')return false;const permisos=puedeAprobar(sol);return permisos.puede;});const getEstadoColor=estado=>{switch(estado){case'aprobada':return{bg:'#f0fdf4',color:'#166534',border:'#bbf7d0'};case'rechazada':return{bg:'#fef2f2',color:'#dc2626',border:'#fecaca'};case'pendiente':return{bg:'#fff7ed',color:'#ea580c',border:'#fed7aa'};default:return{bg:'#f9fafb',color:'#374151',border:'#e5e7eb'};}};const getTipoLabel=tipo=>{switch(tipo){case'vacaciones':return'Vacaciones';case'permiso':return'Permiso Personal';case'medico':return'Permiso Médico';default:return tipo;}};const getEtiquetaVista=()=>{switch(user.role){case'Director RRHH':case'Gerente RRHH':return'Vista Global Completa - Toda la Empresa';case'RRHH':return'Vista RRHH - Gerentes y Colaboradores';case'Director':return'Vista Directiva - Gerentes y Colaboradores';case'Gerente':return'Vista Gerencial - Colaboradores Directos';default:return'Vista Personal - Mis Solicitudes';}};const FlujAprobacion=_ref=>{var _flujo$requeridos;let{flujo,estado,aprobacionManual}=_ref;if(!flujo)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',padding:'1rem',background:'#f8fafc',borderRadius:'0.5rem',border:'1px solid #e2e8f0'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#374151',margin:0},children:\"Flujo de Aprobaci\\xF3n\"}),aprobacionManual&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.5rem',borderRadius:'9999px',fontSize:'0.625rem',fontWeight:'600',background:'#fef3c7',color:'#92400e',border:'1px solid #fcd34d'},children:\"APROBACI\\xD3N MANUAL\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',flexWrap:'wrap'},children:(_flujo$requeridos=flujo.requeridos)===null||_flujo$requeridos===void 0?void 0:_flujo$requeridos.map((rol,index)=>{var _flujo$completados;const isCompleted=(_flujo$completados=flujo.completados)===null||_flujo$completados===void 0?void 0:_flujo$completados.includes(rol);const isCurrent=flujo.actual===rol&&estado==='pendiente';return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0.25rem 0.75rem',borderRadius:'9999px',fontSize:'0.75rem',fontWeight:'500',background:isCompleted?'#f0fdf4':isCurrent?'#fff7ed':'#f1f5f9',color:isCompleted?'#166534':isCurrent?'#ea580c':'#64748b',border:`1px solid ${isCompleted?'#bbf7d0':isCurrent?'#fed7aa':'#cbd5e1'}`,display:'flex',alignItems:'center',gap:'0.25rem'},children:[isCompleted&&/*#__PURE__*/_jsx(Check,{style:{width:'0.75rem',height:'0.75rem'}}),isCurrent&&/*#__PURE__*/_jsx(Clock,{style:{width:'0.75rem',height:'0.75rem'}}),ROLES_LABELS[rol]||rol]}),index<flujo.requeridos.length-1&&/*#__PURE__*/_jsx(ArrowRight,{style:{width:'1rem',height:'1rem',color:'#9ca3af'}})]},index);})}),flujo.historial&&flujo.historial.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.75rem'},children:[/*#__PURE__*/_jsx(\"h6\",{style:{fontSize:'0.75rem',fontWeight:'600',color:'#6b7280',margin:0,marginBottom:'0.5rem'},children:\"HISTORIAL DE APROBACIONES\"}),flujo.historial.map((evento,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#6b7280',marginBottom:'0.5rem',padding:'0.5rem',background:evento.tipo==='manual'?'#fef3c7':'transparent',borderRadius:'0.25rem',border:evento.tipo==='manual'?'1px solid #fcd34d':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[evento.accion==='aprobada'?'✅':'❌',/*#__PURE__*/_jsx(\"strong\",{children:ROLES_LABELS[evento.rol]||evento.rol}),\": \",evento.aprobadoPor,evento.tipo==='manual'&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.125rem 0.375rem',borderRadius:'9999px',fontSize:'0.625rem',fontWeight:'600',background:'#92400e',color:'#fef3c7'},children:\"MANUAL\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:'1.25rem',marginTop:'0.25rem'},children:[\"Fecha: \",new Date(evento.fecha).toLocaleString(),evento.motivoManual&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.25rem',fontStyle:'italic'},children:[\"Motivo: \",evento.motivoManual]})]})]},index))]})]});};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem'},children:[showManualModal&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',padding:'1.5rem',maxWidth:'28rem',width:'90%',boxShadow:'0 20px 25px -5px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Aprobaci\\xF3n Manual\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:'#fef3c7',border:'1px solid #fcd34d',borderRadius:'0.5rem',padding:'0.75rem',marginBottom:'1rem'},children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#92400e',margin:0},children:\"\\u26A0\\uFE0F Esta acci\\xF3n saltar\\xE1 el flujo normal de aprobaci\\xF3n y ser\\xE1 registrada como aprobaci\\xF3n manual.\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Acci\\xF3n\"}),/*#__PURE__*/_jsxs(\"select\",{value:manualApprovalData.accion,onChange:e=>setManualApprovalData(prev=>({...prev,accion:e.target.value})),style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"aprobada\",children:\"Aprobar\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rechazada\",children:\"Rechazar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Motivo de la aprobaci\\xF3n manual *\"}),/*#__PURE__*/_jsx(\"textarea\",{value:manualApprovalData.motivo,onChange:e=>setManualApprovalData(prev=>({...prev,motivo:e.target.value})),placeholder:\"Ej: Aprobaci\\xF3n urgente por emergencia familiar, autorizaci\\xF3n directa del CEO, etc.\",rows:3,style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem',resize:'vertical'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowManualModal(false),style:{padding:'0.5rem 1rem',background:'#f3f4f6',color:'#374151',border:'1px solid #d1d5db',borderRadius:'0.375rem',fontSize:'0.875rem',cursor:'pointer'},children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleManualApproval,style:{padding:'0.5rem 1rem',background:'#dc2626',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:'pointer'},children:\"Confirmar Aprobaci\\xF3n Manual\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'112rem',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#111827',marginBottom:'0.5rem'},children:\"Sistema de Gesti\\xF3n de Vacaciones\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',fontSize:'1.125rem',marginBottom:'2rem'},children:getEtiquetaVista()}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(15rem, 1fr))',gap:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"D\\xEDas Disponibles\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#10b981',margin:0},children:estadisticas.diasDisponibles})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Pendientes en Mi Nivel\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'2rem',fontWeight:'bold',color:'#f59e0b',margin:0},children:solicitudesPendientes.length})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb',padding:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Total Solicitudes\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'1rem',fontWeight:'bold',color:'#3b82f6',margin:0},children:[solicitudes.length,\" solicitudes\",ROLES_APROBACION_MANUAL.includes(user.role)&&/*#__PURE__*/_jsx(\"span\",{style:{display:'block',fontSize:'0.75rem',color:'#dc2626',fontWeight:'500'},children:\"+ Aprobaci\\xF3n Manual\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0.75rem',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('solicitar'),style:{flex:1,padding:'1rem',border:'none',background:activeTab==='solicitar'?'#f8fafc':'transparent',color:activeTab==='solicitar'?'#3b82f6':'#6b7280',fontWeight:activeTab==='solicitar'?'600':'500',cursor:'pointer'},children:\"Solicitar Vacaciones\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('historial'),style:{flex:1,padding:'1rem',border:'none',background:activeTab==='historial'?'#f8fafc':'transparent',color:activeTab==='historial'?'#3b82f6':'#6b7280',fontWeight:activeTab==='historial'?'600':'500',cursor:'pointer'},children:[\"Historial (\",solicitudes.length,\")\"]}),['Gerente','Director','RRHH','Gerente RRHH','Director RRHH'].includes(user.role)&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('aprobar'),style:{flex:1,padding:'1rem',border:'none',background:activeTab==='aprobar'?'#f8fafc':'transparent',color:activeTab==='aprobar'?'#3b82f6':'#6b7280',fontWeight:activeTab==='aprobar'?'600':'500',cursor:'pointer',position:'relative'},children:[\"Aprobar Solicitudes\",solicitudesPendientes.length>0&&/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:'0.5rem',right:'0.5rem',background:'#dc2626',color:'white',borderRadius:'50%',width:'1.5rem',height:'1.5rem',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'0.75rem',fontWeight:'bold'},children:solicitudesPendientes.length})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem'},children:[activeTab==='solicitar'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1.5rem'},children:\"Nueva Solicitud\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitSolicitud,style:{maxWidth:'32rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Tipo de Solicitud *\"}),/*#__PURE__*/_jsxs(\"select\",{value:solicitudForm.tipo,onChange:e=>setSolicitudForm(prev=>({...prev,tipo:e.target.value})),style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem'},required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"vacaciones\",children:\"Vacaciones\"}),/*#__PURE__*/_jsx(\"option\",{value:\"permiso\",children:\"Permiso Personal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medico\",children:\"Permiso M\\xE9dico\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Fecha de Inicio *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:solicitudForm.fechaInicio,onChange:e=>setSolicitudForm(prev=>({...prev,fechaInicio:e.target.value})),min:new Date(Date.now()+86400000).toISOString().split('T')[0],style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Fecha de Fin *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:solicitudForm.fechaFin,onChange:e=>setSolicitudForm(prev=>({...prev,fechaFin:e.target.value})),min:solicitudForm.fechaInicio||new Date(Date.now()+86400000).toISOString().split('T')[0],style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem'},required:true})]})]}),calcularDias()>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f0f9ff',border:'1px solid #bae6fd',borderRadius:'0.5rem',padding:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(8rem, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#0369a1',margin:0,marginBottom:'0.25rem',fontWeight:'600'},children:\"D\\xCDAS TOTALES\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#0369a1',margin:0},children:calcularDias()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#0369a1',margin:0,marginBottom:'0.25rem',fontWeight:'600'},children:\"D\\xCDAS H\\xC1BILES\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#0369a1',margin:0},children:calcularDiasHabiles()})]}),solicitudForm.tipo==='vacaciones'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#0369a1',margin:0,marginBottom:'0.25rem',fontWeight:'600'},children:\"D\\xCDAS DISPONIBLES\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:estadisticas.diasDisponibles>=calcularDias()?'#0369a1':'#dc2626',margin:0},children:estadisticas.diasDisponibles})]})]}),solicitudForm.tipo==='vacaciones'&&calcularDias()>estadisticas.diasDisponibles&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'0.75rem',padding:'0.5rem',background:'#fef2f2',border:'1px solid #fecaca',borderRadius:'0.375rem'},children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#dc2626',margin:0},children:\"\\u26A0\\uFE0F No tienes suficientes d\\xEDas de vacaciones disponibles\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.875rem',fontWeight:'500',color:'#374151',marginBottom:'0.5rem'},children:\"Motivo / Justificaci\\xF3n *\"}),/*#__PURE__*/_jsx(\"textarea\",{value:solicitudForm.motivo,onChange:e=>setSolicitudForm(prev=>({...prev,motivo:e.target.value})),placeholder:\"Describe el motivo de tu solicitud...\",rows:4,style:{width:'100%',padding:'0.75rem',border:'1px solid #d1d5db',borderRadius:'0.5rem',fontSize:'1rem',resize:'vertical'},required:true})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading,style:{background:loading?'#9ca3af':'#3b82f6',color:'white',padding:'0.75rem 1.5rem',borderRadius:'0.5rem',border:'none',fontSize:'1rem',fontWeight:'500',cursor:loading?'not-allowed':'pointer',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(Plus,{style:{width:'1rem',height:'1rem'}}),loading?'Enviando...':'Enviar Solicitud']})]})]}),activeTab==='historial'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:\"Historial de Solicitudes\"}),loading?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'3rem'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Cargando...\"})}):solicitudes.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',background:'#f9fafb',borderRadius:'0.5rem',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(FileText,{style:{width:'3rem',height:'3rem',color:'#9ca3af',margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',margin:0,marginBottom:'0.5rem'},children:\"No hay solicitudes\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',margin:0},children:\"A\\xFAn no tienes solicitudes de vacaciones registradas.\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:solicitudes.map(solicitud=>{const estadoStyle=getEstadoColor(solicitud.estado);const esMia=solicitud.empleadoId===user.empleadoId;return/*#__PURE__*/_jsxs(\"div\",{style:{border:esMia?'2px solid #3b82f6':'1px solid #e5e7eb',borderRadius:'0.5rem',padding:'1.5rem',background:esMia?'#f8fafc':'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',margin:0,marginBottom:'0.5rem'},children:[solicitud.empleado,\" - \",getTipoLabel(solicitud.tipo),esMia&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'0.5rem',padding:'0.125rem 0.5rem',borderRadius:'9999px',fontSize:'0.75rem',fontWeight:'500',background:'#dbeafe',color:'#1d4ed8'},children:\"M\\xCDA\"})]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0},children:[solicitud.puesto,\" \\u2022 \",solicitud.departamento]})]}),/*#__PURE__*/_jsxs(\"span\",{style:{padding:'0.25rem 0.75rem',borderRadius:'9999px',fontSize:'0.75rem',fontWeight:'500',background:estadoStyle.bg,color:estadoStyle.color,border:`1px solid ${estadoStyle.border}`,textTransform:'capitalize'},children:[solicitud.estado==='pendiente'&&/*#__PURE__*/_jsx(Clock,{style:{width:'0.75rem',height:'0.75rem',display:'inline',marginRight:'0.25rem'}}),solicitud.estado==='aprobada'&&/*#__PURE__*/_jsx(Check,{style:{width:'0.75rem',height:'0.75rem',display:'inline',marginRight:'0.25rem'}}),solicitud.estado==='rechazada'&&/*#__PURE__*/_jsx(X,{style:{width:'0.75rem',height:'0.75rem',display:'inline',marginRight:'0.25rem'}}),solicitud.estado]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(10rem, 1fr))',gap:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0},children:\"FECHA INICIO\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#111827',margin:0},children:new Date(solicitud.fechaInicio).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0},children:\"FECHA FIN\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#111827',margin:0},children:new Date(solicitud.fechaFin).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0},children:\"D\\xCDAS\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',fontWeight:'500',color:'#111827',margin:0},children:[solicitud.dias,\" d\\xEDas\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0},children:\"MOTIVO\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#111827',margin:0},children:solicitud.motivo})]}),/*#__PURE__*/_jsx(FlujAprobacion,{flujo:solicitud.flujoAprobacion,estado:solicitud.estado,aprobacionManual:solicitud.aprobacionManual})]},solicitud.id);})})]}),activeTab==='aprobar'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#111827',marginBottom:'1rem'},children:[\"Solicitudes Pendientes (\",solicitudesPendientes.length,\")\"]}),ROLES_APROBACION_MANUAL.includes(user.role)&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fef3c7',border:'1px solid #fcd34d',borderRadius:'0.5rem',padding:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#92400e',margin:0,marginBottom:'0.5rem'},children:\"\\uD83D\\uDD11 Privilegios de Aprobaci\\xF3n Manual\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#92400e',margin:0},children:\"Puedes realizar aprobaciones manuales que saltan el flujo normal.\"})]}),solicitudesPendientes.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',background:'#f9fafb',borderRadius:'0.5rem',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(Users,{style:{width:'3rem',height:'3rem',color:'#9ca3af',margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',margin:0},children:\"No hay solicitudes pendientes\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:solicitudesPendientes.map(solicitud=>{const permisos=puedeAprobar(solicitud);const esNormal=permisos.motivo==='normal';return/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #e5e7eb',borderRadius:'0.5rem',padding:'1.5rem',background:esNormal?'#fffbeb':'#fef3c7'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#111827',margin:0},children:[solicitud.empleado,\" - \",getTipoLabel(solicitud.tipo)]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',margin:0},children:[solicitud.dias,\" d\\xEDas \\u2022 \",new Date(solicitud.fechaInicio).toLocaleDateString(),\" - \",new Date(solicitud.fechaFin).toLocaleDateString()]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.75rem',color:'#6b7280',margin:0},children:\"MOTIVO\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#111827',margin:0},children:solicitud.motivo})]}),/*#__PURE__*/_jsx(FlujAprobacion,{flujo:solicitud.flujoAprobacion,estado:solicitud.estado}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1.5rem',display:'flex',gap:'0.75rem'},children:esNormal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleAprobarSolicitud(solicitud.id,'aprobada'),disabled:loading,style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:loading?'not-allowed':'pointer'},children:[/*#__PURE__*/_jsx(Check,{style:{width:'1rem',height:'1rem'}}),\"Aprobar\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleAprobarSolicitud(solicitud.id,'rechazada'),disabled:loading,style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#ef4444',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:loading?'not-allowed':'pointer'},children:[/*#__PURE__*/_jsx(X,{style:{width:'1rem',height:'1rem'}}),\"Rechazar\"]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openManualModal(solicitud.id,'aprobada'),disabled:loading,style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#dc2626',color:'white',border:'none',borderRadius:'0.375rem',fontSize:'0.875rem',fontWeight:'500',cursor:loading?'not-allowed':'pointer'},children:[/*#__PURE__*/_jsx(Edit,{style:{width:'1rem',height:'1rem'}}),\"Aprobaci\\xF3n Manual\"]})})})]},solicitud.id);})})]})]})]})]})]});};export default VacacionesModule;","map":{"version":3,"names":["React","useState","useEffect","useAuth","useApp","vacacionesService","Calendar","Plus","Clock","Check","X","FileText","Users","ArrowRight","AlertTriangle","Edit","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VacacionesModule","user","showSuccessMessage","showErrorMessage","activeTab","setActiveTab","loading","setLoading","solicitudes","setSolicitudes","estadisticas","setEstadisticas","diasTotales","diasUsados","diasDisponibles","showManualModal","setShowManualModal","manualApprovalData","setManualApprovalData","solicitudId","motivo","accion","solicitudForm","setSolicitudForm","fechaInicio","fechaFin","tipo","ROLES_APROBACION_MANUAL","ROLES_LABELS","id","empleadoId","cargarDatos","solicitudesData","getSolicitudes","role","statsData","getEstadisticas","error","console","calcularDias","inicio","Date","fin","diffTime","diffDays","Math","ceil","calcularDiasHabiles","diasHabiles","d","setDate","getDate","diaSemana","getDay","handleSubmitSolicitud","e","preventDefault","trim","diasSolicitados","crearSolicitud","dias","_error$response","_error$response$data","response","data","message","handleAprobarSolicitud","esManual","arguments","length","undefined","motivoManual","procesarSolicitud","aprobadorId","rol","mensaje","_error$response2","_error$response2$data","handleManualApproval","openManualModal","puedeAprobar","solicitud","flujoAprobacion","puede","actual","includes","solicitudesPendientes","filter","sol","estado","permisos","getEstadoColor","bg","color","border","getTipoLabel","getEtiquetaVista","FlujAprobacion","_ref","_flujo$requeridos","flujo","aprobacionManual","style","marginTop","padding","background","borderRadius","children","display","alignItems","justifyContent","marginBottom","fontSize","fontWeight","margin","gap","flexWrap","requeridos","map","index","_flujo$completados","isCompleted","completados","isCurrent","width","height","historial","evento","aprobadoPor","marginLeft","fecha","toLocaleString","fontStyle","position","top","left","right","bottom","zIndex","maxWidth","boxShadow","value","onChange","prev","target","placeholder","rows","resize","onClick","cursor","gridTemplateColumns","borderBottom","flex","onSubmit","required","type","min","now","toISOString","split","disabled","textAlign","flexDirection","estadoStyle","esMia","empleado","puesto","departamento","textTransform","marginRight","toLocaleDateString","esNormal"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/components/modules/vacaciones/VacacionesModule.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../../../context/AuthContext';\r\nimport { useApp } from '../../../context/AppContext';\r\nimport vacacionesService from '../../../api/vacacionesService';\r\nimport { Calendar, Plus, Clock, Check, X, FileText, Users, ArrowRight, AlertTriangle, Edit } from 'lucide-react';\r\n\r\nconst VacacionesModule = () => {\r\n  const { user } = useAuth();\r\n  const { showSuccessMessage, showErrorMessage } = useApp();\r\n  const [activeTab, setActiveTab] = useState('solicitar');\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  // Estados principales\r\n  const [solicitudes, setSolicitudes] = useState([]);\r\n  const [estadisticas, setEstadisticas] = useState({\r\n    diasTotales: 0,\r\n    diasUsados: 0,\r\n    diasDisponibles: 0\r\n  });\r\n\r\n  // Modal de aprobación manual\r\n  const [showManualModal, setShowManualModal] = useState(false);\r\n  const [manualApprovalData, setManualApprovalData] = useState({\r\n    solicitudId: null,\r\n    motivo: '',\r\n    accion: 'aprobada'\r\n  });\r\n\r\n  // Formulario de solicitud\r\n  const [solicitudForm, setSolicitudForm] = useState({\r\n    fechaInicio: '',\r\n    fechaFin: '',\r\n    motivo: '',\r\n    tipo: 'vacaciones'\r\n  });\r\n\r\n  // Roles con aprobación manual (RRHH)\r\n  const ROLES_APROBACION_MANUAL = ['RRHH', 'Gerente RRHH', 'Director RRHH'];\r\n\r\n  const ROLES_LABELS = {\r\n    'Gerente': 'Gerente',\r\n    'Director': 'Director',\r\n    'Gerente RRHH': 'Gerente RRHH',\r\n    'Director RRHH': 'Director RRHH',\r\n    'RRHH': 'RRHH',\r\n    'Colaborador': 'Colaborador'\r\n  };\r\n\r\n  // Cargar datos al montar\r\n  useEffect(() => {\r\n    if (user?.id && user?.empleadoId) {\r\n      cargarDatos();\r\n    }\r\n  }, [user]);\r\n\r\n  const cargarDatos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Cargar solicitudes\r\n      const solicitudesData = await vacacionesService.getSolicitudes(user.id, user.role);\r\n      setSolicitudes(solicitudesData);\r\n      \r\n      // Cargar estadísticas\r\n      const statsData = await vacacionesService.getEstadisticas(user.empleadoId);\r\n      setEstadisticas(statsData);\r\n    } catch (error) {\r\n      showErrorMessage('Error al cargar datos de vacaciones');\r\n      console.error('Error:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Calcular días\r\n  const calcularDias = () => {\r\n    if (solicitudForm.fechaInicio && solicitudForm.fechaFin) {\r\n      const inicio = new Date(solicitudForm.fechaInicio);\r\n      const fin = new Date(solicitudForm.fechaFin);\r\n      const diffTime = fin - inicio;\r\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;\r\n      return diffDays > 0 ? diffDays : 0;\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  const calcularDiasHabiles = () => {\r\n    if (solicitudForm.fechaInicio && solicitudForm.fechaFin) {\r\n      const inicio = new Date(solicitudForm.fechaInicio);\r\n      const fin = new Date(solicitudForm.fechaFin);\r\n      let diasHabiles = 0;\r\n      \r\n      for (let d = new Date(inicio); d <= fin; d.setDate(d.getDate() + 1)) {\r\n        const diaSemana = d.getDay();\r\n        if (diaSemana !== 0 && diaSemana !== 6) {\r\n          diasHabiles++;\r\n        }\r\n      }\r\n      return diasHabiles;\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  // Crear solicitud\r\n  const handleSubmitSolicitud = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!solicitudForm.fechaInicio || !solicitudForm.fechaFin || !solicitudForm.motivo.trim()) {\r\n      showErrorMessage('Por favor completa todos los campos obligatorios');\r\n      return;\r\n    }\r\n\r\n    const inicio = new Date(solicitudForm.fechaInicio);\r\n    const fin = new Date(solicitudForm.fechaFin);\r\n    \r\n    if (inicio >= fin) {\r\n      showErrorMessage('La fecha de fin debe ser posterior a la fecha de inicio');\r\n      return;\r\n    }\r\n\r\n    if (inicio <= new Date()) {\r\n      showErrorMessage('La fecha de inicio debe ser futura');\r\n      return;\r\n    }\r\n\r\n    const diasSolicitados = calcularDias();\r\n    \r\n    if (diasSolicitados > estadisticas.diasDisponibles && solicitudForm.tipo === 'vacaciones') {\r\n      showErrorMessage(`No tienes suficientes días disponibles. Solicitas ${diasSolicitados} días pero solo tienes ${estadisticas.diasDisponibles} disponibles.`);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      await vacacionesService.crearSolicitud({\r\n        empleadoId: user.empleadoId,\r\n        tipo: solicitudForm.tipo,\r\n        fechaInicio: solicitudForm.fechaInicio,\r\n        fechaFin: solicitudForm.fechaFin,\r\n        dias: diasSolicitados,\r\n        diasHabiles: calcularDiasHabiles(),\r\n        motivo: solicitudForm.motivo\r\n      });\r\n\r\n      await cargarDatos();\r\n\r\n      showSuccessMessage(`Solicitud de ${diasSolicitados} días enviada correctamente.`);\r\n      \r\n      setSolicitudForm({\r\n        fechaInicio: '',\r\n        fechaFin: '',\r\n        motivo: '',\r\n        tipo: 'vacaciones'\r\n      });\r\n    } catch (error) {\r\n      showErrorMessage('Error al crear solicitud: ' + (error.response?.data?.error || error.message));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Aprobar/Rechazar solicitud\r\n  const handleAprobarSolicitud = async (solicitudId, accion, esManual = false, motivoManual = '') => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      await vacacionesService.procesarSolicitud(solicitudId, {\r\n        accion,\r\n        aprobadorId: user.empleadoId,\r\n        rol: user.role,\r\n        esManual,\r\n        motivoManual\r\n      });\r\n\r\n      await cargarDatos();\r\n\r\n      if (esManual) {\r\n        showSuccessMessage(`Aprobación manual registrada: ${accion}`);\r\n      } else {\r\n        const mensaje = accion === 'aprobada' \r\n          ? 'Solicitud aprobada y enviada al siguiente nivel' \r\n          : 'Solicitud rechazada';\r\n        showSuccessMessage(mensaje);\r\n      }\r\n    } catch (error) {\r\n      showErrorMessage('Error al procesar solicitud: ' + (error.response?.data?.error || error.message));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleManualApproval = () => {\r\n    if (!manualApprovalData.motivo.trim()) {\r\n      showErrorMessage('Debes proporcionar un motivo para la aprobación manual');\r\n      return;\r\n    }\r\n\r\n    handleAprobarSolicitud(\r\n      manualApprovalData.solicitudId, \r\n      manualApprovalData.accion, \r\n      true, \r\n      manualApprovalData.motivo\r\n    );\r\n\r\n    setShowManualModal(false);\r\n    setManualApprovalData({\r\n      solicitudId: null,\r\n      motivo: '',\r\n      accion: 'aprobada'\r\n    });\r\n  };\r\n\r\n  const openManualModal = (solicitudId, accion = 'aprobada') => {\r\n    setManualApprovalData({\r\n      solicitudId,\r\n      motivo: '',\r\n      accion\r\n    });\r\n    setShowManualModal(true);\r\n  };\r\n\r\n  // Verificar si puede aprobar\r\n  const puedeAprobar = (solicitud) => {\r\n    if (!solicitud.flujoAprobacion) return { puede: false };\r\n    \r\n    if (solicitud.flujoAprobacion.actual === user.role) {\r\n      return { puede: true, motivo: 'normal' };\r\n    }\r\n    \r\n    if (ROLES_APROBACION_MANUAL.includes(user.role)) {\r\n      return { puede: true, motivo: 'manual' };\r\n    }\r\n    \r\n    return { puede: false };\r\n  };\r\n\r\n  // Obtener solicitudes pendientes\r\n  const solicitudesPendientes = solicitudes.filter(sol => {\r\n    if (sol.estado !== 'pendiente') return false;\r\n    const permisos = puedeAprobar(sol);\r\n    return permisos.puede;\r\n  });\r\n\r\n  const getEstadoColor = (estado) => {\r\n    switch (estado) {\r\n      case 'aprobada': return { bg: '#f0fdf4', color: '#166534', border: '#bbf7d0' };\r\n      case 'rechazada': return { bg: '#fef2f2', color: '#dc2626', border: '#fecaca' };\r\n      case 'pendiente': return { bg: '#fff7ed', color: '#ea580c', border: '#fed7aa' };\r\n      default: return { bg: '#f9fafb', color: '#374151', border: '#e5e7eb' };\r\n    }\r\n  };\r\n\r\n  const getTipoLabel = (tipo) => {\r\n    switch (tipo) {\r\n      case 'vacaciones': return 'Vacaciones';\r\n      case 'permiso': return 'Permiso Personal';\r\n      case 'medico': return 'Permiso Médico';\r\n      default: return tipo;\r\n    }\r\n  };\r\n\r\n  const getEtiquetaVista = () => {\r\n    switch (user.role) {\r\n      case 'Director RRHH':\r\n      case 'Gerente RRHH':\r\n        return 'Vista Global Completa - Toda la Empresa';\r\n      case 'RRHH':\r\n        return 'Vista RRHH - Gerentes y Colaboradores';\r\n      case 'Director':\r\n        return 'Vista Directiva - Gerentes y Colaboradores';\r\n      case 'Gerente':\r\n        return 'Vista Gerencial - Colaboradores Directos';\r\n      default:\r\n        return 'Vista Personal - Mis Solicitudes';\r\n    }\r\n  };\r\n\r\n  const FlujAprobacion = ({ flujo, estado, aprobacionManual }) => {\r\n    if (!flujo) return null;\r\n    \r\n    return (\r\n      <div style={{ marginTop: '1rem', padding: '1rem', background: '#f8fafc', borderRadius: '0.5rem', border: '1px solid #e2e8f0' }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '0.75rem' }}>\r\n          <h5 style={{ fontSize: '0.875rem', fontWeight: '600', color: '#374151', margin: 0 }}>\r\n            Flujo de Aprobación\r\n          </h5>\r\n          {aprobacionManual && (\r\n            <span style={{\r\n              padding: '0.25rem 0.5rem',\r\n              borderRadius: '9999px',\r\n              fontSize: '0.625rem',\r\n              fontWeight: '600',\r\n              background: '#fef3c7',\r\n              color: '#92400e',\r\n              border: '1px solid #fcd34d'\r\n            }}>\r\n              APROBACIÓN MANUAL\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', flexWrap: 'wrap' }}>\r\n          {flujo.requeridos?.map((rol, index) => {\r\n            const isCompleted = flujo.completados?.includes(rol);\r\n            const isCurrent = flujo.actual === rol && estado === 'pendiente';\r\n            \r\n            return (\r\n              <React.Fragment key={index}>\r\n                <div style={{\r\n                  padding: '0.25rem 0.75rem',\r\n                  borderRadius: '9999px',\r\n                  fontSize: '0.75rem',\r\n                  fontWeight: '500',\r\n                  background: isCompleted ? '#f0fdf4' : isCurrent ? '#fff7ed' : '#f1f5f9',\r\n                  color: isCompleted ? '#166534' : isCurrent ? '#ea580c' : '#64748b',\r\n                  border: `1px solid ${isCompleted ? '#bbf7d0' : isCurrent ? '#fed7aa' : '#cbd5e1'}`,\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '0.25rem'\r\n                }}>\r\n                  {isCompleted && <Check style={{ width: '0.75rem', height: '0.75rem' }} />}\r\n                  {isCurrent && <Clock style={{ width: '0.75rem', height: '0.75rem' }} />}\r\n                  {ROLES_LABELS[rol] || rol}\r\n                </div>\r\n                {index < flujo.requeridos.length - 1 && (\r\n                  <ArrowRight style={{ width: '1rem', height: '1rem', color: '#9ca3af' }} />\r\n                )}\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n        \r\n        {flujo.historial && flujo.historial.length > 0 && (\r\n          <div style={{ marginTop: '0.75rem' }}>\r\n            <h6 style={{ fontSize: '0.75rem', fontWeight: '600', color: '#6b7280', margin: 0, marginBottom: '0.5rem' }}>\r\n              HISTORIAL DE APROBACIONES\r\n            </h6>\r\n            {flujo.historial.map((evento, index) => (\r\n              <div key={index} style={{ \r\n                fontSize: '0.75rem', \r\n                color: '#6b7280', \r\n                marginBottom: '0.5rem',\r\n                padding: '0.5rem',\r\n                background: evento.tipo === 'manual' ? '#fef3c7' : 'transparent',\r\n                borderRadius: '0.25rem',\r\n                border: evento.tipo === 'manual' ? '1px solid #fcd34d' : 'none'\r\n              }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                  {evento.accion === 'aprobada' ? '✅' : '❌'} \r\n                  <strong>{ROLES_LABELS[evento.rol] || evento.rol}</strong>: {evento.aprobadoPor}\r\n                  {evento.tipo === 'manual' && (\r\n                    <span style={{\r\n                      padding: '0.125rem 0.375rem',\r\n                      borderRadius: '9999px',\r\n                      fontSize: '0.625rem',\r\n                      fontWeight: '600',\r\n                      background: '#92400e',\r\n                      color: '#fef3c7'\r\n                    }}>\r\n                      MANUAL\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div style={{ marginLeft: '1.25rem', marginTop: '0.25rem' }}>\r\n                  Fecha: {new Date(evento.fecha).toLocaleString()}\r\n                  {evento.motivoManual && (\r\n                    <div style={{ marginTop: '0.25rem', fontStyle: 'italic' }}>\r\n                      Motivo: {evento.motivoManual}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '1.5rem' }}>\r\n      {/* Modal de Aprobación Manual */}\r\n      {showManualModal && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          background: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            padding: '1.5rem',\r\n            maxWidth: '28rem',\r\n            width: '90%',\r\n            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Aprobación Manual\r\n            </h3>\r\n            <div style={{\r\n              background: '#fef3c7',\r\n              border: '1px solid #fcd34d',\r\n              borderRadius: '0.5rem',\r\n              padding: '0.75rem',\r\n              marginBottom: '1rem'\r\n            }}>\r\n              <p style={{ fontSize: '0.875rem', color: '#92400e', margin: 0 }}>\r\n                ⚠️ Esta acción saltará el flujo normal de aprobación y será registrada como aprobación manual.\r\n              </p>\r\n            </div>\r\n            \r\n            <div style={{ marginBottom: '1rem' }}>\r\n              <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                Acción\r\n              </label>\r\n              <select\r\n                value={manualApprovalData.accion}\r\n                onChange={(e) => setManualApprovalData(prev => ({ ...prev, accion: e.target.value }))}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.75rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '1rem'\r\n                }}\r\n              >\r\n                <option value=\"aprobada\">Aprobar</option>\r\n                <option value=\"rechazada\">Rechazar</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '1.5rem' }}>\r\n              <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                Motivo de la aprobación manual *\r\n              </label>\r\n              <textarea\r\n                value={manualApprovalData.motivo}\r\n                onChange={(e) => setManualApprovalData(prev => ({ ...prev, motivo: e.target.value }))}\r\n                placeholder=\"Ej: Aprobación urgente por emergencia familiar, autorización directa del CEO, etc.\"\r\n                rows={3}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.75rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '1rem',\r\n                  resize: 'vertical'\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: '0.75rem', justifyContent: 'flex-end' }}>\r\n              <button\r\n                onClick={() => setShowManualModal(false)}\r\n                style={{\r\n                  padding: '0.5rem 1rem',\r\n                  background: '#f3f4f6',\r\n                  color: '#374151',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.375rem',\r\n                  fontSize: '0.875rem',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={handleManualApproval}\r\n                style={{\r\n                  padding: '0.5rem 1rem',\r\n                  background: '#dc2626',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '0.375rem',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '500',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Confirmar Aprobación Manual\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ maxWidth: '112rem', margin: '0 auto' }}>\r\n        <h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: '#111827', marginBottom: '0.5rem' }}>\r\n          Sistema de Gestión de Vacaciones\r\n        </h1>\r\n        <p style={{ color: '#6b7280', fontSize: '1.125rem', marginBottom: '2rem' }}>\r\n          {getEtiquetaVista()}\r\n        </p>\r\n\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(auto-fit, minmax(15rem, 1fr))',\r\n          gap: '1.5rem',\r\n          marginBottom: '2rem'\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb',\r\n            padding: '1.5rem'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Días Disponibles\r\n            </h3>\r\n            <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#10b981', margin: 0 }}>\r\n              {estadisticas.diasDisponibles}\r\n            </p>\r\n          </div>\r\n\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb',\r\n            padding: '1.5rem'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Pendientes en Mi Nivel\r\n            </h3>\r\n            <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#f59e0b', margin: 0 }}>\r\n              {solicitudesPendientes.length}\r\n            </p>\r\n          </div>\r\n\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '0.75rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb',\r\n            padding: '1.5rem'\r\n          }}>\r\n            <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n              Total Solicitudes\r\n            </h3>\r\n            <p style={{ fontSize: '1rem', fontWeight: 'bold', color: '#3b82f6', margin: 0 }}>\r\n              {solicitudes.length} solicitudes\r\n              {ROLES_APROBACION_MANUAL.includes(user.role) && (\r\n                <span style={{ \r\n                  display: 'block', \r\n                  fontSize: '0.75rem', \r\n                  color: '#dc2626', \r\n                  fontWeight: '500' \r\n                }}>\r\n                  + Aprobación Manual\r\n                </span>\r\n              )}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '0.75rem',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n          border: '1px solid #e5e7eb'\r\n        }}>\r\n          <div style={{ display: 'flex', borderBottom: '1px solid #e5e7eb' }}>\r\n            <button\r\n              onClick={() => setActiveTab('solicitar')}\r\n              style={{\r\n                flex: 1,\r\n                padding: '1rem',\r\n                border: 'none',\r\n                background: activeTab === 'solicitar' ? '#f8fafc' : 'transparent',\r\n                color: activeTab === 'solicitar' ? '#3b82f6' : '#6b7280',\r\n                fontWeight: activeTab === 'solicitar' ? '600' : '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Solicitar Vacaciones\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('historial')}\r\n              style={{\r\n                flex: 1,\r\n                padding: '1rem',\r\n                border: 'none',\r\n                background: activeTab === 'historial' ? '#f8fafc' : 'transparent',\r\n                color: activeTab === 'historial' ? '#3b82f6' : '#6b7280',\r\n                fontWeight: activeTab === 'historial' ? '600' : '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Historial ({solicitudes.length})\r\n            </button>\r\n            {['Gerente', 'Director', 'RRHH', 'Gerente RRHH', 'Director RRHH'].includes(user.role) && (\r\n              <button\r\n                onClick={() => setActiveTab('aprobar')}\r\n                style={{\r\n                  flex: 1,\r\n                  padding: '1rem',\r\n                  border: 'none',\r\n                  background: activeTab === 'aprobar' ? '#f8fafc' : 'transparent',\r\n                  color: activeTab === 'aprobar' ? '#3b82f6' : '#6b7280',\r\n                  fontWeight: activeTab === 'aprobar' ? '600' : '500',\r\n                  cursor: 'pointer',\r\n                  position: 'relative'\r\n                }}\r\n              >\r\n                Aprobar Solicitudes\r\n                {solicitudesPendientes.length > 0 && (\r\n                  <span style={{\r\n                    position: 'absolute',\r\n                    top: '0.5rem',\r\n                    right: '0.5rem',\r\n                    background: '#dc2626',\r\n                    color: 'white',\r\n                    borderRadius: '50%',\r\n                    width: '1.5rem',\r\n                    height: '1.5rem',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    fontSize: '0.75rem',\r\n                    fontWeight: 'bold'\r\n                  }}>\r\n                    {solicitudesPendientes.length}\r\n                  </span>\r\n                )}\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <div style={{ padding: '2rem' }}>\r\n            {activeTab === 'solicitar' && (\r\n              <div>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1.5rem' }}>\r\n                  Nueva Solicitud\r\n                </h3>\r\n\r\n                <form onSubmit={handleSubmitSolicitud} style={{ maxWidth: '32rem' }}>\r\n                  <div style={{ marginBottom: '1.5rem' }}>\r\n                    <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                      Tipo de Solicitud *\r\n                    </label>\r\n                    <select\r\n                      value={solicitudForm.tipo}\r\n                      onChange={(e) => setSolicitudForm(prev => ({ ...prev, tipo: e.target.value }))}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '0.75rem',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '0.5rem',\r\n                        fontSize: '1rem'\r\n                      }}\r\n                      required\r\n                    >\r\n                      <option value=\"vacaciones\">Vacaciones</option>\r\n                      <option value=\"permiso\">Permiso Personal</option>\r\n                      <option value=\"medico\">Permiso Médico</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem', marginBottom: '1.5rem' }}>\r\n                    <div>\r\n                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                        Fecha de Inicio *\r\n                      </label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={solicitudForm.fechaInicio}\r\n                        onChange={(e) => setSolicitudForm(prev => ({ ...prev, fechaInicio: e.target.value }))}\r\n                        min={new Date(Date.now() + 86400000).toISOString().split('T')[0]}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.75rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.5rem',\r\n                          fontSize: '1rem'\r\n                        }}\r\n                        required\r\n                      />\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                        Fecha de Fin *\r\n                      </label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={solicitudForm.fechaFin}\r\n                        onChange={(e) => setSolicitudForm(prev => ({ ...prev, fechaFin: e.target.value }))}\r\n                        min={solicitudForm.fechaInicio || new Date(Date.now() + 86400000).toISOString().split('T')[0]}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.75rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.5rem',\r\n                          fontSize: '1rem'\r\n                        }}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  {calcularDias() > 0 && (\r\n                    <div style={{\r\n                      background: '#f0f9ff',\r\n                      border: '1px solid #bae6fd',\r\n                      borderRadius: '0.5rem',\r\n                      padding: '1rem',\r\n                      marginBottom: '1.5rem'\r\n                    }}>\r\n                      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(8rem, 1fr))', gap: '1rem' }}>\r\n                        <div>\r\n                          <p style={{ fontSize: '0.75rem', color: '#0369a1', margin: 0, marginBottom: '0.25rem', fontWeight: '600' }}>\r\n                            DÍAS TOTALES\r\n                          </p>\r\n                          <p style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#0369a1', margin: 0 }}>\r\n                            {calcularDias()}\r\n                          </p>\r\n                        </div>\r\n                        <div>\r\n                          <p style={{ fontSize: '0.75rem', color: '#0369a1', margin: 0, marginBottom: '0.25rem', fontWeight: '600' }}>\r\n                            DÍAS HÁBILES\r\n                          </p>\r\n                          <p style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#0369a1', margin: 0 }}>\r\n                            {calcularDiasHabiles()}\r\n                          </p>\r\n                        </div>\r\n                        {solicitudForm.tipo === 'vacaciones' && (\r\n                          <div>\r\n                            <p style={{ fontSize: '0.75rem', color: '#0369a1', margin: 0, marginBottom: '0.25rem', fontWeight: '600' }}>\r\n                              DÍAS DISPONIBLES\r\n                            </p>\r\n                            <p style={{ \r\n                              fontSize: '1.5rem', \r\n                              fontWeight: 'bold', \r\n                              color: estadisticas.diasDisponibles >= calcularDias() ? '#0369a1' : '#dc2626', \r\n                              margin: 0 \r\n                            }}>\r\n                              {estadisticas.diasDisponibles}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      {solicitudForm.tipo === 'vacaciones' && calcularDias() > estadisticas.diasDisponibles && (\r\n                        <div style={{ marginTop: '0.75rem', padding: '0.5rem', background: '#fef2f2', border: '1px solid #fecaca', borderRadius: '0.375rem' }}>\r\n                          <p style={{ fontSize: '0.75rem', color: '#dc2626', margin: 0 }}>\r\n                            ⚠️ No tienes suficientes días de vacaciones disponibles\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n\r\n                  <div style={{ marginBottom: '1.5rem' }}>\r\n                    <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                      Motivo / Justificación *\r\n                    </label>\r\n                    <textarea\r\n                      value={solicitudForm.motivo}\r\n                      onChange={(e) => setSolicitudForm(prev => ({ ...prev, motivo: e.target.value }))}\r\n                      placeholder=\"Describe el motivo de tu solicitud...\"\r\n                      rows={4}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '0.75rem',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '0.5rem',\r\n                        fontSize: '1rem',\r\n                        resize: 'vertical'\r\n                      }}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    style={{\r\n                      background: loading ? '#9ca3af' : '#3b82f6',\r\n                      color: 'white',\r\n                      padding: '0.75rem 1.5rem',\r\n                      borderRadius: '0.5rem',\r\n                      border: 'none',\r\n                      fontSize: '1rem',\r\n                      fontWeight: '500',\r\n                      cursor: loading ? 'not-allowed' : 'pointer',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '0.5rem'\r\n                    }}\r\n                  >\r\n                    <Plus style={{ width: '1rem', height: '1rem' }} />\r\n                    {loading ? 'Enviando...' : 'Enviar Solicitud'}\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'historial' && (\r\n              <div>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n                  Historial de Solicitudes\r\n                </h3>\r\n\r\n                {loading ? (\r\n                  <div style={{ textAlign: 'center', padding: '3rem' }}>\r\n                    <p>Cargando...</p>\r\n                  </div>\r\n                ) : solicitudes.length === 0 ? (\r\n                  <div style={{\r\n                    textAlign: 'center',\r\n                    padding: '3rem',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '0.5rem',\r\n                    border: '1px solid #e5e7eb'\r\n                  }}>\r\n                    <FileText style={{ width: '3rem', height: '3rem', color: '#9ca3af', margin: '0 auto 1rem' }} />\r\n                    <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', margin: 0, marginBottom: '0.5rem' }}>\r\n                      No hay solicitudes\r\n                    </h4>\r\n                    <p style={{ color: '#6b7280', margin: 0 }}>\r\n                      Aún no tienes solicitudes de vacaciones registradas.\r\n                    </p>\r\n                  </div>\r\n                ) : (\r\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                    {solicitudes.map(solicitud => {\r\n                      const estadoStyle = getEstadoColor(solicitud.estado);\r\n                      const esMia = solicitud.empleadoId === user.empleadoId;\r\n                      \r\n                      return (\r\n                        <div\r\n                          key={solicitud.id}\r\n                          style={{\r\n                            border: esMia ? '2px solid #3b82f6' : '1px solid #e5e7eb',\r\n                            borderRadius: '0.5rem',\r\n                            padding: '1.5rem',\r\n                            background: esMia ? '#f8fafc' : 'white'\r\n                          }}\r\n                        >\r\n                          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '1rem' }}>\r\n                            <div>\r\n                              <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', margin: 0, marginBottom: '0.5rem' }}>\r\n                                {solicitud.empleado} - {getTipoLabel(solicitud.tipo)}\r\n                                {esMia && (\r\n                                  <span style={{\r\n                                    marginLeft: '0.5rem',\r\n                                    padding: '0.125rem 0.5rem',\r\n                                    borderRadius: '9999px',\r\n                                    fontSize: '0.75rem',\r\n                                    fontWeight: '500',\r\n                                    background: '#dbeafe',\r\n                                    color: '#1d4ed8'\r\n                                  }}>\r\n                                    MÍA\r\n                                  </span>\r\n                                )}\r\n                              </h4>\r\n                              <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0 }}>\r\n                                {solicitud.puesto} • {solicitud.departamento}\r\n                              </p>\r\n                            </div>\r\n                            <span style={{\r\n                              padding: '0.25rem 0.75rem',\r\n                              borderRadius: '9999px',\r\n                              fontSize: '0.75rem',\r\n                              fontWeight: '500',\r\n                              background: estadoStyle.bg,\r\n                              color: estadoStyle.color,\r\n                              border: `1px solid ${estadoStyle.border}`,\r\n                              textTransform: 'capitalize'\r\n                            }}>\r\n                              {solicitud.estado === 'pendiente' && <Clock style={{ width: '0.75rem', height: '0.75rem', display: 'inline', marginRight: '0.25rem' }} />}\r\n                              {solicitud.estado === 'aprobada' && <Check style={{ width: '0.75rem', height: '0.75rem', display: 'inline', marginRight: '0.25rem' }} />}\r\n                              {solicitud.estado === 'rechazada' && <X style={{ width: '0.75rem', height: '0.75rem', display: 'inline', marginRight: '0.25rem' }} />}\r\n                              {solicitud.estado}\r\n                            </span>\r\n                          </div>\r\n\r\n                          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(10rem, 1fr))', gap: '1rem', marginBottom: '1rem' }}>\r\n                            <div>\r\n                              <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0 }}>FECHA INICIO</p>\r\n                              <p style={{ fontSize: '0.875rem', fontWeight: '500', color: '#111827', margin: 0 }}>\r\n                                {new Date(solicitud.fechaInicio).toLocaleDateString()}\r\n                              </p>\r\n                            </div>\r\n                            <div>\r\n                              <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0 }}>FECHA FIN</p>\r\n                              <p style={{ fontSize: '0.875rem', fontWeight: '500', color: '#111827', margin: 0 }}>\r\n                                {new Date(solicitud.fechaFin).toLocaleDateString()}\r\n                              </p>\r\n                            </div>\r\n                            <div>\r\n                              <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0 }}>DÍAS</p>\r\n                              <p style={{ fontSize: '0.875rem', fontWeight: '500', color: '#111827', margin: 0 }}>\r\n                                {solicitud.dias} días\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div style={{ marginBottom: '1rem' }}>\r\n                            <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0 }}>MOTIVO</p>\r\n                            <p style={{ fontSize: '0.875rem', color: '#111827', margin: 0 }}>\r\n                              {solicitud.motivo}\r\n                            </p>\r\n                          </div>\r\n\r\n                          <FlujAprobacion \r\n                            flujo={solicitud.flujoAprobacion} \r\n                            estado={solicitud.estado}\r\n                            aprobacionManual={solicitud.aprobacionManual}\r\n                          />\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'aprobar' && (\r\n              <div>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#111827', marginBottom: '1rem' }}>\r\n                  Solicitudes Pendientes ({solicitudesPendientes.length})\r\n                </h3>\r\n                \r\n                {ROLES_APROBACION_MANUAL.includes(user.role) && (\r\n                  <div style={{\r\n                    background: '#fef3c7',\r\n                    border: '1px solid #fcd34d',\r\n                    borderRadius: '0.5rem',\r\n                    padding: '1rem',\r\n                    marginBottom: '1.5rem'\r\n                  }}>\r\n                    <h4 style={{ fontSize: '0.875rem', fontWeight: '600', color: '#92400e', margin: 0, marginBottom: '0.5rem' }}>\r\n                      🔑 Privilegios de Aprobación Manual\r\n                    </h4>\r\n                    <p style={{ fontSize: '0.75rem', color: '#92400e', margin: 0 }}>\r\n                      Puedes realizar aprobaciones manuales que saltan el flujo normal.\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {solicitudesPendientes.length === 0 ? (\r\n                  <div style={{\r\n                    textAlign: 'center',\r\n                    padding: '3rem',\r\n                    background: '#f9fafb',\r\n                    borderRadius: '0.5rem',\r\n                    border: '1px solid #e5e7eb'\r\n                  }}>\r\n                    <Users style={{ width: '3rem', height: '3rem', color: '#9ca3af', margin: '0 auto 1rem' }} />\r\n                    <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', margin: 0 }}>\r\n                      No hay solicitudes pendientes\r\n                    </h4>\r\n                  </div>\r\n                ) : (\r\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                    {solicitudesPendientes.map(solicitud => {\r\n                      const permisos = puedeAprobar(solicitud);\r\n                      const esNormal = permisos.motivo === 'normal';\r\n                      \r\n                      return (\r\n                        <div key={solicitud.id} style={{\r\n                          border: '1px solid #e5e7eb',\r\n                          borderRadius: '0.5rem',\r\n                          padding: '1.5rem',\r\n                          background: esNormal ? '#fffbeb' : '#fef3c7'\r\n                        }}>\r\n                          <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '1rem' }}>\r\n                            <div>\r\n                              <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#111827', margin: 0 }}>\r\n                                {solicitud.empleado} - {getTipoLabel(solicitud.tipo)}\r\n                              </h4>\r\n                              <p style={{ fontSize: '0.875rem', color: '#6b7280', margin: 0 }}>\r\n                                {solicitud.dias} días • {new Date(solicitud.fechaInicio).toLocaleDateString()} - {new Date(solicitud.fechaFin).toLocaleDateString()}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div style={{ marginBottom: '1rem' }}>\r\n                            <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0 }}>MOTIVO</p>\r\n                            <p style={{ fontSize: '0.875rem', color: '#111827', margin: 0 }}>{solicitud.motivo}</p>\r\n                          </div>\r\n\r\n                          <FlujAprobacion flujo={solicitud.flujoAprobacion} estado={solicitud.estado} />\r\n\r\n                          <div style={{ marginTop: '1.5rem', display: 'flex', gap: '0.75rem' }}>\r\n                            {esNormal ? (\r\n                              <>\r\n                                <button\r\n                                  onClick={() => handleAprobarSolicitud(solicitud.id, 'aprobada')}\r\n                                  disabled={loading}\r\n                                  style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                    padding: '0.5rem 1rem',\r\n                                    background: '#10b981',\r\n                                    color: 'white',\r\n                                    border: 'none',\r\n                                    borderRadius: '0.375rem',\r\n                                    fontSize: '0.875rem',\r\n                                    fontWeight: '500',\r\n                                    cursor: loading ? 'not-allowed' : 'pointer'\r\n                                  }}\r\n                                >\r\n                                  <Check style={{ width: '1rem', height: '1rem' }} />\r\n                                  Aprobar\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => handleAprobarSolicitud(solicitud.id, 'rechazada')}\r\n                                  disabled={loading}\r\n                                  style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                    padding: '0.5rem 1rem',\r\n                                    background: '#ef4444',\r\n                                    color: 'white',\r\n                                    border: 'none',\r\n                                    borderRadius: '0.375rem',\r\n                                    fontSize: '0.875rem',\r\n                                    fontWeight: '500',\r\n                                    cursor: loading ? 'not-allowed' : 'pointer'\r\n                                  }}\r\n                                >\r\n                                  <X style={{ width: '1rem', height: '1rem' }} />\r\n                                  Rechazar\r\n                                </button>\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <button\r\n                                  onClick={() => openManualModal(solicitud.id, 'aprobada')}\r\n                                  disabled={loading}\r\n                                  style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                    padding: '0.5rem 1rem',\r\n                                    background: '#dc2626',\r\n                                    color: 'white',\r\n                                    border: 'none',\r\n                                    borderRadius: '0.375rem',\r\n                                    fontSize: '0.875rem',\r\n                                    fontWeight: '500',\r\n                                    cursor: loading ? 'not-allowed' : 'pointer'\r\n                                  }}\r\n                                >\r\n                                  <Edit style={{ width: '1rem', height: '1rem' }} />\r\n                                  Aprobación Manual\r\n                                </button>\r\n                              </>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VacacionesModule;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}