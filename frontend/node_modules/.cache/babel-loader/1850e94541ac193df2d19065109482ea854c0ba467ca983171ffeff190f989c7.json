{"ast":null,"code":"const API_URL=process.env.REACT_APP_API_URL||'http://192.168.0.239:5000/api';export const getAuthHeaders=()=>{// ✅ La variable debe llamarse 'token', no 'rrhh_token'\nconst token=localStorage.getItem('rrhh_token');if(!token){return{'Content-Type':'application/json'};}return{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'};};export const apiRequest=async function(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const url=`${API_URL}${endpoint}`;const config={...options,headers:{...getAuthHeaders(),...options.headers}};try{const response=await fetch(url,config);const data=await response.json();return data;}catch(error){console.error('Error en la petición:',error);throw error;}};export default API_URL;","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","getAuthHeaders","token","localStorage","getItem","apiRequest","endpoint","options","arguments","length","undefined","url","config","headers","response","fetch","data","json","error","console"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/api/apiClient.js"],"sourcesContent":["const API_URL = process.env.REACT_APP_API_URL || 'http://192.168.0.239:5000/api';\r\n\r\nexport const getAuthHeaders = () => {\r\n  // ✅ La variable debe llamarse 'token', no 'rrhh_token'\r\n  const token = localStorage.getItem('rrhh_token');\r\n  \r\n  if (!token) {\r\n    return {\r\n      'Content-Type': 'application/json'\r\n    };\r\n  }\r\n\r\n  return {\r\n    'Authorization': `Bearer ${token}`,\r\n    'Content-Type': 'application/json'\r\n  };\r\n};\r\n\r\nexport const apiRequest = async (endpoint, options = {}) => {\r\n  const url = `${API_URL}${endpoint}`;\r\n  \r\n  const config = {\r\n    ...options,\r\n    headers: {\r\n      ...getAuthHeaders(),\r\n      ...options.headers\r\n    }\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(url, config);\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error en la petición:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default API_URL;"],"mappings":"AAAA,KAAM,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,+BAA+B,CAEhF,MAAO,MAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAClC;AACA,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAEhD,GAAI,CAACF,KAAK,CAAE,CACV,MAAO,CACL,cAAc,CAAE,kBAClB,CAAC,CACH,CAEA,MAAO,CACL,eAAe,CAAE,UAAUA,KAAK,EAAE,CAClC,cAAc,CAAE,kBAClB,CAAC,CACH,CAAC,CAED,MAAO,MAAM,CAAAG,UAAU,CAAG,cAAAA,CAAOC,QAAQ,CAAmB,IAAjB,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACrD,KAAM,CAAAG,GAAG,CAAG,GAAGd,OAAO,GAAGS,QAAQ,EAAE,CAEnC,KAAM,CAAAM,MAAM,CAAG,CACb,GAAGL,OAAO,CACVM,OAAO,CAAE,CACP,GAAGZ,cAAc,CAAC,CAAC,CACnB,GAAGM,OAAO,CAACM,OACb,CACF,CAAC,CAED,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACJ,GAAG,CAAEC,MAAM,CAAC,CACzC,KAAM,CAAAI,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAD,IAAI,CACb,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,cAAe,CAAArB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}