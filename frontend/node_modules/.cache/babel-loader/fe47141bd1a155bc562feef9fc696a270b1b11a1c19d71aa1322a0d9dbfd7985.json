{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useAuth}from\"../../../context/AuthContext\";import{Building,Plus,Trash2,Edit,AlertCircle,CheckCircle,X,Save}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||\"http://192.168.0.239:5000/api\";const DepartamentosModule=()=>{const{getStoredToken}=useAuth();const[departamentos,setDepartamentos]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[message,setMessage]=useState(null);const[showModal,setShowModal]=useState(false);const[editingDepartamento,setEditingDepartamento]=useState(null);const[formData,setFormData]=useState({nombre:\"\",descripcion:\"\"});const fetchDepartamentos=async()=>{setLoading(true);setError(null);try{const token=getStoredToken();const res=await axios.get(`${API_URL}/departamentos`,{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});console.log('📊 Datos recibidos de departamentos:',res.data);// ✅ VALIDAR FORMATO DE RESPUESTA\nif(res.data.departamentos&&Array.isArray(res.data.departamentos)){setDepartamentos(res.data.departamentos);}else if(Array.isArray(res.data)){setDepartamentos(res.data);}else{console.error('Formato inesperado:',res.data);setDepartamentos([]);setError('Formato de datos inesperado');}}catch(err){var _err$response,_err$response$data;console.error('Error cargando departamentos:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Error cargando departamentos');setDepartamentos([]);}finally{setLoading(false);}};const handleOpenModal=function(){let departamento=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(departamento){setEditingDepartamento(departamento);setFormData({nombre:departamento.nombre||departamento.Nombre||departamento.NOMBRE||\"\",descripcion:departamento.descripcion||departamento.Descripcion||departamento.DESCRIPCION||\"\"});}else{setEditingDepartamento(null);setFormData({nombre:\"\",descripcion:\"\"});}setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);setEditingDepartamento(null);setFormData({nombre:\"\",descripcion:\"\"});setError(null);};const handleSubmit=async e=>{e.preventDefault();if(!formData.nombre.trim()){setError('El nombre del departamento es requerido');return;}setLoading(true);setError(null);setMessage(null);try{const token=getStoredToken();// 🔍 DEBUG: Ver qué se está enviando\nconsole.log('📤 Enviando datos:',{nombre:formData.nombre.trim(),descripcion:formData.descripcion.trim(),editando:!!editingDepartamento});if(editingDepartamento){// EDITAR\nconst id=editingDepartamento.id||editingDepartamento.DepartamentoID||editingDepartamento.DEPARTAMENTO_ID;console.log('✏️ Editando departamento ID:',id);const response=await axios.put(`${API_URL}/departamentos/${id}`,{nombre:formData.nombre.trim(),descripcion:formData.descripcion.trim()},{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});console.log('✅ Respuesta edición:',response.data);setMessage('Departamento actualizado exitosamente');}else{// CREAR\nconsole.log('➕ Creando nuevo departamento');const response=await axios.post(`${API_URL}/departamentos`,{nombre:formData.nombre.trim(),descripcion:formData.descripcion.trim()},{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});console.log('✅ Respuesta creación:',response.data);setMessage('Departamento creado exitosamente');}handleCloseModal();await fetchDepartamentos();// Limpiar mensaje después de 3 segundos\nsetTimeout(()=>setMessage(null),3000);}catch(err){var _err$response2,_err$response3,_err$response4,_err$response4$data,_err$response5,_err$response5$data,_err$response6,_err$response7,_err$response8;console.error('❌ Error completo:',err);console.error('❌ Error response:',err.response);console.error('❌ Error data:',(_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data);console.error('❌ Error status:',(_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status);console.error('❌ Error message:',err.message);// Construir mensaje de error más descriptivo\nlet errorMsg='Error guardando departamento';if((_err$response4=err.response)!==null&&_err$response4!==void 0&&(_err$response4$data=_err$response4.data)!==null&&_err$response4$data!==void 0&&_err$response4$data.message){errorMsg=err.response.data.message;}else if((_err$response5=err.response)!==null&&_err$response5!==void 0&&(_err$response5$data=_err$response5.data)!==null&&_err$response5$data!==void 0&&_err$response5$data.error){errorMsg=err.response.data.error;}else if(((_err$response6=err.response)===null||_err$response6===void 0?void 0:_err$response6.status)===404){errorMsg='Endpoint no encontrado. Verifica la configuración del backend.';}else if(((_err$response7=err.response)===null||_err$response7===void 0?void 0:_err$response7.status)===401){errorMsg='No autorizado. Tu sesión puede haber expirado.';}else if(((_err$response8=err.response)===null||_err$response8===void 0?void 0:_err$response8.status)===403){errorMsg='No tienes permisos para realizar esta acción.';}else if(err.message){errorMsg=err.message;}setError(errorMsg);}finally{setLoading(false);}};const handleDelete=async id=>{if(!window.confirm('¿Está seguro de eliminar este departamento?')){return;}setLoading(true);setError(null);setMessage(null);try{const token=getStoredToken();console.log('🗑️ Eliminando departamento ID:',id);await axios.delete(`${API_URL}/departamentos/${id}`,{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});console.log('✅ Departamento eliminado');setMessage('Departamento eliminado exitosamente');await fetchDepartamentos();// Limpiar mensaje después de 3 segundos\nsetTimeout(()=>setMessage(null),3000);}catch(err){var _err$response9,_err$response0,_err$response0$data,_err$response1,_err$response1$data;console.error('❌ Error eliminando:',err);console.error('❌ Error response:',err.response);console.error('❌ Error data:',(_err$response9=err.response)===null||_err$response9===void 0?void 0:_err$response9.data);let errorMsg='Error eliminando departamento';if((_err$response0=err.response)!==null&&_err$response0!==void 0&&(_err$response0$data=_err$response0.data)!==null&&_err$response0$data!==void 0&&_err$response0$data.message){errorMsg=err.response.data.message;}else if((_err$response1=err.response)!==null&&_err$response1!==void 0&&(_err$response1$data=_err$response1.data)!==null&&_err$response1$data!==void 0&&_err$response1$data.error){errorMsg=err.response.data.error;}else if(err.message){errorMsg=err.message;}setError(errorMsg);}finally{setLoading(false);}};useEffect(()=>{fetchDepartamentos();},[]);// Limpiar mensajes después de 5 segundos\nuseEffect(()=>{if(error||message){const timer=setTimeout(()=>{setError(null);setMessage(null);},5000);return()=>clearTimeout(timer);}},[error,message]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm mb-6 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(Building,{className:\"w-6 h-6 text-purple-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Gesti\\xF3n de Departamentos\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Administra los departamentos y estructura organizativa de la empresa\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleOpenModal(),className:\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 font-medium\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-5 h-5\"}),\"Nuevo Departamento\"]})]})}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-800\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:error})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2 text-green-800\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:[\"Departamentos Registrados (\",Array.isArray(departamentos)?departamentos.length:0,\")\"]})}),loading&&departamentos.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Cargando departamentos...\"})]}):Array.isArray(departamentos)&&departamentos.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(Building,{className:\"w-12 h-12 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-medium\",children:\"No hay departamentos registrados\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm mt-1\",children:\"Crea el primer departamento usando el bot\\xF3n de arriba\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6\",children:Array.isArray(departamentos)&&departamentos.map(dept=>{const id=dept.id||dept.DepartamentoID||dept.DEPARTAMENTO_ID;const nombre=dept.nombre||dept.Nombre||dept.NOMBRE||'Sin nombre';const descripcion=dept.descripcion||dept.Descripcion||dept.DESCRIPCION||'Sin descripción';return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(Building,{className:\"w-5 h-5 text-purple-600\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900\",children:nombre})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-2\",children:descripcion}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleOpenModal(dept),disabled:loading,className:\"flex-1 px-3 py-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm font-medium\",children:[/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"}),\"Editar\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleDelete(id),disabled:loading,className:\"flex-1 px-3 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm font-medium\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"}),\"Eliminar\"]})]})]},id);})})]})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-6 py-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:editingDepartamento?'Editar Departamento':'Nuevo Departamento'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseModal,className:\"p-1 hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5 text-gray-500\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nombre del Departamento *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.nombre,onChange:e=>setFormData({...formData,nombre:e.target.value}),placeholder:\"Ej: Recursos Humanos\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.descripcion,onChange:e=>setFormData({...formData,descripcion:e.target.value}),placeholder:\"Describe las funciones y responsabilidades del departamento\",rows:\"3\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCloseModal,className:\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium\",children:\"Cancelar\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading,className:\"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4\"}),loading?'Guardando...':editingDepartamento?'Actualizar':'Crear']})]})]})]})})]});};export default DepartamentosModule;","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","Building","Plus","Trash2","Edit","AlertCircle","CheckCircle","X","Save","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","DepartamentosModule","getStoredToken","departamentos","setDepartamentos","loading","setLoading","error","setError","message","setMessage","showModal","setShowModal","editingDepartamento","setEditingDepartamento","formData","setFormData","nombre","descripcion","fetchDepartamentos","token","res","get","headers","console","log","data","Array","isArray","err","_err$response","_err$response$data","response","handleOpenModal","departamento","arguments","length","undefined","Nombre","NOMBRE","Descripcion","DESCRIPCION","handleCloseModal","handleSubmit","e","preventDefault","trim","editando","id","DepartamentoID","DEPARTAMENTO_ID","put","post","setTimeout","_err$response2","_err$response3","_err$response4","_err$response4$data","_err$response5","_err$response5$data","_err$response6","_err$response7","_err$response8","status","errorMsg","handleDelete","window","confirm","delete","_err$response9","_err$response0","_err$response0$data","_err$response1","_err$response1$data","timer","clearTimeout","className","children","onClick","map","dept","disabled","onSubmit","type","value","onChange","target","placeholder","required","rows"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/components/modules/departamentos/DepartamentosModule.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"../../../context/AuthContext\";\r\nimport { Building, Plus, Trash2, Edit, AlertCircle, CheckCircle, X, Save } from \"lucide-react\";\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || \"http://192.168.0.239:5000/api\";\r\n\r\nconst DepartamentosModule = () => {\r\n  const { getStoredToken } = useAuth();\r\n  const [departamentos, setDepartamentos] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingDepartamento, setEditingDepartamento] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    nombre: \"\",\r\n    descripcion: \"\"\r\n  });\r\n\r\n  const fetchDepartamentos = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const token = getStoredToken();\r\n      const res = await axios.get(`${API_URL}/departamentos`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      console.log('📊 Datos recibidos de departamentos:', res.data);\r\n      \r\n      // ✅ VALIDAR FORMATO DE RESPUESTA\r\n      if (res.data.departamentos && Array.isArray(res.data.departamentos)) {\r\n        setDepartamentos(res.data.departamentos);\r\n      } else if (Array.isArray(res.data)) {\r\n        setDepartamentos(res.data);\r\n      } else {\r\n        console.error('Formato inesperado:', res.data);\r\n        setDepartamentos([]);\r\n        setError('Formato de datos inesperado');\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('Error cargando departamentos:', err);\r\n      setError(err.response?.data?.message || 'Error cargando departamentos');\r\n      setDepartamentos([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = (departamento = null) => {\r\n    if (departamento) {\r\n      setEditingDepartamento(departamento);\r\n      setFormData({\r\n        nombre: departamento.nombre || departamento.Nombre || departamento.NOMBRE || \"\",\r\n        descripcion: departamento.descripcion || departamento.Descripcion || departamento.DESCRIPCION || \"\"\r\n      });\r\n    } else {\r\n      setEditingDepartamento(null);\r\n      setFormData({ nombre: \"\", descripcion: \"\" });\r\n    }\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n    setEditingDepartamento(null);\r\n    setFormData({ nombre: \"\", descripcion: \"\" });\r\n    setError(null);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.nombre.trim()) {\r\n      setError('El nombre del departamento es requerido');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    setMessage(null);\r\n    \r\n    try {\r\n      const token = getStoredToken();\r\n      \r\n      // 🔍 DEBUG: Ver qué se está enviando\r\n      console.log('📤 Enviando datos:', {\r\n        nombre: formData.nombre.trim(),\r\n        descripcion: formData.descripcion.trim(),\r\n        editando: !!editingDepartamento\r\n      });\r\n      \r\n      if (editingDepartamento) {\r\n        // EDITAR\r\n        const id = editingDepartamento.id || editingDepartamento.DepartamentoID || editingDepartamento.DEPARTAMENTO_ID;\r\n        \r\n        console.log('✏️ Editando departamento ID:', id);\r\n        \r\n        const response = await axios.put(\r\n          `${API_URL}/departamentos/${id}`,\r\n          {\r\n            nombre: formData.nombre.trim(),\r\n            descripcion: formData.descripcion.trim()\r\n          },\r\n          {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n        \r\n        console.log('✅ Respuesta edición:', response.data);\r\n        setMessage('Departamento actualizado exitosamente');\r\n        \r\n      } else {\r\n        // CREAR\r\n        console.log('➕ Creando nuevo departamento');\r\n        \r\n        const response = await axios.post(\r\n          `${API_URL}/departamentos`,\r\n          {\r\n            nombre: formData.nombre.trim(),\r\n            descripcion: formData.descripcion.trim()\r\n          },\r\n          {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n        \r\n        console.log('✅ Respuesta creación:', response.data);\r\n        setMessage('Departamento creado exitosamente');\r\n      }\r\n      \r\n      handleCloseModal();\r\n      await fetchDepartamentos();\r\n      \r\n      // Limpiar mensaje después de 3 segundos\r\n      setTimeout(() => setMessage(null), 3000);\r\n      \r\n    } catch (err) {\r\n      console.error('❌ Error completo:', err);\r\n      console.error('❌ Error response:', err.response);\r\n      console.error('❌ Error data:', err.response?.data);\r\n      console.error('❌ Error status:', err.response?.status);\r\n      console.error('❌ Error message:', err.message);\r\n      \r\n      // Construir mensaje de error más descriptivo\r\n      let errorMsg = 'Error guardando departamento';\r\n      \r\n      if (err.response?.data?.message) {\r\n        errorMsg = err.response.data.message;\r\n      } else if (err.response?.data?.error) {\r\n        errorMsg = err.response.data.error;\r\n      } else if (err.response?.status === 404) {\r\n        errorMsg = 'Endpoint no encontrado. Verifica la configuración del backend.';\r\n      } else if (err.response?.status === 401) {\r\n        errorMsg = 'No autorizado. Tu sesión puede haber expirado.';\r\n      } else if (err.response?.status === 403) {\r\n        errorMsg = 'No tienes permisos para realizar esta acción.';\r\n      } else if (err.message) {\r\n        errorMsg = err.message;\r\n      }\r\n      \r\n      setError(errorMsg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('¿Está seguro de eliminar este departamento?')) {\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    setMessage(null);\r\n    \r\n    try {\r\n      const token = getStoredToken();\r\n      \r\n      console.log('🗑️ Eliminando departamento ID:', id);\r\n      \r\n      await axios.delete(`${API_URL}/departamentos/${id}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      console.log('✅ Departamento eliminado');\r\n      setMessage('Departamento eliminado exitosamente');\r\n      await fetchDepartamentos();\r\n      \r\n      // Limpiar mensaje después de 3 segundos\r\n      setTimeout(() => setMessage(null), 3000);\r\n      \r\n    } catch (err) {\r\n      console.error('❌ Error eliminando:', err);\r\n      console.error('❌ Error response:', err.response);\r\n      console.error('❌ Error data:', err.response?.data);\r\n      \r\n      let errorMsg = 'Error eliminando departamento';\r\n      \r\n      if (err.response?.data?.message) {\r\n        errorMsg = err.response.data.message;\r\n      } else if (err.response?.data?.error) {\r\n        errorMsg = err.response.data.error;\r\n      } else if (err.message) {\r\n        errorMsg = err.message;\r\n      }\r\n      \r\n      setError(errorMsg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDepartamentos();\r\n  }, []);\r\n\r\n  // Limpiar mensajes después de 5 segundos\r\n  useEffect(() => {\r\n    if (error || message) {\r\n      const timer = setTimeout(() => {\r\n        setError(null);\r\n        setMessage(null);\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [error, message]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-6\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"bg-white rounded-lg shadow-sm mb-6 p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"flex items-center gap-3 mb-2\">\r\n                <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n                  <Building className=\"w-6 h-6 text-purple-600\" />\r\n                </div>\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">Gestión de Departamentos</h2>\r\n              </div>\r\n              <p className=\"text-gray-600 text-sm\">\r\n                Administra los departamentos y estructura organizativa de la empresa\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => handleOpenModal()}\r\n              className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 font-medium\"\r\n            >\r\n              <Plus className=\"w-5 h-5\" />\r\n              Nuevo Departamento\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mensajes de estado */}\r\n        {error && (\r\n          <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-800\">\r\n            <AlertCircle className=\"w-5 h-5 flex-shrink-0\" />\r\n            <span>{error}</span>\r\n          </div>\r\n        )}\r\n\r\n        {message && (\r\n          <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2 text-green-800\">\r\n            <CheckCircle className=\"w-5 h-5 flex-shrink-0\" />\r\n            <span>{message}</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Lista de departamentos */}\r\n        <div className=\"bg-white rounded-lg shadow-sm\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">\r\n              Departamentos Registrados ({Array.isArray(departamentos) ? departamentos.length : 0})\r\n            </h3>\r\n          </div>\r\n\r\n          {loading && departamentos.length === 0 ? (\r\n            <div className=\"p-8 text-center\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4\"></div>\r\n              <p className=\"text-gray-600\">Cargando departamentos...</p>\r\n            </div>\r\n          ) : Array.isArray(departamentos) && departamentos.length === 0 ? (\r\n            <div className=\"p-8 text-center\">\r\n              <Building className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\r\n              <p className=\"text-gray-600 font-medium\">No hay departamentos registrados</p>\r\n              <p className=\"text-gray-500 text-sm mt-1\">Crea el primer departamento usando el botón de arriba</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6\">\r\n              {Array.isArray(departamentos) && departamentos.map((dept) => {\r\n                const id = dept.id || dept.DepartamentoID || dept.DEPARTAMENTO_ID;\r\n                const nombre = dept.nombre || dept.Nombre || dept.NOMBRE || 'Sin nombre';\r\n                const descripcion = dept.descripcion || dept.Descripcion || dept.DESCRIPCION || 'Sin descripción';\r\n                \r\n                return (\r\n                  <div\r\n                    key={id}\r\n                    className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between mb-3\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n                          <Building className=\"w-5 h-5 text-purple-600\" />\r\n                        </div>\r\n                        <h4 className=\"font-semibold text-gray-900\">{nombre}</h4>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <p className=\"text-gray-600 text-sm mb-4 line-clamp-2\">\r\n                      {descripcion}\r\n                    </p>\r\n                    \r\n                    <div className=\"flex gap-2\">\r\n                      <button\r\n                        onClick={() => handleOpenModal(dept)}\r\n                        disabled={loading}\r\n                        className=\"flex-1 px-3 py-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm font-medium\"\r\n                      >\r\n                        <Edit className=\"w-4 h-4\" />\r\n                        Editar\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDelete(id)}\r\n                        disabled={loading}\r\n                        className=\"flex-1 px-3 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm font-medium\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                        Eliminar\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full\">\r\n            <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                {editingDepartamento ? 'Editar Departamento' : 'Nuevo Departamento'}\r\n              </h3>\r\n              <button\r\n                onClick={handleCloseModal}\r\n                className=\"p-1 hover:bg-gray-100 rounded-lg transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5 text-gray-500\" />\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Nombre del Departamento *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.nombre}\r\n                  onChange={(e) => setFormData({ ...formData, nombre: e.target.value })}\r\n                  placeholder=\"Ej: Recursos Humanos\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Descripción\r\n                </label>\r\n                <textarea\r\n                  value={formData.descripcion}\r\n                  onChange={(e) => setFormData({ ...formData, descripcion: e.target.value })}\r\n                  placeholder=\"Describe las funciones y responsabilidades del departamento\"\r\n                  rows=\"3\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex gap-3 pt-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleCloseModal}\r\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium\"\r\n                >\r\n                  Cancelar\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium\"\r\n                >\r\n                  <Save className=\"w-4 h-4\" />\r\n                  {loading ? 'Guardando...' : editingDepartamento ? 'Actualizar' : 'Crear'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DepartamentosModule;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}