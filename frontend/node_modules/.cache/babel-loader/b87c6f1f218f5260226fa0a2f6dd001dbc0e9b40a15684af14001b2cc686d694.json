{"ast":null,"code":"useEffecttbody;// src/modules/ReportesModule.jsx\nimport React,{useState,useEffect}from\"react\";import{DndProvider,useDrag,useDrop}from\"react-dnd\";import{HTML5Backend}from\"react-dnd-html5-backend\";import{BarChart,Bar,XAxis,YAxis,Tooltip,Legend,ResponsiveContainer,LineChart,Line,PieChart,Pie}from\"recharts\";import{Play,Save,Plus,Database,Filter,FileText,BarChart3,GripVertical}from\"lucide-react\";import{useAuth}from\"../../../context/AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||\"http://192.168.0.239:5000/api\";// Componente para campos arrastrables\nconst DraggableField=_ref=>{let{name,table,type=\"text\"}=_ref;const[{isDragging},drag]=useDrag(()=>({type:\"FIELD\",item:{name,table,type},collect:monitor=>({isDragging:!!monitor.isDragging()})}));return/*#__PURE__*/_jsxs(\"div\",{ref:drag,className:`flex items-center gap-2 p-2 m-1 border rounded-lg shadow-sm cursor-move bg-white hover:bg-gray-50 transition-all ${isDragging?\"opacity-50 scale-95\":\"opacity-100\"}`,title:`${table}.${name} (${type})`,children:[/*#__PURE__*/_jsx(GripVertical,{className:\"w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-600 font-mono\",children:[table,\".\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:name})]});};// DropZone para filas, columnas y métricas\nconst DropZone=_ref2=>{let{title,fields,onDrop,onRemove,icon}=_ref2;const[{isOver},drop]=useDrop(()=>({accept:\"FIELD\",drop:item=>onDrop(item),collect:monitor=>({isOver:!!monitor.isOver()})}));return/*#__PURE__*/_jsxs(\"div\",{ref:drop,className:`min-h-[100px] p-3 rounded-lg border-2 border-dashed transition-all ${isOver?\"bg-blue-50 border-blue-400\":\"border-gray-300 bg-gray-50\"}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",children:[icon,/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-700\",children:title}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"(\",fields.length,\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:fields.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 italic\",children:\"Arrastra campos aqu\\xED\"}):fields.map((field,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 px-3 py-1 bg-blue-100 border border-blue-200 rounded-full text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-mono text-xs text-gray-600\",children:[field.table,\".\"]}),/*#__PURE__*/_jsx(\"span\",{children:field.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onRemove(index),className:\"text-red-500 hover:text-red-700 ml-1\",type:\"button\",\"aria-label\":\"Quitar campo\",children:\"\\xD7\"})]},`${field.table}-${field.name}-${index}`))})]});};// Modal para crear un nuevo reporte\nconst NuevoReporteModal=_ref3=>{let{show,onClose,onSave,metadata}=_ref3;const[formData,setFormData]=useState({nombre:\"\",origen:\"\",descripcion:\"\"});const handleSave=()=>{if(!formData.nombre.trim()||!formData.origen){alert(\"Nombre y origen son requeridos\");return;}onSave(formData);setFormData({nombre:\"\",origen:\"\",descripcion:\"\"});};if(!show)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-xl w-96\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-5 h-5 text-green-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold\",children:\"Nuevo Reporte\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-medium mb-1\",children:\"Nombre *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.nombre,onChange:e=>setFormData({...formData,nombre:e.target.value}),className:\"w-full border p-2 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-medium mb-1\",children:\"Origen *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.origen,onChange:e=>setFormData({...formData,origen:e.target.value}),className:\"w-full border p-2 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar\"}),Object.keys(metadata).map(table=>/*#__PURE__*/_jsx(\"option\",{value:table,children:table},table))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-medium mb-1\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.descripcion,onChange:e=>setFormData({...formData,descripcion:e.target.value}),className:\"w-full border p-2 rounded\",rows:3})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-4 py-2 bg-gray-300 rounded\",type:\"button\",children:\"Cancelar\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,className:\"px-4 py-2 bg-blue-600 text-white rounded flex items-center gap-2\",type:\"button\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4\"}),\" Crear\"]})]})]})});};// Módulo principal de reportes\nconst ReportesModule=()=>{const{user,getStoredToken}=useAuth();const[metadata,setMetadata]=useState({});const[reportes,setReportes]=useState([]);const[showModal,setShowModal]=useState(false);const[rows,setRows]=useState([]);const[columns,setColumns]=useState([]);const[metrics,setMetrics]=useState([]);const[sqlQuery,setSqlQuery]=useState(\"\");const[customSql,setCustomSql]=useState(\"\");const[data,setData]=useState([]);const[chartType,setChartType]=useState(\"bar\");const[loading,setLoading]=useState(false);// Cargar metadata y reportes guardados\nuseEffect(()=>{const fetchData=async()=>{try{const token=getStoredToken();const[metaRes,repRes]=await Promise.all([fetch(`${API_URL}/reportes/metadata`,{headers:{Authorization:`Bearer ${token}`}}),fetch(`${API_URL}/reportes`,{headers:{Authorization:`Bearer ${token}`}})]);const meta=await metaRes.json();const reps=await repRes.json();console.log(\"Reportes API response:\",reps);setMetadata(meta);// Ajusta aquí según la estructura real de reps:\nsetReportes(Array.isArray(reps)?reps:reps.data||[]);}catch(err){console.error(\"Error cargando datos:\",err);}};fetchData();},[getStoredToken]);// Generar SQL dinámico\nuseEffect(()=>{if(rows.length===0&&columns.length===0&&metrics.length===0)return;const allFields=[...rows,...columns,...metrics];const tables=[...new Set(allFields.map(f=>f.table))];const selectFields=allFields.map(f=>`${f.table}.${f.name}`).join(\", \");let query=`SELECT ${selectFields} FROM ${tables.join(\", \")}`;if(rows.length||columns.length){query+=` GROUP BY ${[...rows,...columns].map(f=>`${f.table}.${f.name}`).join(\", \")}`;}setSqlQuery(query);},[rows,columns,metrics]);// Ejecutar reporte\nconst ejecutarReporte=async()=>{const query=customSql||sqlQuery;if(!query.trim())return alert(\"No hay consulta para ejecutar\");setLoading(true);try{const res=await fetch(`${API_URL}/reportes/ejecutar`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${getStoredToken()}`},body:JSON.stringify({sql:query})});const result=await res.json();setData(result);}catch(err){console.error(\"Error ejecutando reporte:\",err);}finally{setLoading(false);}};// Guardar reporte\nconst guardarReporte=async nuevo=>{try{const res=await fetch(`${API_URL}/reportes`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${getStoredToken()}`},body:JSON.stringify({...nuevo,configuracion:{rows,columns,metrics,sqlQuery:customSql||sqlQuery}})});const saved=await res.json();setReportes([...reportes,saved]);setShowModal(false);}catch(err){console.error(\"Error guardando reporte:\",err);}};// Renderizar gráfico según tipo\nconst renderChart=()=>{if(data.length===0)return null;const keys=Object.keys(data[0]||{});if(keys.length<2)return null;switch(chartType){case\"line\":return/*#__PURE__*/_jsxs(LineChart,{data:data,width:600,height:300,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:keys[0]}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{dataKey:keys[1],stroke:\"#8884d8\"})]});case\"pie\":return/*#__PURE__*/_jsxs(PieChart,{width:600,height:300,children:[/*#__PURE__*/_jsx(Pie,{data:data,dataKey:keys[1],nameKey:keys[0],label:true}),/*#__PURE__*/_jsx(Tooltip,{})]});default:return/*#__PURE__*/_jsxs(BarChart,{data:data,width:600,height:300,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:keys[0]}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:keys[1],fill:\"#8884d8\"})]});}};return/*#__PURE__*/_jsx(DndProvider,{backend:HTML5Backend,children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold flex items-center gap-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-7 h-7 text-blue-600\"}),\" Generador de Reportes\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowModal(true),className:\"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2\",type:\"button\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\" Nuevo Reporte\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-5 h-5 text-gray-600\"}),\" Reportes Guardados (\",reportes.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-left\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-left\",children:\"Origen\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-left\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-left\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Array.isArray(reportes)&&reportes.map(r=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:r.nombre}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:r.origen}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:r.descripcion}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-2 flex gap-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-blue-600 hover:underline\",type:\"button\",children:\"Ver\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-green-600 hover:underline\",type:\"button\",children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-red-600 hover:underline\",type:\"button\",children:\"Eliminar\"})]})]},r.id))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Database,{className:\"w-5 h-5\"}),\" Editor SQL\"]}),/*#__PURE__*/_jsx(\"textarea\",{value:sqlQuery,readOnly:true,className:\"w-full border p-2 mb-2 text-sm font-mono bg-gray-50\",rows:3}),/*#__PURE__*/_jsx(\"textarea\",{value:customSql,onChange:e=>setCustomSql(e.target.value),className:\"w-full border p-2 mb-4 text-sm font-mono\",rows:3}),/*#__PURE__*/_jsxs(\"button\",{onClick:ejecutarReporte,disabled:loading,className:\"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2\",type:\"button\",children:[/*#__PURE__*/_jsx(Play,{className:\"w-4 h-4\"}),\" Ejecutar\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(GripVertical,{className:\"w-5 h-5\"}),\" Campos\"]}),Object.entries(metadata).map(_ref4=>{let[table,fields]=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:table}),fields.map(f=>/*#__PURE__*/_jsx(DraggableField,{table:table,name:f},f))]},table);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-4\",children:[/*#__PURE__*/_jsx(DropZone,{title:\"Filas\",fields:rows,onDrop:f=>setRows([...rows,f]),onRemove:i=>setRows(rows.filter((_,idx)=>idx!==i)),icon:/*#__PURE__*/_jsx(Filter,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(DropZone,{title:\"Columnas\",fields:columns,onDrop:f=>setColumns([...columns,f]),onRemove:i=>setColumns(columns.filter((_,idx)=>idx!==i)),icon:/*#__PURE__*/_jsx(BarChart3,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(DropZone,{title:\"M\\xE9tricas\",fields:metrics,onDrop:f=>setMetrics([...metrics,f]),onRemove:i=>setMetrics(metrics.filter((_,idx)=>idx!==i)),icon:/*#__PURE__*/_jsx(Database,{className:\"w-4 h-4\"})})]})]}),data.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4 mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Resultados\"}),/*#__PURE__*/_jsxs(\"select\",{value:chartType,onChange:e=>setChartType(e.target.value),className:\"border p-1 rounded text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"bar\",children:\"Barras\"}),/*#__PURE__*/_jsx(\"option\",{value:\"line\",children:\"L\\xEDneas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pie\",children:\"Circular\"})]})]}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:renderChart()})]}),/*#__PURE__*/_jsx(NuevoReporteModal,{show:showModal,onClose:()=>setShowModal(false),onSave:guardarReporte,metadata:metadata})]})});};export default ReportesModule;","map":{"version":3,"names":["useEffecttbody","React","useState","useEffect","DndProvider","useDrag","useDrop","HTML5Backend","BarChart","Bar","XAxis","YAxis","Tooltip","Legend","ResponsiveContainer","LineChart","Line","PieChart","Pie","Play","Save","Plus","Database","Filter","FileText","BarChart3","GripVertical","useAuth","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","DraggableField","_ref","name","table","type","isDragging","drag","item","collect","monitor","ref","className","title","children","DropZone","_ref2","fields","onDrop","onRemove","icon","isOver","drop","accept","length","map","field","index","onClick","NuevoReporteModal","_ref3","show","onClose","onSave","metadata","formData","setFormData","nombre","origen","descripcion","handleSave","trim","alert","value","onChange","e","target","Object","keys","rows","ReportesModule","user","getStoredToken","setMetadata","reportes","setReportes","showModal","setShowModal","setRows","columns","setColumns","metrics","setMetrics","sqlQuery","setSqlQuery","customSql","setCustomSql","data","setData","chartType","setChartType","loading","setLoading","fetchData","token","metaRes","repRes","Promise","all","fetch","headers","Authorization","meta","json","reps","console","log","Array","isArray","err","error","allFields","tables","Set","f","selectFields","join","query","ejecutarReporte","res","method","body","JSON","stringify","sql","result","guardarReporte","nuevo","configuracion","saved","renderChart","width","height","dataKey","stroke","nameKey","label","fill","backend","r","id","readOnly","disabled","entries","_ref4","i","filter","_","idx"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/components/modules/Reportes/ReportesModule.jsx"],"sourcesContent":["useEffecttbody// src/modules/ReportesModule.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { DndProvider, useDrag, useDrop } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport {\r\n  BarChart, Bar, XAxis, YAxis, Tooltip, Legend,\r\n  ResponsiveContainer, LineChart, Line, PieChart, Pie\r\n} from \"recharts\";\r\nimport {\r\n  Play, Save, Plus, Database,\r\n  Filter, FileText, BarChart3, GripVertical\r\n} from \"lucide-react\";\r\nimport { useAuth } from \"../../../context/AuthContext\";\r\n\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || \"http://192.168.0.239:5000/api\";\r\n\r\n\r\n// Componente para campos arrastrables\r\nconst DraggableField = ({ name, table, type = \"text\" }) => {\r\n  const [{ isDragging }, drag] = useDrag(() => ({\r\n    type: \"FIELD\",\r\n    item: { name, table, type },\r\n    collect: (monitor) => ({ isDragging: !!monitor.isDragging() }),\r\n  }));\r\n  return (\r\n    <div\r\n      ref={drag}\r\n      className={`flex items-center gap-2 p-2 m-1 border rounded-lg shadow-sm cursor-move bg-white hover:bg-gray-50 transition-all ${\r\n        isDragging ? \"opacity-50 scale-95\" : \"opacity-100\"\r\n      }`}\r\n      title={`${table}.${name} (${type})`}\r\n    >\r\n      <GripVertical className=\"w-4 h-4 text-gray-400\" />\r\n      <span className=\"text-xs text-gray-600 font-mono\">{table}.</span>\r\n      <span className=\"text-sm font-medium\">{name}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\n// DropZone para filas, columnas y métricas\r\nconst DropZone = ({ title, fields, onDrop, onRemove, icon }) => {\r\n  const [{ isOver }, drop] = useDrop(() => ({\r\n    accept: \"FIELD\",\r\n    drop: (item) => onDrop(item),\r\n    collect: (monitor) => ({ isOver: !!monitor.isOver() }),\r\n  }));\r\n  return (\r\n    <div\r\n      ref={drop}\r\n      className={`min-h-[100px] p-3 rounded-lg border-2 border-dashed transition-all ${\r\n        isOver ? \"bg-blue-50 border-blue-400\" : \"border-gray-300 bg-gray-50\"\r\n      }`}\r\n    >\r\n      <div className=\"flex items-center gap-2 mb-3\">\r\n        {icon}\r\n        <h4 className=\"font-semibold text-gray-700\">{title}</h4>\r\n        <span className=\"text-xs text-gray-500\">({fields.length})</span>\r\n      </div>\r\n      <div className=\"flex flex-wrap gap-2\">\r\n        {fields.length === 0 ? (\r\n          <p className=\"text-sm text-gray-400 italic\">Arrastra campos aquí</p>\r\n        ) : (\r\n          fields.map((field, index) => (\r\n            <div\r\n              key={`${field.table}-${field.name}-${index}`}\r\n              className=\"flex items-center gap-2 px-3 py-1 bg-blue-100 border border-blue-200 rounded-full text-sm\"\r\n            >\r\n              <span className=\"font-mono text-xs text-gray-600\">{field.table}.</span>\r\n              <span>{field.name}</span>\r\n              <button\r\n                onClick={() => onRemove(index)}\r\n                className=\"text-red-500 hover:text-red-700 ml-1\"\r\n                type=\"button\"\r\n                aria-label=\"Quitar campo\"\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Modal para crear un nuevo reporte\r\nconst NuevoReporteModal = ({ show, onClose, onSave, metadata }) => {\r\n  const [formData, setFormData] = useState({\r\n    nombre: \"\",\r\n    origen: \"\",\r\n    descripcion: \"\",\r\n  });\r\n\r\n  const handleSave = () => {\r\n    if (!formData.nombre.trim() || !formData.origen) {\r\n      alert(\"Nombre y origen son requeridos\");\r\n      return;\r\n    }\r\n    onSave(formData);\r\n    setFormData({ nombre: \"\", origen: \"\", descripcion: \"\" });\r\n  };\r\n\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\">\r\n      <div className=\"bg-white p-6 rounded-lg shadow-xl w-96\">\r\n        <div className=\"flex items-center gap-2 mb-4\">\r\n          <Plus className=\"w-5 h-5 text-green-600\" />\r\n          <h3 className=\"text-lg font-bold\">Nuevo Reporte</h3>\r\n        </div>\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block font-medium mb-1\">Nombre *</label>\r\n            <input\r\n              type=\"text\"\r\n              value={formData.nombre}\r\n              onChange={(e) => setFormData({ ...formData, nombre: e.target.value })}\r\n              className=\"w-full border p-2 rounded\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block font-medium mb-1\">Origen *</label>\r\n            <select\r\n              value={formData.origen}\r\n              onChange={(e) => setFormData({ ...formData, origen: e.target.value })}\r\n              className=\"w-full border p-2 rounded\"\r\n            >\r\n              <option value=\"\">Seleccionar</option>\r\n              {Object.keys(metadata).map((table) => (\r\n                <option key={table} value={table}>{table}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block font-medium mb-1\">Descripción</label>\r\n            <textarea\r\n              value={formData.descripcion}\r\n              onChange={(e) => setFormData({ ...formData, descripcion: e.target.value })}\r\n              className=\"w-full border p-2 rounded\"\r\n              rows={3}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"flex justify-end gap-2 mt-6\">\r\n          <button onClick={onClose} className=\"px-4 py-2 bg-gray-300 rounded\" type=\"button\">\r\n            Cancelar\r\n          </button>\r\n          <button\r\n            onClick={handleSave}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded flex items-center gap-2\"\r\n            type=\"button\"\r\n          >\r\n            <Save className=\"w-4 h-4\" /> Crear\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// Módulo principal de reportes\r\nconst ReportesModule = () => {\r\n  const { user, getStoredToken } = useAuth();\r\n  const [metadata, setMetadata] = useState({});\r\n  const [reportes, setReportes] = useState([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [rows, setRows] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n  const [metrics, setMetrics] = useState([]);\r\n  const [sqlQuery, setSqlQuery] = useState(\"\");\r\n  const [customSql, setCustomSql] = useState(\"\");\r\n  const [data, setData] = useState([]);\r\n  const [chartType, setChartType] = useState(\"bar\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Cargar metadata y reportes guardados\r\n useEffect(() => {\r\n  const fetchData = async () => {\r\n    try {\r\n      const token = getStoredToken();\r\n      const [metaRes, repRes] = await Promise.all([\r\n        fetch(`${API_URL}/reportes/metadata`, { headers: { Authorization: `Bearer ${token}` } }),\r\n        fetch(`${API_URL}/reportes`, { headers: { Authorization: `Bearer ${token}` } }),\r\n      ]);\r\n      const meta = await metaRes.json();\r\n      const reps = await repRes.json();\r\n      console.log(\"Reportes API response:\", reps);\r\n      setMetadata(meta);\r\n      // Ajusta aquí según la estructura real de reps:\r\n      setReportes(Array.isArray(reps) ? reps : (reps.data || []));\r\n    } catch (err) {\r\n      console.error(\"Error cargando datos:\", err);\r\n    }\r\n  };\r\n  fetchData();\r\n}, [getStoredToken]);\r\n\r\n\r\n  // Generar SQL dinámico\r\n  useEffect(() => {\r\n    if (rows.length === 0 && columns.length === 0 && metrics.length === 0) return;\r\n    const allFields = [...rows, ...columns, ...metrics];\r\n    const tables = [...new Set(allFields.map((f) => f.table))];\r\n    const selectFields = allFields.map((f) => `${f.table}.${f.name}`).join(\", \");\r\n    let query = `SELECT ${selectFields} FROM ${tables.join(\", \")}`;\r\n    if (rows.length || columns.length) {\r\n      query += ` GROUP BY ${[...rows, ...columns].map((f) => `${f.table}.${f.name}`).join(\", \")}`;\r\n    }\r\n    setSqlQuery(query);\r\n  }, [rows, columns, metrics]);\r\n\r\n  // Ejecutar reporte\r\n  const ejecutarReporte = async () => {\r\n    const query = customSql || sqlQuery;\r\n    if (!query.trim()) return alert(\"No hay consulta para ejecutar\");\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`${API_URL}/reportes/ejecutar`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${getStoredToken()}`,\r\n        },\r\n        body: JSON.stringify({ sql: query }),\r\n      });\r\n      const result = await res.json();\r\n      setData(result);\r\n    } catch (err) {\r\n      console.error(\"Error ejecutando reporte:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Guardar reporte\r\n  const guardarReporte = async (nuevo) => {\r\n    try {\r\n      const res = await fetch(`${API_URL}/reportes`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${getStoredToken()}`,\r\n        },\r\n        body: JSON.stringify({\r\n          ...nuevo,\r\n          configuracion: { rows, columns, metrics, sqlQuery: customSql || sqlQuery },\r\n        }),\r\n      });\r\n      const saved = await res.json();\r\n      setReportes([...reportes, saved]);\r\n      setShowModal(false);\r\n    } catch (err) {\r\n      console.error(\"Error guardando reporte:\", err);\r\n    }\r\n  };\r\n\r\n  // Renderizar gráfico según tipo\r\n  const renderChart = () => {\r\n    if (data.length === 0) return null;\r\n    const keys = Object.keys(data[0] || {});\r\n    if (keys.length < 2) return null;\r\n    switch (chartType) {\r\n      case \"line\":\r\n        return (\r\n          <LineChart data={data} width={600} height={300}>\r\n            <XAxis dataKey={keys[0]} />\r\n            <YAxis />\r\n            <Tooltip />\r\n            <Legend />\r\n            <Line dataKey={keys[1]} stroke=\"#8884d8\" />\r\n          </LineChart>\r\n        );\r\n      case \"pie\":\r\n        return (\r\n          <PieChart width={600} height={300}>\r\n            <Pie data={data} dataKey={keys[1]} nameKey={keys[0]} label />\r\n            <Tooltip />\r\n          </PieChart>\r\n        );\r\n      default:\r\n        return (\r\n          <BarChart data={data} width={600} height={300}>\r\n            <XAxis dataKey={keys[0]} />\r\n            <YAxis />\r\n            <Tooltip />\r\n            <Legend />\r\n            <Bar dataKey={keys[1]} fill=\"#8884d8\" />\r\n          </BarChart>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <div className=\"p-6\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h1 className=\"text-2xl font-bold flex items-center gap-2\">\r\n            <BarChart3 className=\"w-7 h-7 text-blue-600\" /> Generador de Reportes\r\n          </h1>\r\n          <button\r\n            onClick={() => setShowModal(true)}\r\n            className=\"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2\"\r\n            type=\"button\"\r\n          >\r\n            <Plus className=\"w-4 h-4\" /> Nuevo Reporte\r\n          </button>\r\n        </div>\r\n\r\n        {/* Tabla de reportes guardados */}\r\n        <div className=\"bg-white rounded-lg shadow mb-6\">\r\n          <div className=\"p-4 border-b flex items-center gap-2\">\r\n            <FileText className=\"w-5 h-5 text-gray-600\" /> Reportes Guardados ({reportes.length})\r\n          </div>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-sm\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"p-2 text-left\">Nombre</th>\r\n                  <th className=\"p-2 text-left\">Origen</th>\r\n                  <th className=\"p-2 text-left\">Descripción</th>\r\n                  <th className=\"p-2 text-left\">Acciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                  {Array.isArray(reportes) && reportes.map((r) => (\r\n                    <tr key={r.id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"p-2\">{r.nombre}</td>\r\n                      <td className=\"p-2\">{r.origen}</td>\r\n                      <td className=\"p-2\">{r.descripcion}</td>\r\n                      <td className=\"p-2 flex gap-1\">\r\n                        <button className=\"text-blue-600 hover:underline\" type=\"button\">Ver</button>\r\n                        <button className=\"text-green-600 hover:underline\" type=\"button\">Editar</button>\r\n                        <button className=\"text-red-600 hover:underline\" type=\"button\">Eliminar</button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Editor SQL */}\r\n        <div className=\"bg-white rounded-lg shadow p-4 mb-6\">\r\n          <h3 className=\"font-semibold mb-2 flex items-center gap-2\">\r\n            <Database className=\"w-5 h-5\" /> Editor SQL\r\n          </h3>\r\n          <textarea\r\n            value={sqlQuery}\r\n            readOnly\r\n            className=\"w-full border p-2 mb-2 text-sm font-mono bg-gray-50\"\r\n            rows={3}\r\n          />\r\n          <textarea\r\n            value={customSql}\r\n            onChange={(e) => setCustomSql(e.target.value)}\r\n            className=\"w-full border p-2 mb-4 text-sm font-mono\"\r\n            rows={3}\r\n          />\r\n          <button\r\n            onClick={ejecutarReporte}\r\n            disabled={loading}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2\"\r\n            type=\"button\"\r\n          >\r\n            <Play className=\"w-4 h-4\" /> Ejecutar\r\n          </button>\r\n        </div>\r\n\r\n        {/* Campos disponibles y DropZones */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          <div className=\"bg-white rounded-lg shadow p-4\">\r\n            <h3 className=\"font-semibold mb-2 flex items-center gap-2\">\r\n              <GripVertical className=\"w-5 h-5\" /> Campos\r\n            </h3>\r\n            {Object.entries(metadata).map(([table, fields]) => (\r\n              <div key={table} className=\"mb-4\">\r\n                <h4 className=\"font-medium\">{table}</h4>\r\n                {fields.map((f) => (\r\n                  <DraggableField key={f} table={table} name={f} />\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"lg:col-span-2 space-y-4\">\r\n            <DropZone title=\"Filas\" fields={rows} onDrop={(f) => setRows([...rows, f])} onRemove={(i) => setRows(rows.filter((_, idx) => idx !== i))} icon={<Filter className=\"w-4 h-4\" />} />\r\n            <DropZone title=\"Columnas\" fields={columns} onDrop={(f) => setColumns([...columns, f])} onRemove={(i) => setColumns(columns.filter((_, idx) => idx !== i))} icon={<BarChart3 className=\"w-4 h-4\" />} />\r\n            <DropZone title=\"Métricas\" fields={metrics} onDrop={(f) => setMetrics([...metrics, f])} onRemove={(i) => setMetrics(metrics.filter((_, idx) => idx !== i))} icon={<Database className=\"w-4 h-4\" />} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Resultados */}\r\n        {data.length > 0 && (\r\n          <div className=\"bg-white rounded-lg shadow p-4 mt-6\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h3 className=\"font-semibold\">Resultados</h3>\r\n              <select value={chartType} onChange={(e) => setChartType(e.target.value)} className=\"border p-1 rounded text-sm\">\r\n                <option value=\"bar\">Barras</option>\r\n                <option value=\"line\">Líneas</option>\r\n                <option value=\"pie\">Circular</option>\r\n              </select>\r\n            </div>\r\n            <ResponsiveContainer width=\"100%\" height={300}>{renderChart()}</ResponsiveContainer>\r\n          </div>\r\n        )}\r\n\r\n        {/* Modal */}\r\n        <NuevoReporteModal show={showModal} onClose={() => setShowModal(false)} onSave={guardarReporte} metadata={metadata} />\r\n      </div>\r\n    </DndProvider>\r\n  );\r\n};\r\n\r\nexport default ReportesModule;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}