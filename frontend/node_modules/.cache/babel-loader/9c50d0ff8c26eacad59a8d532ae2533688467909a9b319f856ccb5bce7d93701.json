{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\josemontedeoca\\\\rrhh-system\\\\frontend\\\\src\\\\components\\\\Admin\\\\AdminPermissions.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Users, Settings, Shield, Check, X, Save, AlertCircle, Eye, Plus, Edit, Trash2, EyeOff } from 'lucide-react';\n\n// ðŸ”‘ URLs de API\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:5000/api';\nconst AUTH_API_URL = `${API_BASE_URL}/auth`;\nconst ADMIN_API_URL = `${API_BASE_URL}/admin`;\n\n// âœ… FunciÃ³n para obtener el token\nconst getToken = () => {\n  return localStorage.getItem('token') || localStorage.getItem('rrhh_token');\n};\n\n// ðŸ“‹ MÃ³dulos predefinidos del sistema\nconst MODULOS_SISTEMA = [{\n  id: 1,\n  nombre: 'empleados',\n  descripcion: 'GestiÃ³n de empleados'\n}, {\n  id: 2,\n  nombre: 'vacantes',\n  descripcion: 'GestiÃ³n de vacantes'\n}, {\n  id: 3,\n  nombre: 'postulaciones',\n  descripcion: 'GestiÃ³n de postulaciones'\n}, {\n  id: 4,\n  nombre: 'nomina',\n  descripcion: 'GestiÃ³n de nÃ³mina'\n}, {\n  id: 5,\n  nombre: 'vacaciones',\n  descripcion: 'GestiÃ³n de vacaciones'\n}, {\n  id: 6,\n  nombre: 'capacitaciones',\n  descripcion: 'GestiÃ³n de capacitaciones'\n}, {\n  id: 7,\n  nombre: 'asistencia',\n  descripcion: 'Control de asistencias'\n}, {\n  id: 8,\n  nombre: 'departamentos',\n  descripcion: 'GestiÃ³n de departamentos'\n}, {\n  id: 9,\n  nombre: 'puestos',\n  descripciÃ³n: 'GestiÃ³n de puestos'\n}, {\n  id: 10,\n  nombre: 'reportes',\n  descripcion: 'Reportes del sistema'\n}, {\n  id: 11,\n  nombre: 'admin',\n  descripcion: 'AdministraciÃ³n de usuarios y permisos'\n}];\nconst AdminPermissions = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState('usuarios');\n  const [usuarios, setUsuarios] = useState([]);\n  const [roles, setRoles] = useState([]);\n  const [selectedRol, setSelectedRol] = useState(null);\n  const [selectedRolName, setSelectedRolName] = useState('');\n  const [permisos, setPermisos] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState({\n    type: '',\n    text: ''\n  });\n  const [changedRoles, setChangedRoles] = useState({});\n\n  // Lista de roles disponibles\n  const rolesDisponibles = ['colaborador', 'gerente', 'director', 'rrhh', 'gerente_rrhh', 'director_rrhh', 'admin'];\n\n  // --- FunciÃ³n helper para manejar errores de API ---\n  const handleApiError = (error, response) => {\n    console.error('Error de API:', {\n      error,\n      status: response === null || response === void 0 ? void 0 : response.status\n    });\n    if ((response === null || response === void 0 ? void 0 : response.status) === 401) {\n      setError('SesiÃ³n expirada. Por favor, inicia sesiÃ³n nuevamente.');\n    } else if ((response === null || response === void 0 ? void 0 : response.status) === 403) {\n      setError('No tienes permisos para realizar esta acciÃ³n.');\n    } else if ((response === null || response === void 0 ? void 0 : response.status) === 404) {\n      setError('Endpoint no encontrado. Verifica la configuraciÃ³n del servidor.');\n    } else {\n      setError(error.message || 'Error interno del servidor');\n    }\n  };\n\n  // --- Debug de token ---\n  const debugToken = () => {\n    const token = getToken();\n    console.log('ðŸ” Token encontrado:', token ? 'SÃ' : 'NO');\n    if (token) {\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]));\n        console.log('ðŸ“‹ Payload del token:', payload);\n      } catch (e) {\n        console.error('âŒ Token malformado:', e);\n      }\n    }\n  };\n\n  // --- Inicializar permisos para un rol ---\n  const initializePermisosForRole = () => {\n    return MODULOS_SISTEMA.map((modulo, index) => ({\n      PermisoID: `temp_${index}`,\n      ModuloID: modulo.id,\n      NombreModulo: modulo.nombre,\n      DescripcionModulo: modulo.descripcion,\n      EstaVisible: true,\n      PuedeVer: false,\n      PuedeCrear: false,\n      PuedeEditar: false,\n      PuedeEliminar: false\n    }));\n  };\n\n  // --- Cargar usuarios (CORREGIDO) ---\n  const loadUsuarios = async () => {\n    setLoading(true);\n    setError(null);\n    debugToken(); // Debug del token\n\n    try {\n      // Intentar mÃºltiples endpoints hasta encontrar uno que funcione\n      const endpoints = [`${AUTH_API_URL}/users`, `${API_BASE_URL}/usuarios`, `${ADMIN_API_URL}/users`, `${API_BASE_URL}/admin/usuarios`];\n      let res = null;\n      let usedEndpoint = null;\n      for (const endpoint of endpoints) {\n        console.log('ðŸ“¡ Intentando endpoint:', endpoint);\n        try {\n          res = await fetch(endpoint, {\n            method: 'GET',\n            headers: {\n              'Authorization': `Bearer ${getToken()}`,\n              'Content-Type': 'application/json'\n            }\n          });\n          if (res.ok) {\n            usedEndpoint = endpoint;\n            console.log('âœ… Endpoint funciona:', endpoint);\n            break;\n          } else {\n            console.log(`âŒ Endpoint ${endpoint} fallÃ³ con status:`, res.status);\n          }\n        } catch (err) {\n          console.log(`ðŸ’¥ Error en endpoint ${endpoint}:`, err.message);\n          continue;\n        }\n      }\n      if (!res || !res.ok) {\n        const errorText = res ? await res.text() : 'NingÃºn endpoint funcionÃ³';\n        console.error('âŒ Todos los endpoints fallaron:', errorText);\n        handleApiError(new Error(`No se pudo conectar: ${errorText}`), res);\n        return;\n      }\n      console.log('ðŸ“Š Usando endpoint exitoso:', usedEndpoint);\n      console.log('ðŸ“Š Respuesta del servidor:', {\n        status: res.status,\n        statusText: res.statusText,\n        ok: res.ok\n      });\n      const data = await res.json();\n      console.log('ðŸ“‹ Datos recibidos:', data);\n\n      // Mapear la respuesta a la estructura esperada\n      let usuariosData = [];\n      if (data.usuarios) {\n        // Si viene en formato { usuarios: [...] } - TU CASO\n        usuariosData = data.usuarios;\n        console.log('ðŸŽ¯ Usando data.usuarios:', usuariosData.length);\n      } else if (data.users) {\n        // Si viene en formato { users: [...] }\n        usuariosData = data.users;\n        console.log('ðŸŽ¯ Usando data.users:', usuariosData.length);\n      } else if (Array.isArray(data)) {\n        // Si viene directamente como array\n        usuariosData = data;\n        console.log('ðŸŽ¯ Usando data directamente:', usuariosData.length);\n      } else if (data.recordset) {\n        // Si viene en formato de recordset de SQL Server\n        usuariosData = data.recordset;\n        console.log('ðŸŽ¯ Usando data.recordset:', usuariosData.length);\n      }\n      console.log('ðŸ“Š usuariosData antes de normalizar:', usuariosData);\n\n      // Normalizar la estructura de datos\n      const usuariosNormalizados = usuariosData.map(user => ({\n        id: user.UsuarioID || user.id,\n        username: user.Username || user.username,\n        email: user.Email || user.email,\n        rol: user.Rol || user.role || user.rol,\n        estado: user.Estado || user.estado || 1,\n        empleadoId: user.EmpleadoID || user.empleadoId\n      }));\n      console.log('ðŸ‘¥ Usuarios normalizados:', usuariosNormalizados);\n      // Obtener nombres completos de empleados\n      const usuariosConNombres = await Promise.all(usuariosNormalizados.map(async usuario => {\n        if (usuario.empleadoId) {\n          try {\n            const resEmpleado = await fetch(`${API_BASE_URL}/empleados/${usuario.empleadoId}`, {\n              headers: {\n                'Authorization': `Bearer ${getToken()}`\n              }\n            });\n            if (resEmpleado.ok) {\n              const empleadoData = await resEmpleado.json();\n              const empleado = empleadoData.empleado || empleadoData;\n              return {\n                ...usuario,\n                nombreCompleto: `${empleado.NOMBRE} ${empleado.APELLIDO}`.trim(),\n                nombre: empleado.NOMBRE,\n                apellido: empleado.APELLIDO\n              };\n            }\n          } catch (err) {\n            console.error(`Error obteniendo empleado ${usuario.empleadoId}:`, err);\n          }\n        }\n        return usuario;\n      }));\n      setUsuarios(usuariosConNombres);\n    } catch (err) {\n      console.error('ðŸ’¥ Error cargando usuarios:', err);\n      handleApiError(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- Cargar roles ---\n  const loadRoles = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      console.log('ðŸ“¡ Cargando roles desde:', `${ADMIN_API_URL}/roles`);\n      const res = await fetch(`${ADMIN_API_URL}/roles`, {\n        headers: {\n          'Authorization': `Bearer ${getToken()}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log('ðŸ“Š Respuesta roles:', {\n        status: res.status,\n        ok: res.ok\n      });\n\n      // Si no existe el endpoint, usar roles por defecto\n      if (!res.ok && res.status === 404) {\n        console.log('âš ï¸ Endpoint de roles no encontrado, usando roles por defecto');\n        const defaultRoles = rolesDisponibles.map((rol, index) => ({\n          RolID: index + 1,\n          NombreRol: rol,\n          Descripcion: `Rol de ${rol.replace('_', ' ')}`\n        }));\n        setRoles(defaultRoles);\n        return;\n      }\n      if (!res.ok) {\n        handleApiError(new Error(`Error ${res.status}: ${res.statusText}`), res);\n        return;\n      }\n      const data = await res.json();\n      console.log('ðŸ“‹ Datos de roles:', data);\n      let rolesData = data.roles || data.recordset || data;\n      setRoles(rolesData);\n    } catch (err) {\n      console.error('ðŸ’¥ Error cargando roles:', err);\n      // Usar roles por defecto en caso de error\n      const defaultRoles = rolesDisponibles.map((rol, index) => ({\n        RolID: index + 1,\n        NombreRol: rol,\n        Descripcion: `Rol de ${rol.replace('_', ' ')}`\n      }));\n      setRoles(defaultRoles);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- Cargar permisos de un rol especÃ­fico ---\n  const loadPermisos = async rolId => {\n    if (!rolId) return;\n    setLoading(true);\n    try {\n      console.log('ðŸ“¡ Cargando permisos para rol:', rolId);\n      const res = await fetch(`${ADMIN_API_URL}/permisos/${rolId}`, {\n        headers: {\n          'Authorization': `Bearer ${getToken()}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log('ðŸ“Š Respuesta permisos:', {\n        status: res.status,\n        ok: res.ok\n      });\n      if (!res.ok && res.status !== 404) {\n        handleApiError(new Error(`Error ${res.status}: ${res.statusText}`), res);\n        return;\n      }\n      let data = {\n        permisos: []\n      };\n      if (res.ok) {\n        data = await res.json();\n        console.log('ðŸ“‹ Permisos recibidos:', data);\n      }\n\n      // Si no hay permisos existentes, inicializar con todos los mÃ³dulos\n      if (!data.permisos || data.permisos.length === 0) {\n        console.log('âš ï¸ No hay permisos, inicializando por defecto');\n        setPermisos(initializePermisosForRole());\n      } else {\n        // Combinar permisos existentes con mÃ³dulos del sistema\n        const permisosExistentes = data.permisos;\n        const permisosCompletos = MODULOS_SISTEMA.map((modulo, index) => {\n          const permisoExistente = permisosExistentes.find(p => p.ModuloID === modulo.id || p.NombreModulo === modulo.nombre);\n          return {\n            PermisoID: (permisoExistente === null || permisoExistente === void 0 ? void 0 : permisoExistente.PermisoID) || `temp_${index}`,\n            ModuloID: modulo.id,\n            NombreModulo: modulo.nombre,\n            DescripcionModulo: modulo.descripcion,\n            EstaVisible: (permisoExistente === null || permisoExistente === void 0 ? void 0 : permisoExistente.EstaVisible) !== false,\n            PuedeVer: (permisoExistente === null || permisoExistente === void 0 ? void 0 : permisoExistente.PuedeVer) || false,\n            PuedeCrear: (permisoExistente === null || permisoExistente === void 0 ? void 0 : permisoExistente.PuedeCrear) || false,\n            PuedeEditar: (permisoExistente === null || permisoExistente === void 0 ? void 0 : permisoExistente.PuedeEditar) || false,\n            PuedeEliminar: (permisoExistente === null || permisoExistente === void 0 ? void 0 : permisoExistente.PuedeEliminar) || false\n          };\n        });\n        setPermisos(permisosCompletos);\n      }\n    } catch (err) {\n      console.error('ðŸ’¥ Error cargando permisos:', err);\n      setPermisos(initializePermisosForRole());\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- Manejar cambio temporal de rol ---\n  const handleRoleChange = (userId, nuevoRol) => {\n    setChangedRoles(prev => ({\n      ...prev,\n      [userId]: nuevoRol\n    }));\n  };\n\n  // --- Actualizar rol de usuario ---\n  const updateUserRole = async (userId, nuevoRol) => {\n    console.log('ðŸ”„ Actualizando rol:', {\n      userId,\n      nuevoRol\n    });\n    try {\n      const usuario = usuarios.find(u => u.id === userId);\n      if (!usuario) {\n        throw new Error('Usuario no encontrado');\n      }\n      const res = await fetch(`${AUTH_API_URL}/users/${userId}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${getToken()}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: usuario.username,\n          email: usuario.email,\n          role: nuevoRol,\n          estado: usuario.estado\n        })\n      });\n      if (!res.ok) {\n        const errorText = await res.text();\n        throw new Error(`Error ${res.status}: ${errorText}`);\n      }\n      setMessage({\n        type: 'success',\n        text: 'Rol actualizado correctamente'\n      });\n\n      // Limpiar cambios pendientes para este usuario\n      setChangedRoles(prev => {\n        const newChanges = {\n          ...prev\n        };\n        delete newChanges[userId];\n        return newChanges;\n      });\n\n      // Recargar usuarios\n      await loadUsuarios();\n    } catch (err) {\n      console.error('ðŸ’¥ Error actualizando rol:', err);\n      setMessage({\n        type: 'error',\n        text: err.message\n      });\n    }\n  };\n\n  // --- Guardar todos los cambios de roles ---\n  const saveAllRoleChanges = async () => {\n    const changeCount = Object.keys(changedRoles).length;\n    if (changeCount === 0) {\n      setMessage({\n        type: 'error',\n        text: 'No hay cambios pendientes para guardar'\n      });\n      return;\n    }\n    setLoading(true);\n    let successCount = 0;\n    let errorCount = 0;\n    try {\n      for (const [userId, nuevoRol] of Object.entries(changedRoles)) {\n        try {\n          await updateUserRole(parseInt(userId), nuevoRol);\n          successCount++;\n        } catch (error) {\n          errorCount++;\n          console.error(`Error actualizando usuario ${userId}:`, error);\n        }\n      }\n      if (errorCount === 0) {\n        setMessage({\n          type: 'success',\n          text: `Se actualizaron ${successCount} roles correctamente`\n        });\n        setChangedRoles({});\n      } else {\n        setMessage({\n          type: 'error',\n          text: `${successCount} exitosos, ${errorCount} fallaron`\n        });\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- Cancelar cambios ---\n  const cancelRoleChanges = () => {\n    setChangedRoles({});\n    setMessage({\n      type: 'success',\n      text: 'Cambios cancelados'\n    });\n  };\n\n  // --- Obtener el rol actual (con cambios pendientes) ---\n  const getCurrentRole = usuario => {\n    return changedRoles[usuario.id] || usuario.rol;\n  };\n\n  // --- Actualizar permisos ---\n  const updatePermisos = async () => {\n    if (!selectedRol) return;\n    try {\n      const permisosData = permisos.map(p => ({\n        moduloId: p.ModuloID,\n        nombreModulo: p.NombreModulo,\n        descripcionModulo: p.DescripcionModulo,\n        estaVisible: p.EstaVisible,\n        puedeVer: p.PuedeVer,\n        puedeCrear: p.PuedeCrear,\n        puedeEditar: p.PuedeEditar,\n        puedeEliminar: p.PuedeEliminar\n      }));\n      const res = await fetch(`${ADMIN_API_URL}/permisos/${selectedRol}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${getToken()}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          permisos: permisosData\n        })\n      });\n      if (!res.ok) {\n        const errorText = await res.text();\n        throw new Error(`Error ${res.status}: ${errorText}`);\n      }\n      setMessage({\n        type: 'success',\n        text: 'Permisos actualizados correctamente'\n      });\n    } catch (err) {\n      console.error('ðŸ’¥ Error actualizando permisos:', err);\n      setMessage({\n        type: 'error',\n        text: err.message\n      });\n    }\n  };\n\n  // --- Cambiar permiso especÃ­fico ---\n  const togglePermiso = (permisoId, campo) => {\n    setPermisos(prev => prev.map(p => p.PermisoID === permisoId ? {\n      ...p,\n      [campo]: !p[campo]\n    } : p));\n  };\n\n  // --- Toggle visibilidad del mÃ³dulo ---\n  const toggleVisibilidad = permisoId => {\n    setPermisos(prev => prev.map(p => p.PermisoID === permisoId ? {\n      ...p,\n      EstaVisible: !p.EstaVisible,\n      PuedeVer: !p.EstaVisible ? p.PuedeVer : false,\n      PuedeCrear: !p.EstaVisible ? p.PuedeCrear : false,\n      PuedeEditar: !p.EstaVisible ? p.PuedeEditar : false,\n      PuedeEliminar: !p.EstaVisible ? p.PuedeEliminar : false\n    } : p));\n  };\n\n  // --- Seleccionar rol para editar permisos ---\n  const selectRol = (rolId, rolName) => {\n    setSelectedRol(rolId);\n    setSelectedRolName(rolName);\n    loadPermisos(rolId);\n  };\n\n  // --- Cargar datos al inicio ---\n  useEffect(() => {\n    console.log('ðŸš€ Componente montado, tab activo:', activeTab);\n    if (activeTab === 'usuarios') {\n      loadUsuarios();\n    } else if (activeTab === 'permisos') {\n      loadRoles();\n    }\n  }, [activeTab]);\n\n  // Limpiar mensajes despuÃ©s de 5 segundos\n  useEffect(() => {\n    if (message.text) {\n      const timer = setTimeout(() => {\n        setMessage({\n          type: '',\n          text: ''\n        });\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [message]);\n  if (loading && usuarios.length === 0 && roles.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-4 sm:p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b border-gray-200 px-6 py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-900 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Shield, {\n              className: \"mr-3 h-7 w-7 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 15\n            }, this), \"Gesti\\xF3n de Roles y Permisos\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-1\",\n            children: \"Administra usuarios, roles y permisos del sistema\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 11\n        }, this), message.text && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `mx-6 mt-4 p-4 rounded-md flex items-center ${message.type === 'success' ? 'bg-green-50 border border-green-200 text-green-800' : 'bg-red-50 border border-red-200 text-red-800'}`,\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"mr-2 h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 15\n          }, this), message.text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-6 mt-4 p-4 rounded-md bg-red-50 border border-red-200 text-red-800 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"mr-2 h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 15\n          }, this), \"Error: \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"flex px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTab('usuarios'),\n              className: `py-4 px-6 text-sm font-medium border-b-2 transition-colors ${activeTab === 'usuarios' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                className: \"inline-block mr-2 h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 17\n              }, this), \"Gesti\\xF3n de Usuarios\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTab('permisos'),\n              className: `py-4 px-6 text-sm font-medium border-b-2 transition-colors ${activeTab === 'permisos' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n              children: [/*#__PURE__*/_jsxDEV(Settings, {\n                className: \"inline-block mr-2 h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 17\n              }, this), \"Configuraci\\xF3n de Permisos\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTab('info'),\n              className: `py-4 px-6 text-sm font-medium border-b-2 transition-colors ${activeTab === 'info' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n              children: [/*#__PURE__*/_jsxDEV(Eye, {\n                className: \"inline-block mr-2 h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 17\n              }, this), \"Informaci\\xF3n del Sistema\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [activeTab === 'usuarios' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-900\",\n                children: \"Usuarios del Sistema\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium\",\n                  children: [usuarios.length, \" usuarios\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 633,\n                  columnNumber: 21\n                }, this), Object.keys(changedRoles).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium\",\n                    children: [Object.keys(changedRoles).length, \" cambios pendientes\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 640,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: saveAllRoleChanges,\n                    disabled: loading,\n                    className: \"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:opacity-50\",\n                    children: [/*#__PURE__*/_jsxDEV(Save, {\n                      className: \"mr-1.5 h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 648,\n                      columnNumber: 27\n                    }, this), \"Guardar Todo\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 643,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: cancelRoleChanges,\n                    disabled: loading,\n                    className: \"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\",\n                    children: [/*#__PURE__*/_jsxDEV(X, {\n                      className: \"mr-1.5 h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 656,\n                      columnNumber: 27\n                    }, this), \"Cancelar\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 651,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 632,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"min-w-full divide-y divide-gray-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-50\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Usuario\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 668,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 671,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Rol Actual\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 674,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Estado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 677,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Acciones\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 680,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 667,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  className: \"bg-white divide-y divide-gray-200\",\n                  children: usuarios.map(usuario => {\n                    var _usuario$username, _usuario$username$cha;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"hover:bg-gray-50 transition-colors\",\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex-shrink-0 h-10 w-10\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium text-sm\",\n                              children: ((_usuario$username = usuario.username) === null || _usuario$username === void 0 ? void 0 : (_usuario$username$cha = _usuario$username.charAt(0)) === null || _usuario$username$cha === void 0 ? void 0 : _usuario$username$cha.toUpperCase()) || 'U'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 691,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 690,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"ml-4\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm font-medium text-gray-900\",\n                              children: usuario.email ? usuario.email.split('@')[0] : usuario.username\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 696,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm text-gray-500\",\n                              children: [\"ID: \", usuario.id]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 699,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 695,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 689,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 688,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                        children: usuario.email || 'Sin email'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 705,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${changedRoles[usuario.id] ? 'bg-yellow-100 text-yellow-800 border border-yellow-300' : 'bg-blue-100 text-blue-800'}`,\n                            children: getCurrentRole(usuario)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 710,\n                            columnNumber: 31\n                          }, this), changedRoles[usuario.id] && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"ml-2 text-xs text-yellow-600 font-medium\",\n                            children: \"(Pendiente)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 718,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 709,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 708,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${usuario.estado === 'activo' || usuario.estado === 1 || usuario.estado === true ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                          children: usuario.estado === 'activo' || usuario.estado === 1 || usuario.estado === true ? 'Activo' : 'Inactivo'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 725,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 724,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap text-sm font-medium\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center gap-2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                            value: getCurrentRole(usuario),\n                            onChange: e => handleRoleChange(usuario.id, e.target.value),\n                            disabled: loading,\n                            className: `border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${loading ? 'opacity-50 cursor-not-allowed' : 'hover:border-gray-400'} ${changedRoles[usuario.id] ? 'border-yellow-400 bg-yellow-50' : ''}`,\n                            children: rolesDisponibles.map(rol => /*#__PURE__*/_jsxDEV(\"option\", {\n                              value: rol,\n                              children: rol.charAt(0).toUpperCase() + rol.slice(1).replace('_', ' ')\n                            }, rol, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 746,\n                              columnNumber: 35\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 735,\n                            columnNumber: 31\n                          }, this), changedRoles[usuario.id] && /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => updateUserRole(usuario.id, changedRoles[usuario.id]),\n                            disabled: loading,\n                            className: \"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:opacity-50\",\n                            title: \"Guardar este cambio\",\n                            children: /*#__PURE__*/_jsxDEV(Check, {\n                              className: \"h-3 w-3\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 759,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 753,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 734,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 733,\n                        columnNumber: 27\n                      }, this)]\n                    }, usuario.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 687,\n                      columnNumber: 25\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 19\n              }, this), usuarios.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-12\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  className: \"mx-auto h-12 w-12 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 771,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"mt-2 text-sm font-medium text-gray-900\",\n                  children: \"No hay usuarios\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 772,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-gray-500\",\n                  children: \"No se encontraron usuarios en el sistema.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 773,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 770,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 15\n          }, this), activeTab === 'permisos' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-900\",\n                children: \"Configuraci\\xF3n de Permisos por Rol\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 784,\n                columnNumber: 19\n              }, this), selectedRol && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: updatePermisos,\n                className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(Save, {\n                  className: \"mr-2 h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 792,\n                  columnNumber: 23\n                }, this), \"Guardar Cambios\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 788,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-medium text-gray-900 mb-4\",\n                  children: \"Seleccionar Rol\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 801,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: roles.map(rol => /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => selectRol(rol.RolID, rol.NombreRol),\n                    className: `w-full text-left px-4 py-3 rounded-md text-sm font-medium transition-colors ${selectedRol === rol.RolID ? 'bg-blue-100 text-blue-700 border border-blue-300 shadow-sm' : 'bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: rol.NombreRol\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 816,\n                        columnNumber: 29\n                      }, this), selectedRol === rol.RolID && /*#__PURE__*/_jsxDEV(Check, {\n                        className: \"h-4 w-4 text-blue-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 818,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 815,\n                      columnNumber: 27\n                    }, this), rol.Descripcion && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: rol.Descripcion\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 822,\n                      columnNumber: 29\n                    }, this)]\n                  }, rol.RolID, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 806,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 804,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 800,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"lg:col-span-2\",\n                children: selectedRol ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-sm font-medium text-gray-900 mb-4\",\n                    children: [\"Permisos para: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-blue-600\",\n                      children: selectedRolName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 834,\n                      columnNumber: 42\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 833,\n                    columnNumber: 25\n                  }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center py-8\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 838,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-600\",\n                      children: \"Cargando permisos...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 839,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 837,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"overflow-x-auto\",\n                    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n                      className: \"min-w-full divide-y divide-gray-200\",\n                      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                        className: \"bg-gray-50\",\n                        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                            children: \"M\\xF3dulo\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 846,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            className: \"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex flex-col items-center\",\n                              children: [/*#__PURE__*/_jsxDEV(EyeOff, {\n                                className: \"h-4 w-4 mx-auto\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 851,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"mt-1\",\n                                children: \"Visible\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 852,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 850,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 849,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            className: \"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex flex-col items-center\",\n                              children: [/*#__PURE__*/_jsxDEV(Eye, {\n                                className: \"h-4 w-4 mx-auto\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 857,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"mt-1\",\n                                children: \"Ver\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 858,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 856,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 855,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            className: \"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex flex-col items-center\",\n                              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                                className: \"h-4 w-4 mx-auto\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 863,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"mt-1\",\n                                children: \"Crear\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 864,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 862,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 861,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            className: \"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex flex-col items-center\",\n                              children: [/*#__PURE__*/_jsxDEV(Edit, {\n                                className: \"h-4 w-4 mx-auto\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 869,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"mt-1\",\n                                children: \"Editar\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 870,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 868,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 867,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            className: \"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex flex-col items-center\",\n                              children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                                className: \"h-4 w-4 mx-auto\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 875,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"mt-1\",\n                                children: \"Eliminar\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 876,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 874,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 873,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 845,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 844,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                        className: \"bg-white divide-y divide-gray-200\",\n                        children: permisos.map(permiso => /*#__PURE__*/_jsxDEV(\"tr\", {\n                          className: `hover:bg-gray-50 transition-colors ${!permiso.EstaVisible ? 'bg-gray-100 opacity-60' : ''}`,\n                          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"px-4 py-4 whitespace-nowrap\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm font-medium text-gray-900 flex items-center\",\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: `${!permiso.EstaVisible ? 'line-through text-gray-500' : ''}`,\n                                children: permiso.NombreModulo\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 888,\n                                columnNumber: 41\n                              }, this), !permiso.EstaVisible && /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"ml-2 text-xs bg-red-100 text-red-600 px-2 py-1 rounded\",\n                                children: \"OCULTO\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 892,\n                                columnNumber: 43\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 887,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: `text-sm ${!permiso.EstaVisible ? 'text-gray-400 line-through' : 'text-gray-500'}`,\n                              children: permiso.DescripcionModulo\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 897,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 886,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"px-4 py-4 whitespace-nowrap text-center\",\n                            children: /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => toggleVisibilidad(permiso.PermisoID),\n                              className: `p-2 rounded-full transition-colors ${permiso.EstaVisible ? 'text-green-600 bg-green-100 hover:bg-green-200' : 'text-red-600 bg-red-100 hover:bg-red-200'}`,\n                              title: permiso.EstaVisible ? 'MÃ³dulo visible - Click para ocultar' : 'MÃ³dulo oculto - Click para mostrar',\n                              children: permiso.EstaVisible ? /*#__PURE__*/_jsxDEV(Eye, {\n                                className: \"h-4 w-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 911,\n                                columnNumber: 64\n                              }, this) : /*#__PURE__*/_jsxDEV(EyeOff, {\n                                className: \"h-4 w-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 911,\n                                columnNumber: 94\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 902,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 901,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"px-4 py-4 whitespace-nowrap text-center\",\n                            children: /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => togglePermiso(permiso.PermisoID, 'PuedeVer'),\n                              disabled: !permiso.EstaVisible,\n                              className: `p-2 rounded-full transition-colors ${!permiso.EstaVisible ? 'text-gray-300 bg-gray-100 cursor-not-allowed' : permiso.PuedeVer ? 'text-green-600 bg-green-100 hover:bg-green-200' : 'text-gray-400 bg-gray-100 hover:bg-gray-200'}`,\n                              title: !permiso.EstaVisible ? 'MÃ³dulo oculto' : permiso.PuedeVer ? 'Permitido' : 'No permitido',\n                              children: permiso.PuedeVer ? /*#__PURE__*/_jsxDEV(Check, {\n                                className: \"h-4 w-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 927,\n                                columnNumber: 61\n                              }, this) : /*#__PURE__*/_jsxDEV(X, {\n                                className: \"h-4 w-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 927,\n                                columnNumber: 93\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 915,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 914,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"px-4 py-4 whitespace-nowrap text-center\",\n                            children: /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => togglePermiso(permiso.PermisoID, 'PuedeCrear'),\n                              disabled: !permiso.EstaVisible,\n                              className: `p-2 rounded-full transition-colors ${!permiso.EstaVisible ? 'text-gray-300 bg-gray-100 cursor-not-allowed' : permiso.PuedeCrear ? 'text-green-600 bg-green-100 hover:bg-green-200' : 'text-gray-400 bg-gray-100 hover:bg-gray-200'}`,\n                              title: !permiso.EstaVisible ? 'MÃ³dulo oculto' : permiso.PuedeCrear ? 'Permitido' : 'No permitido',\n                              children: permiso.PuedeCrear ? /*#__PURE__*/_jsxDEV(Check, {\n                                className: \"h-4 w-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 943,\n                                columnNumber: 63\n                              }, this) : /*#__PURE__*/_jsxDEV(X, {\n                                className: \"h-4 w-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 943,\n                                columnNumber: 95\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 931,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 930,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"px-4 py-4 whitespace-nowrap text-center\",\n                            children: /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => togglePermiso(permiso.PermisoID, 'PuedeEditar'),\n                              disabled: !permiso.EstaVisible,\n                              className: `p-2 rounded-full transition-colors ${!permiso.EstaVisible ? 'text-gray-300 bg-gray-100 cursor-not-allowed' : permiso.PuedeEditar ? 'text-green-600 bg-green-100 hover:bg-green-200' : 'text-gray-400 bg-gray-100 hover:bg-gray-200'}`,\n                              title: !permiso.EstaVisible ? 'MÃ³dulo oculto' : permiso.PuedeEditar ? 'Permitido' : 'No permitido',\n                              children: permiso.PuedeEditar ? /*#__PURE__*/_jsxDEV(Check, {\n                                className: \"h-4 w-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 959,\n                                columnNumber: 64\n                              }, this) : /*#__PURE__*/_jsxDEV(X, {\n                                className: \"h-4 w-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 959,\n                                columnNumber: 96\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 947,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 946,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"px-4 py-4 whitespace-nowrap text-center\",\n                            children: /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => togglePermiso(permiso.PermisoID, 'PuedeEliminar'),\n                              disabled: !permiso.EstaVisible,\n                              className: `p-2 rounded-full transition-colors ${!permiso.EstaVisible ? 'text-gray-300 bg-gray-100 cursor-not-allowed' : permiso.PuedeEliminar ? 'text-green-600 bg-green-100 hover:bg-green-200' : 'text-gray-400 bg-gray-100 hover:bg-gray-200'}`,\n                              title: !permiso.EstaVisible ? 'MÃ³dulo oculto' : permiso.PuedeEliminar ? 'Permitido' : 'No permitido',\n                              children: permiso.PuedeEliminar ? /*#__PURE__*/_jsxDEV(Check, {\n                                className: \"h-4 w-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 975,\n                                columnNumber: 66\n                              }, this) : /*#__PURE__*/_jsxDEV(X, {\n                                className: \"h-4 w-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 975,\n                                columnNumber: 98\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 963,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 962,\n                            columnNumber: 37\n                          }, this)]\n                        }, permiso.PermisoID, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 883,\n                          columnNumber: 35\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 881,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 843,\n                      columnNumber: 29\n                    }, this), permisos.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center py-8\",\n                      children: [/*#__PURE__*/_jsxDEV(Settings, {\n                        className: \"mx-auto h-12 w-12 text-gray-400\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 985,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"mt-2 text-sm font-medium text-gray-900\",\n                        children: \"Cargando m\\xF3dulos del sistema\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 986,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"mt-1 text-sm text-gray-500\",\n                        children: \"Preparando todos los m\\xF3dulos para este rol...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 987,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 984,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 842,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center py-16 text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(Shield, {\n                    className: \"mx-auto h-16 w-16 text-gray-300 mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 995,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-medium text-gray-900 mb-2\",\n                    children: \"Selecciona un rol\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 996,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm\",\n                    children: \"Elige un rol de la lista para ver y editar sus permisos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 997,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 994,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 830,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 15\n          }, this), activeTab === 'info' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"section\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(Settings, {\n                  className: \"h-5 w-5 text-purple-600 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1011,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-semibold text-gray-900\",\n                  children: [\"M\\xF3dulos del Sistema (\", MODULOS_SISTEMA.length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1012,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1010,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                    className: \"h-5 w-5 text-blue-600 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1018,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-blue-800 font-medium\",\n                    children: \"Informaci\\xF3n del Sistema\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1019,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1017,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-blue-700 mt-2 text-sm\",\n                  children: \"Todos los roles tienen acceso a estos m\\xF3dulos por defecto. Como administrador, puedes controlar la visibilidad y permisos espec\\xEDficos de cada m\\xF3dulo para cada rol.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1021,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1016,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\",\n                children: MODULOS_SISTEMA.map(modulo => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-purple-800\",\n                      children: modulo.nombre\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1029,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-purple-600 bg-purple-200 px-2 py-1 rounded\",\n                      children: \"Sistema\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1028,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-purple-700\",\n                    children: modulo.descripcion\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1036,\n                    columnNumber: 25\n                  }, this)]\n                }, modulo.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1027,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1025,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1009,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(Shield, {\n                  className: \"h-5 w-5 text-blue-600 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1045,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-semibold text-gray-900\",\n                  children: [\"Roles del Sistema (\", roles.length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1046,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1044,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\",\n                children: roles.map(rol => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-green-800\",\n                      children: rol.NombreRol\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1054,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-green-600 bg-green-200 px-2 py-1 rounded\",\n                      children: [\"ID: \", rol.RolID]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1057,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1053,\n                    columnNumber: 25\n                  }, this), rol.Descripcion && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-green-700\",\n                    children: rol.Descripcion\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1062,\n                    columnNumber: 27\n                  }, this)]\n                }, rol.RolID, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1052,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1050,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1043,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"h-5 w-5 text-indigo-600 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1072,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-semibold text-gray-900\",\n                  children: \"Estad\\xEDsticas del Sistema\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1073,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1071,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 sm:grid-cols-3 gap-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border border-gray-200 rounded-lg p-6 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-3xl font-bold text-blue-600\",\n                    children: usuarios.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1079,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500 mt-1\",\n                    children: \"Usuarios Totales\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1080,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1078,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border border-gray-200 rounded-lg p-6 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-3xl font-bold text-green-600\",\n                    children: roles.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1083,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500 mt-1\",\n                    children: \"Roles Configurados\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1084,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1082,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border border-gray-200 rounded-lg p-6 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-3xl font-bold text-purple-600\",\n                    children: MODULOS_SISTEMA.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1087,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500 mt-1\",\n                    children: \"M\\xF3dulos del Sistema\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1088,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1086,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1077,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1070,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 547,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminPermissions, \"kyqpQBFyKVoH/38u7/+UyHQDjL4=\");\n_c = AdminPermissions;\nexport default AdminPermissions;\nvar _c;\n$RefreshReg$(_c, \"AdminPermissions\");","map":{"version":3,"names":["React","useEffect","useState","Users","Settings","Shield","Check","X","Save","AlertCircle","Eye","Plus","Edit","Trash2","EyeOff","jsxDEV","_jsxDEV","API_BASE_URL","AUTH_API_URL","ADMIN_API_URL","getToken","localStorage","getItem","MODULOS_SISTEMA","id","nombre","descripcion","descripciÃ³n","AdminPermissions","_s","activeTab","setActiveTab","usuarios","setUsuarios","roles","setRoles","selectedRol","setSelectedRol","selectedRolName","setSelectedRolName","permisos","setPermisos","loading","setLoading","error","setError","message","setMessage","type","text","changedRoles","setChangedRoles","rolesDisponibles","handleApiError","response","console","status","debugToken","token","log","payload","JSON","parse","atob","split","e","initializePermisosForRole","map","modulo","index","PermisoID","ModuloID","NombreModulo","DescripcionModulo","EstaVisible","PuedeVer","PuedeCrear","PuedeEditar","PuedeEliminar","loadUsuarios","endpoints","res","usedEndpoint","endpoint","fetch","method","headers","ok","err","errorText","Error","statusText","data","json","usuariosData","length","users","Array","isArray","recordset","usuariosNormalizados","user","UsuarioID","username","Username","email","Email","rol","Rol","role","estado","Estado","empleadoId","EmpleadoID","usuariosConNombres","Promise","all","usuario","resEmpleado","empleadoData","empleado","nombreCompleto","NOMBRE","APELLIDO","trim","apellido","loadRoles","defaultRoles","RolID","NombreRol","Descripcion","replace","rolesData","loadPermisos","rolId","permisosExistentes","permisosCompletos","permisoExistente","find","p","handleRoleChange","userId","nuevoRol","prev","updateUserRole","u","body","stringify","newChanges","saveAllRoleChanges","changeCount","Object","keys","successCount","errorCount","entries","parseInt","cancelRoleChanges","getCurrentRole","updatePermisos","permisosData","moduloId","nombreModulo","descripcionModulo","estaVisible","puedeVer","puedeCrear","puedeEditar","puedeEliminar","togglePermiso","permisoId","campo","toggleVisibilidad","selectRol","rolName","timer","setTimeout","clearTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","_usuario$username","_usuario$username$cha","charAt","toUpperCase","value","onChange","target","slice","title","permiso","_c","$RefreshReg$"],"sources":["C:/Users/josemontedeoca/rrhh-system/frontend/src/components/Admin/AdminPermissions.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Users, Settings, Shield, Check, X, Save, AlertCircle, Eye, Plus, Edit, Trash2, EyeOff } from 'lucide-react';\r\n\r\n// ðŸ”‘ URLs de API\r\nconst API_BASE_URL = 'http://localhost:5000/api';\r\nconst AUTH_API_URL = `${API_BASE_URL}/auth`;\r\nconst ADMIN_API_URL = `${API_BASE_URL}/admin`;\r\n\r\n// âœ… FunciÃ³n para obtener el token\r\nconst getToken = () => {\r\n  return localStorage.getItem('token') || localStorage.getItem('rrhh_token');\r\n};\r\n\r\n// ðŸ“‹ MÃ³dulos predefinidos del sistema\r\nconst MODULOS_SISTEMA = [\r\n  { id: 1, nombre: 'empleados', descripcion: 'GestiÃ³n de empleados' },\r\n  { id: 2, nombre: 'vacantes', descripcion: 'GestiÃ³n de vacantes' },\r\n  { id: 3, nombre: 'postulaciones', descripcion: 'GestiÃ³n de postulaciones' },\r\n  { id: 4, nombre: 'nomina', descripcion: 'GestiÃ³n de nÃ³mina' },\r\n  { id: 5, nombre: 'vacaciones', descripcion: 'GestiÃ³n de vacaciones' },\r\n  { id: 6, nombre: 'capacitaciones', descripcion: 'GestiÃ³n de capacitaciones' },\r\n  { id: 7, nombre: 'asistencia', descripcion: 'Control de asistencias' },\r\n  { id: 8, nombre: 'departamentos', descripcion: 'GestiÃ³n de departamentos' },\r\n  { id: 9, nombre: 'puestos', descripciÃ³n: 'GestiÃ³n de puestos' },\r\n  { id: 10, nombre: 'reportes', descripcion: 'Reportes del sistema' },\r\n  { id: 11, nombre: 'admin', descripcion: 'AdministraciÃ³n de usuarios y permisos' }\r\n];\r\n\r\nconst AdminPermissions = () => {\r\n  const [activeTab, setActiveTab] = useState('usuarios');\r\n  const [usuarios, setUsuarios] = useState([]);\r\n  const [roles, setRoles] = useState([]);\r\n  const [selectedRol, setSelectedRol] = useState(null);\r\n  const [selectedRolName, setSelectedRolName] = useState('');\r\n  const [permisos, setPermisos] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [changedRoles, setChangedRoles] = useState({});\r\n\r\n  // Lista de roles disponibles\r\n  const rolesDisponibles = [\r\n    'colaborador',\r\n    'gerente', \r\n    'director',\r\n    'rrhh',\r\n    'gerente_rrhh',\r\n    'director_rrhh',\r\n    'admin'\r\n  ];\r\n\r\n  // --- FunciÃ³n helper para manejar errores de API ---\r\n  const handleApiError = (error, response) => {\r\n    console.error('Error de API:', { error, status: response?.status });\r\n    \r\n    if (response?.status === 401) {\r\n      setError('SesiÃ³n expirada. Por favor, inicia sesiÃ³n nuevamente.');\r\n    } else if (response?.status === 403) {\r\n      setError('No tienes permisos para realizar esta acciÃ³n.');\r\n    } else if (response?.status === 404) {\r\n      setError('Endpoint no encontrado. Verifica la configuraciÃ³n del servidor.');\r\n    } else {\r\n      setError(error.message || 'Error interno del servidor');\r\n    }\r\n  };\r\n\r\n  // --- Debug de token ---\r\n  const debugToken = () => {\r\n    const token = getToken();\r\n    console.log('ðŸ” Token encontrado:', token ? 'SÃ' : 'NO');\r\n    if (token) {\r\n      try {\r\n        const payload = JSON.parse(atob(token.split('.')[1]));\r\n        console.log('ðŸ“‹ Payload del token:', payload);\r\n      } catch (e) {\r\n        console.error('âŒ Token malformado:', e);\r\n      }\r\n    }\r\n  };\r\n\r\n  // --- Inicializar permisos para un rol ---\r\n  const initializePermisosForRole = () => {\r\n    return MODULOS_SISTEMA.map((modulo, index) => ({\r\n      PermisoID: `temp_${index}`,\r\n      ModuloID: modulo.id,\r\n      NombreModulo: modulo.nombre,\r\n      DescripcionModulo: modulo.descripcion,\r\n      EstaVisible: true,\r\n      PuedeVer: false,\r\n      PuedeCrear: false,\r\n      PuedeEditar: false,\r\n      PuedeEliminar: false\r\n    }));\r\n  };\r\n\r\n  // --- Cargar usuarios (CORREGIDO) ---\r\n  const loadUsuarios = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    debugToken(); // Debug del token\r\n    \r\n    try {\r\n      // Intentar mÃºltiples endpoints hasta encontrar uno que funcione\r\n      const endpoints = [\r\n        `${AUTH_API_URL}/users`,\r\n        `${API_BASE_URL}/usuarios`, \r\n        `${ADMIN_API_URL}/users`,\r\n        `${API_BASE_URL}/admin/usuarios`\r\n      ];\r\n      \r\n      let res = null;\r\n      let usedEndpoint = null;\r\n      \r\n      for (const endpoint of endpoints) {\r\n        console.log('ðŸ“¡ Intentando endpoint:', endpoint);\r\n        try {\r\n          res = await fetch(endpoint, {\r\n            method: 'GET',\r\n            headers: {\r\n              'Authorization': `Bearer ${getToken()}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n          \r\n          if (res.ok) {\r\n            usedEndpoint = endpoint;\r\n            console.log('âœ… Endpoint funciona:', endpoint);\r\n            break;\r\n          } else {\r\n            console.log(`âŒ Endpoint ${endpoint} fallÃ³ con status:`, res.status);\r\n          }\r\n        } catch (err) {\r\n          console.log(`ðŸ’¥ Error en endpoint ${endpoint}:`, err.message);\r\n          continue;\r\n        }\r\n      }\r\n      \r\n      if (!res || !res.ok) {\r\n        const errorText = res ? await res.text() : 'NingÃºn endpoint funcionÃ³';\r\n        console.error('âŒ Todos los endpoints fallaron:', errorText);\r\n        handleApiError(new Error(`No se pudo conectar: ${errorText}`), res);\r\n        return;\r\n      }\r\n\r\n      console.log('ðŸ“Š Usando endpoint exitoso:', usedEndpoint);\r\n      console.log('ðŸ“Š Respuesta del servidor:', {\r\n        status: res.status,\r\n        statusText: res.statusText,\r\n        ok: res.ok\r\n      });\r\n\r\n      const data = await res.json();\r\n      console.log('ðŸ“‹ Datos recibidos:', data);\r\n\r\n      // Mapear la respuesta a la estructura esperada\r\n      let usuariosData = [];\r\n      \r\n      if (data.usuarios) {\r\n        // Si viene en formato { usuarios: [...] } - TU CASO\r\n        usuariosData = data.usuarios;\r\n        console.log('ðŸŽ¯ Usando data.usuarios:', usuariosData.length);\r\n      } else if (data.users) {\r\n        // Si viene en formato { users: [...] }\r\n        usuariosData = data.users;\r\n        console.log('ðŸŽ¯ Usando data.users:', usuariosData.length);\r\n      } else if (Array.isArray(data)) {\r\n        // Si viene directamente como array\r\n        usuariosData = data;\r\n        console.log('ðŸŽ¯ Usando data directamente:', usuariosData.length);\r\n      } else if (data.recordset) {\r\n        // Si viene en formato de recordset de SQL Server\r\n        usuariosData = data.recordset;\r\n        console.log('ðŸŽ¯ Usando data.recordset:', usuariosData.length);\r\n      }\r\n\r\n      console.log('ðŸ“Š usuariosData antes de normalizar:', usuariosData);\r\n\r\n      // Normalizar la estructura de datos\r\n      const usuariosNormalizados = usuariosData.map(user => ({\r\n        id: user.UsuarioID || user.id,\r\n        username: user.Username || user.username,\r\n        email: user.Email || user.email,\r\n        rol: user.Rol || user.role || user.rol,\r\n        estado: user.Estado || user.estado || 1,\r\n        empleadoId: user.EmpleadoID || user.empleadoId\r\n      }));\r\n\r\n      console.log('ðŸ‘¥ Usuarios normalizados:', usuariosNormalizados);\r\n     // Obtener nombres completos de empleados\r\n        const usuariosConNombres = await Promise.all(\r\n          usuariosNormalizados.map(async (usuario) => {\r\n            if (usuario.empleadoId) {\r\n              try {\r\n                const resEmpleado = await fetch(`${API_BASE_URL}/empleados/${usuario.empleadoId}`, {\r\n                  headers: { 'Authorization': `Bearer ${getToken()}` }\r\n                });\r\n                if (resEmpleado.ok) {\r\n                  const empleadoData = await resEmpleado.json();\r\n                  const empleado = empleadoData.empleado || empleadoData;\r\n                  return {\r\n                    ...usuario,\r\n                    nombreCompleto: `${empleado.NOMBRE} ${empleado.APELLIDO}`.trim(),\r\n                    nombre: empleado.NOMBRE,\r\n                    apellido: empleado.APELLIDO\r\n                  };\r\n                }\r\n              } catch (err) {\r\n                console.error(`Error obteniendo empleado ${usuario.empleadoId}:`, err);\r\n              }\r\n            }\r\n            return usuario;\r\n          })\r\n        );\r\n\r\n        setUsuarios(usuariosConNombres);\r\n\r\n    } catch (err) {\r\n      console.error('ðŸ’¥ Error cargando usuarios:', err);\r\n      handleApiError(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // --- Cargar roles ---\r\n  const loadRoles = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      console.log('ðŸ“¡ Cargando roles desde:', `${ADMIN_API_URL}/roles`);\r\n      \r\n      const res = await fetch(`${ADMIN_API_URL}/roles`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${getToken()}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      console.log('ðŸ“Š Respuesta roles:', { status: res.status, ok: res.ok });\r\n\r\n      // Si no existe el endpoint, usar roles por defecto\r\n      if (!res.ok && res.status === 404) {\r\n        console.log('âš ï¸ Endpoint de roles no encontrado, usando roles por defecto');\r\n        const defaultRoles = rolesDisponibles.map((rol, index) => ({\r\n          RolID: index + 1,\r\n          NombreRol: rol,\r\n          Descripcion: `Rol de ${rol.replace('_', ' ')}`\r\n        }));\r\n        setRoles(defaultRoles);\r\n        return;\r\n      }\r\n\r\n      if (!res.ok) {\r\n        handleApiError(new Error(`Error ${res.status}: ${res.statusText}`), res);\r\n        return;\r\n      }\r\n\r\n      const data = await res.json();\r\n      console.log('ðŸ“‹ Datos de roles:', data);\r\n      \r\n      let rolesData = data.roles || data.recordset || data;\r\n      setRoles(rolesData);\r\n      \r\n    } catch (err) {\r\n      console.error('ðŸ’¥ Error cargando roles:', err);\r\n      // Usar roles por defecto en caso de error\r\n      const defaultRoles = rolesDisponibles.map((rol, index) => ({\r\n        RolID: index + 1,\r\n        NombreRol: rol,\r\n        Descripcion: `Rol de ${rol.replace('_', ' ')}`\r\n      }));\r\n      setRoles(defaultRoles);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // --- Cargar permisos de un rol especÃ­fico ---\r\n  const loadPermisos = async (rolId) => {\r\n    if (!rolId) return;\r\n    \r\n    setLoading(true);\r\n    try {\r\n      console.log('ðŸ“¡ Cargando permisos para rol:', rolId);\r\n      \r\n      const res = await fetch(`${ADMIN_API_URL}/permisos/${rolId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${getToken()}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      console.log('ðŸ“Š Respuesta permisos:', { status: res.status, ok: res.ok });\r\n      \r\n      if (!res.ok && res.status !== 404) {\r\n        handleApiError(new Error(`Error ${res.status}: ${res.statusText}`), res);\r\n        return;\r\n      }\r\n\r\n      let data = { permisos: [] };\r\n      if (res.ok) {\r\n        data = await res.json();\r\n        console.log('ðŸ“‹ Permisos recibidos:', data);\r\n      }\r\n      \r\n      // Si no hay permisos existentes, inicializar con todos los mÃ³dulos\r\n      if (!data.permisos || data.permisos.length === 0) {\r\n        console.log('âš ï¸ No hay permisos, inicializando por defecto');\r\n        setPermisos(initializePermisosForRole());\r\n      } else {\r\n        // Combinar permisos existentes con mÃ³dulos del sistema\r\n        const permisosExistentes = data.permisos;\r\n        const permisosCompletos = MODULOS_SISTEMA.map((modulo, index) => {\r\n          const permisoExistente = permisosExistentes.find(p => \r\n            p.ModuloID === modulo.id || p.NombreModulo === modulo.nombre\r\n          );\r\n          \r\n          return {\r\n            PermisoID: permisoExistente?.PermisoID || `temp_${index}`,\r\n            ModuloID: modulo.id,\r\n            NombreModulo: modulo.nombre,\r\n            DescripcionModulo: modulo.descripcion,\r\n            EstaVisible: permisoExistente?.EstaVisible !== false,\r\n            PuedeVer: permisoExistente?.PuedeVer || false,\r\n            PuedeCrear: permisoExistente?.PuedeCrear || false,\r\n            PuedeEditar: permisoExistente?.PuedeEditar || false,\r\n            PuedeEliminar: permisoExistente?.PuedeEliminar || false\r\n          };\r\n        });\r\n        \r\n        setPermisos(permisosCompletos);\r\n      }\r\n    } catch (err) {\r\n      console.error('ðŸ’¥ Error cargando permisos:', err);\r\n      setPermisos(initializePermisosForRole());\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // --- Manejar cambio temporal de rol ---\r\n  const handleRoleChange = (userId, nuevoRol) => {\r\n    setChangedRoles(prev => ({\r\n      ...prev,\r\n      [userId]: nuevoRol\r\n    }));\r\n  };\r\n\r\n  // --- Actualizar rol de usuario ---\r\n  const updateUserRole = async (userId, nuevoRol) => {\r\n    console.log('ðŸ”„ Actualizando rol:', { userId, nuevoRol });\r\n    try {\r\n      const usuario = usuarios.find(u => u.id === userId);\r\n      if (!usuario) {\r\n        throw new Error('Usuario no encontrado');\r\n      }\r\n\r\n      const res = await fetch(`${AUTH_API_URL}/users/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${getToken()}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ \r\n          username: usuario.username,\r\n          email: usuario.email,\r\n          role: nuevoRol,\r\n          estado: usuario.estado\r\n        })\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const errorText = await res.text();\r\n        throw new Error(`Error ${res.status}: ${errorText}`);\r\n      }\r\n      \r\n      setMessage({ type: 'success', text: 'Rol actualizado correctamente' });\r\n      \r\n      // Limpiar cambios pendientes para este usuario\r\n      setChangedRoles(prev => {\r\n        const newChanges = { ...prev };\r\n        delete newChanges[userId];\r\n        return newChanges;\r\n      });\r\n      \r\n      // Recargar usuarios\r\n      await loadUsuarios();\r\n    } catch (err) {\r\n      console.error('ðŸ’¥ Error actualizando rol:', err);\r\n      setMessage({ type: 'error', text: err.message });\r\n    }\r\n  };\r\n\r\n  // --- Guardar todos los cambios de roles ---\r\n  const saveAllRoleChanges = async () => {\r\n    const changeCount = Object.keys(changedRoles).length;\r\n    if (changeCount === 0) {\r\n      setMessage({ type: 'error', text: 'No hay cambios pendientes para guardar' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    let successCount = 0;\r\n    let errorCount = 0;\r\n\r\n    try {\r\n      for (const [userId, nuevoRol] of Object.entries(changedRoles)) {\r\n        try {\r\n          await updateUserRole(parseInt(userId), nuevoRol);\r\n          successCount++;\r\n        } catch (error) {\r\n          errorCount++;\r\n          console.error(`Error actualizando usuario ${userId}:`, error);\r\n        }\r\n      }\r\n\r\n      if (errorCount === 0) {\r\n        setMessage({ type: 'success', text: `Se actualizaron ${successCount} roles correctamente` });\r\n        setChangedRoles({});\r\n      } else {\r\n        setMessage({ type: 'error', text: `${successCount} exitosos, ${errorCount} fallaron` });\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // --- Cancelar cambios ---\r\n  const cancelRoleChanges = () => {\r\n    setChangedRoles({});\r\n    setMessage({ type: 'success', text: 'Cambios cancelados' });\r\n  };\r\n\r\n  // --- Obtener el rol actual (con cambios pendientes) ---\r\n  const getCurrentRole = (usuario) => {\r\n    return changedRoles[usuario.id] || usuario.rol;\r\n  };\r\n\r\n  // --- Actualizar permisos ---\r\n  const updatePermisos = async () => {\r\n    if (!selectedRol) return;\r\n\r\n    try {\r\n      const permisosData = permisos.map(p => ({\r\n        moduloId: p.ModuloID,\r\n        nombreModulo: p.NombreModulo,\r\n        descripcionModulo: p.DescripcionModulo,\r\n        estaVisible: p.EstaVisible,\r\n        puedeVer: p.PuedeVer,\r\n        puedeCrear: p.PuedeCrear,\r\n        puedeEditar: p.PuedeEditar,\r\n        puedeEliminar: p.PuedeEliminar\r\n      }));\r\n\r\n      const res = await fetch(`${ADMIN_API_URL}/permisos/${selectedRol}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${getToken()}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ permisos: permisosData })\r\n      });\r\n      \r\n      if (!res.ok) {\r\n        const errorText = await res.text();\r\n        throw new Error(`Error ${res.status}: ${errorText}`);\r\n      }\r\n      \r\n      setMessage({ type: 'success', text: 'Permisos actualizados correctamente' });\r\n    } catch (err) {\r\n      console.error('ðŸ’¥ Error actualizando permisos:', err);\r\n      setMessage({ type: 'error', text: err.message });\r\n    }\r\n  };\r\n\r\n  // --- Cambiar permiso especÃ­fico ---\r\n  const togglePermiso = (permisoId, campo) => {\r\n    setPermisos(prev => \r\n      prev.map(p => \r\n        p.PermisoID === permisoId \r\n          ? { ...p, [campo]: !p[campo] }\r\n          : p\r\n      )\r\n    );\r\n  };\r\n\r\n  // --- Toggle visibilidad del mÃ³dulo ---\r\n  const toggleVisibilidad = (permisoId) => {\r\n    setPermisos(prev => \r\n      prev.map(p => \r\n        p.PermisoID === permisoId \r\n          ? { \r\n              ...p, \r\n              EstaVisible: !p.EstaVisible,\r\n              PuedeVer: !p.EstaVisible ? p.PuedeVer : false,\r\n              PuedeCrear: !p.EstaVisible ? p.PuedeCrear : false,\r\n              PuedeEditar: !p.EstaVisible ? p.PuedeEditar : false,\r\n              PuedeEliminar: !p.EstaVisible ? p.PuedeEliminar : false\r\n            }\r\n          : p\r\n      )\r\n    );\r\n  };\r\n\r\n  // --- Seleccionar rol para editar permisos ---\r\n  const selectRol = (rolId, rolName) => {\r\n    setSelectedRol(rolId);\r\n    setSelectedRolName(rolName);\r\n    loadPermisos(rolId);\r\n  };\r\n\r\n  // --- Cargar datos al inicio ---\r\n  useEffect(() => {\r\n    console.log('ðŸš€ Componente montado, tab activo:', activeTab);\r\n    \r\n    if (activeTab === 'usuarios') {\r\n      loadUsuarios();\r\n    } else if (activeTab === 'permisos') {\r\n      loadRoles();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  // Limpiar mensajes despuÃ©s de 5 segundos\r\n  useEffect(() => {\r\n    if (message.text) {\r\n      const timer = setTimeout(() => {\r\n        setMessage({ type: '', text: '' });\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [message]);\r\n\r\n  if (loading && usuarios.length === 0 && roles.length === 0) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Cargando...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-4 sm:p-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"bg-white rounded-lg shadow-sm mb-6\">\r\n          <div className=\"border-b border-gray-200 px-6 py-4\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900 flex items-center\">\r\n              <Shield className=\"mr-3 h-7 w-7 text-blue-600\" />\r\n              GestiÃ³n de Roles y Permisos\r\n            </h1>\r\n            <p className=\"text-gray-600 mt-1\">Administra usuarios, roles y permisos del sistema</p>\r\n          </div>\r\n\r\n          {/* Debug Info */}\r\n          \r\n\r\n          {/* Mensaje de estado */}\r\n          {message.text && (\r\n            <div className={`mx-6 mt-4 p-4 rounded-md flex items-center ${\r\n              message.type === 'success' \r\n                ? 'bg-green-50 border border-green-200 text-green-800' \r\n                : 'bg-red-50 border border-red-200 text-red-800'\r\n            }`}>\r\n              <AlertCircle className=\"mr-2 h-5 w-5\" />\r\n              {message.text}\r\n            </div>\r\n          )}\r\n\r\n          {/* Error global */}\r\n          {error && (\r\n            <div className=\"mx-6 mt-4 p-4 rounded-md bg-red-50 border border-red-200 text-red-800 flex items-center\">\r\n              <AlertCircle className=\"mr-2 h-5 w-5\" />\r\n              Error: {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Tabs */}\r\n          <div className=\"border-b border-gray-200\">\r\n            <nav className=\"flex px-6\">\r\n              <button\r\n                onClick={() => setActiveTab('usuarios')}\r\n                className={`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${\r\n                  activeTab === 'usuarios'\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Users className=\"inline-block mr-2 h-4 w-4\" />\r\n                GestiÃ³n de Usuarios\r\n              </button>\r\n              <button\r\n                onClick={() => setActiveTab('permisos')}\r\n                className={`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${\r\n                  activeTab === 'permisos'\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Settings className=\"inline-block mr-2 h-4 w-4\" />\r\n                ConfiguraciÃ³n de Permisos\r\n              </button>\r\n              <button\r\n                onClick={() => setActiveTab('info')}\r\n                className={`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${\r\n                  activeTab === 'info'\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Eye className=\"inline-block mr-2 h-4 w-4\" />\r\n                InformaciÃ³n del Sistema\r\n              </button>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Contenido principal */}\r\n        <div className=\"bg-white rounded-lg shadow-sm\">\r\n          <div className=\"p-6\">\r\n            {/* Tab Usuarios */}\r\n            {activeTab === 'usuarios' && (\r\n              <div>\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                  <h2 className=\"text-xl font-semibold text-gray-900\">\r\n                    Usuarios del Sistema\r\n                  </h2>\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <span className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium\">\r\n                      {usuarios.length} usuarios\r\n                    </span>\r\n                    \r\n                    {/* Botones para cambios pendientes */}\r\n                    {Object.keys(changedRoles).length > 0 && (\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span className=\"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium\">\r\n                          {Object.keys(changedRoles).length} cambios pendientes\r\n                        </span>\r\n                        <button\r\n                          onClick={saveAllRoleChanges}\r\n                          disabled={loading}\r\n                          className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:opacity-50\"\r\n                        >\r\n                          <Save className=\"mr-1.5 h-4 w-4\" />\r\n                          Guardar Todo\r\n                        </button>\r\n                        <button\r\n                          onClick={cancelRoleChanges}\r\n                          disabled={loading}\r\n                          className=\"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\r\n                        >\r\n                          <X className=\"mr-1.5 h-4 w-4\" />\r\n                          Cancelar\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                          Usuario\r\n                        </th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                          Email\r\n                        </th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                          Rol Actual\r\n                        </th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                          Estado\r\n                        </th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                          Acciones\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                      {usuarios.map((usuario) => (\r\n                        <tr key={usuario.id} className=\"hover:bg-gray-50 transition-colors\">\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <div className=\"flex items-center\">\r\n                              <div className=\"flex-shrink-0 h-10 w-10\">\r\n                                <div className=\"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium text-sm\">\r\n                                  {usuario.username?.charAt(0)?.toUpperCase() || 'U'}\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"ml-4\">\r\n                                <div className=\"text-sm font-medium text-gray-900\">\r\n                                 {usuario.email ? usuario.email.split('@')[0] : usuario.username}\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-500\">\r\n                                  ID: {usuario.id}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                            {usuario.email || 'Sin email'}\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <div className=\"flex items-center\">\r\n                              <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                                changedRoles[usuario.id] \r\n                                  ? 'bg-yellow-100 text-yellow-800 border border-yellow-300' \r\n                                  : 'bg-blue-100 text-blue-800'\r\n                              }`}>\r\n                                {getCurrentRole(usuario)}\r\n                              </span>\r\n                              {changedRoles[usuario.id] && (\r\n                                <span className=\"ml-2 text-xs text-yellow-600 font-medium\">\r\n                                  (Pendiente)\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                             usuario.estado === 'activo' || usuario.estado === 1 || usuario.estado === true\r\n                              ? 'bg-green-100 text-green-800' \r\n                              : 'bg-red-100 text-red-800'\r\n                          }`}>\r\n                            {usuario.estado === 'activo' || usuario.estado === 1 || usuario.estado === true ? 'Activo' : 'Inactivo'}\r\n                          </span>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <select\r\n                                value={getCurrentRole(usuario)}\r\n                                onChange={(e) => handleRoleChange(usuario.id, e.target.value)}\r\n                                disabled={loading}\r\n                                className={`border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\r\n                                  loading ? 'opacity-50 cursor-not-allowed' : 'hover:border-gray-400'\r\n                                } ${\r\n                                  changedRoles[usuario.id] ? 'border-yellow-400 bg-yellow-50' : ''\r\n                                }`}\r\n                              >\r\n                                {rolesDisponibles.map(rol => (\r\n                                  <option key={rol} value={rol}>\r\n                                    {rol.charAt(0).toUpperCase() + rol.slice(1).replace('_', ' ')}\r\n                                  </option>\r\n                                ))}\r\n                              </select>\r\n                              \r\n                              {changedRoles[usuario.id] && (\r\n                                <button\r\n                                  onClick={() => updateUserRole(usuario.id, changedRoles[usuario.id])}\r\n                                  disabled={loading}\r\n                                  className=\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:opacity-50\"\r\n                                  title=\"Guardar este cambio\"\r\n                                >\r\n                                  <Check className=\"h-3 w-3\" />\r\n                                </button>\r\n                              )}\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n\r\n                  {usuarios.length === 0 && (\r\n                    <div className=\"text-center py-12\">\r\n                      <Users className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                      <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No hay usuarios</h3>\r\n                      <p className=\"mt-1 text-sm text-gray-500\">No se encontraron usuarios en el sistema.</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Tab Permisos */}\r\n            {activeTab === 'permisos' && (\r\n              <div>\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                  <h2 className=\"text-xl font-semibold text-gray-900\">\r\n                    ConfiguraciÃ³n de Permisos por Rol\r\n                  </h2>\r\n                  {selectedRol && (\r\n                    <button\r\n                      onClick={updatePermisos}\r\n                      className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\r\n                    >\r\n                      <Save className=\"mr-2 h-4 w-4\" />\r\n                      Guardar Cambios\r\n                    </button>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                  {/* Lista de Roles */}\r\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                    <h3 className=\"text-sm font-medium text-gray-900 mb-4\">\r\n                      Seleccionar Rol\r\n                    </h3>\r\n                    <div className=\"space-y-2\">\r\n                      {roles.map((rol) => (\r\n                        <button\r\n                          key={rol.RolID}\r\n                          onClick={() => selectRol(rol.RolID, rol.NombreRol)}\r\n                          className={`w-full text-left px-4 py-3 rounded-md text-sm font-medium transition-colors ${\r\n                            selectedRol === rol.RolID\r\n                              ? 'bg-blue-100 text-blue-700 border border-blue-300 shadow-sm'\r\n                              : 'bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300'\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <span>{rol.NombreRol}</span>\r\n                            {selectedRol === rol.RolID && (\r\n                              <Check className=\"h-4 w-4 text-blue-600\" />\r\n                            )}\r\n                          </div>\r\n                          {rol.Descripcion && (\r\n                            <p className=\"text-xs text-gray-500 mt-1\">{rol.Descripcion}</p>\r\n                          )}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Tabla de Permisos */}\r\n                  <div className=\"lg:col-span-2\">\r\n                    {selectedRol ? (\r\n                      <div>\r\n                        <h3 className=\"text-sm font-medium text-gray-900 mb-4\">\r\n                          Permisos para: <span className=\"text-blue-600\">{selectedRolName}</span>\r\n                        </h3>\r\n                        {loading ? (\r\n                          <div className=\"text-center py-8\">\r\n                            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2\"></div>\r\n                            <p className=\"text-gray-600\">Cargando permisos...</p>\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"overflow-x-auto\">\r\n                            <table className=\"min-w-full divide-y divide-gray-200\">\r\n                              <thead className=\"bg-gray-50\">\r\n                                <tr>\r\n                                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    MÃ³dulo\r\n                                  </th>\r\n                                  <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    <div className=\"flex flex-col items-center\">\r\n                                      <EyeOff className=\"h-4 w-4 mx-auto\" />\r\n                                      <span className=\"mt-1\">Visible</span>\r\n                                    </div>\r\n                                  </th>\r\n                                  <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    <div className=\"flex flex-col items-center\">\r\n                                      <Eye className=\"h-4 w-4 mx-auto\" />\r\n                                      <span className=\"mt-1\">Ver</span>\r\n                                    </div>\r\n                                  </th>\r\n                                  <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    <div className=\"flex flex-col items-center\">\r\n                                      <Plus className=\"h-4 w-4 mx-auto\" />\r\n                                      <span className=\"mt-1\">Crear</span>\r\n                                    </div>\r\n                                  </th>\r\n                                  <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    <div className=\"flex flex-col items-center\">\r\n                                      <Edit className=\"h-4 w-4 mx-auto\" />\r\n                                      <span className=\"mt-1\">Editar</span>\r\n                                    </div>\r\n                                  </th>\r\n                                  <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    <div className=\"flex flex-col items-center\">\r\n                                      <Trash2 className=\"h-4 w-4 mx-auto\" />\r\n                                      <span className=\"mt-1\">Eliminar</span>\r\n                                    </div>\r\n                                  </th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                                {permisos.map((permiso) => (\r\n                                  <tr key={permiso.PermisoID} className={`hover:bg-gray-50 transition-colors ${\r\n                                    !permiso.EstaVisible ? 'bg-gray-100 opacity-60' : ''\r\n                                  }`}>\r\n                                    <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                                      <div className=\"text-sm font-medium text-gray-900 flex items-center\">\r\n                                        <span className={`${!permiso.EstaVisible ? 'line-through text-gray-500' : ''}`}>\r\n                                          {permiso.NombreModulo}\r\n                                        </span>\r\n                                        {!permiso.EstaVisible && (\r\n                                          <span className=\"ml-2 text-xs bg-red-100 text-red-600 px-2 py-1 rounded\">\r\n                                            OCULTO\r\n                                          </span>\r\n                                        )}\r\n                                      </div>\r\n                                      <div className={`text-sm ${!permiso.EstaVisible ? 'text-gray-400 line-through' : 'text-gray-500'}`}>\r\n                                        {permiso.DescripcionModulo}\r\n                                      </div>\r\n                                    </td>\r\n                                    <td className=\"px-4 py-4 whitespace-nowrap text-center\">\r\n                                      <button\r\n                                        onClick={() => toggleVisibilidad(permiso.PermisoID)}\r\n                                        className={`p-2 rounded-full transition-colors ${\r\n                                          permiso.EstaVisible \r\n                                            ? 'text-green-600 bg-green-100 hover:bg-green-200' \r\n                                            : 'text-red-600 bg-red-100 hover:bg-red-200'\r\n                                        }`}\r\n                                        title={permiso.EstaVisible ? 'MÃ³dulo visible - Click para ocultar' : 'MÃ³dulo oculto - Click para mostrar'}\r\n                                      >\r\n                                        {permiso.EstaVisible ? <Eye className=\"h-4 w-4\" /> : <EyeOff className=\"h-4 w-4\" />}\r\n                                      </button>\r\n                                    </td>\r\n                                    <td className=\"px-4 py-4 whitespace-nowrap text-center\">\r\n                                      <button\r\n                                        onClick={() => togglePermiso(permiso.PermisoID, 'PuedeVer')}\r\n                                        disabled={!permiso.EstaVisible}\r\n                                        className={`p-2 rounded-full transition-colors ${\r\n                                          !permiso.EstaVisible \r\n                                            ? 'text-gray-300 bg-gray-100 cursor-not-allowed'\r\n                                            : permiso.PuedeVer \r\n                                              ? 'text-green-600 bg-green-100 hover:bg-green-200' \r\n                                              : 'text-gray-400 bg-gray-100 hover:bg-gray-200'\r\n                                        }`}\r\n                                        title={!permiso.EstaVisible ? 'MÃ³dulo oculto' : permiso.PuedeVer ? 'Permitido' : 'No permitido'}\r\n                                      >\r\n                                        {permiso.PuedeVer ? <Check className=\"h-4 w-4\" /> : <X className=\"h-4 w-4\" />}\r\n                                      </button>\r\n                                    </td>\r\n                                    <td className=\"px-4 py-4 whitespace-nowrap text-center\">\r\n                                      <button\r\n                                        onClick={() => togglePermiso(permiso.PermisoID, 'PuedeCrear')}\r\n                                        disabled={!permiso.EstaVisible}\r\n                                        className={`p-2 rounded-full transition-colors ${\r\n                                          !permiso.EstaVisible \r\n                                            ? 'text-gray-300 bg-gray-100 cursor-not-allowed'\r\n                                            : permiso.PuedeCrear \r\n                                              ? 'text-green-600 bg-green-100 hover:bg-green-200' \r\n                                              : 'text-gray-400 bg-gray-100 hover:bg-gray-200'\r\n                                        }`}\r\n                                        title={!permiso.EstaVisible ? 'MÃ³dulo oculto' : permiso.PuedeCrear ? 'Permitido' : 'No permitido'}\r\n                                      >\r\n                                        {permiso.PuedeCrear ? <Check className=\"h-4 w-4\" /> : <X className=\"h-4 w-4\" />}\r\n                                      </button>\r\n                                    </td>\r\n                                    <td className=\"px-4 py-4 whitespace-nowrap text-center\">\r\n                                      <button\r\n                                        onClick={() => togglePermiso(permiso.PermisoID, 'PuedeEditar')}\r\n                                        disabled={!permiso.EstaVisible}\r\n                                        className={`p-2 rounded-full transition-colors ${\r\n                                          !permiso.EstaVisible \r\n                                            ? 'text-gray-300 bg-gray-100 cursor-not-allowed'\r\n                                            : permiso.PuedeEditar \r\n                                              ? 'text-green-600 bg-green-100 hover:bg-green-200' \r\n                                              : 'text-gray-400 bg-gray-100 hover:bg-gray-200'\r\n                                        }`}\r\n                                        title={!permiso.EstaVisible ? 'MÃ³dulo oculto' : permiso.PuedeEditar ? 'Permitido' : 'No permitido'}\r\n                                      >\r\n                                        {permiso.PuedeEditar ? <Check className=\"h-4 w-4\" /> : <X className=\"h-4 w-4\" />}\r\n                                      </button>\r\n                                    </td>\r\n                                    <td className=\"px-4 py-4 whitespace-nowrap text-center\">\r\n                                      <button\r\n                                        onClick={() => togglePermiso(permiso.PermisoID, 'PuedeEliminar')}\r\n                                        disabled={!permiso.EstaVisible}\r\n                                        className={`p-2 rounded-full transition-colors ${\r\n                                          !permiso.EstaVisible \r\n                                            ? 'text-gray-300 bg-gray-100 cursor-not-allowed'\r\n                                            : permiso.PuedeEliminar \r\n                                              ? 'text-green-600 bg-green-100 hover:bg-green-200' \r\n                                              : 'text-gray-400 bg-gray-100 hover:bg-gray-200'\r\n                                        }`}\r\n                                        title={!permiso.EstaVisible ? 'MÃ³dulo oculto' : permiso.PuedeEliminar ? 'Permitido' : 'No permitido'}\r\n                                      >\r\n                                        {permiso.PuedeEliminar ? <Check className=\"h-4 w-4\" /> : <X className=\"h-4 w-4\" />}\r\n                                      </button>\r\n                                    </td>\r\n                                  </tr>\r\n                                ))}\r\n                              </tbody>\r\n                            </table>\r\n\r\n                            {permisos.length === 0 && (\r\n                              <div className=\"text-center py-8\">\r\n                                <Settings className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Cargando mÃ³dulos del sistema</h3>\r\n                                <p className=\"mt-1 text-sm text-gray-500\">Preparando todos los mÃ³dulos para este rol...</p>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"text-center py-16 text-gray-500\">\r\n                        <Shield className=\"mx-auto h-16 w-16 text-gray-300 mb-4\" />\r\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Selecciona un rol</h3>\r\n                        <p className=\"text-sm\">Elige un rol de la lista para ver y editar sus permisos</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Tab InformaciÃ³n */}\r\n            {activeTab === 'info' && (\r\n              <div className=\"space-y-8\">\r\n                {/* MÃ³dulos del Sistema */}\r\n                <section>\r\n                  <div className=\"flex items-center mb-4\">\r\n                    <Settings className=\"h-5 w-5 text-purple-600 mr-2\" />\r\n                    <h2 className=\"text-lg font-semibold text-gray-900\">\r\n                      MÃ³dulos del Sistema ({MODULOS_SISTEMA.length})\r\n                    </h2>\r\n                  </div>\r\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\r\n                    <div className=\"flex items-center\">\r\n                      <AlertCircle className=\"h-5 w-5 text-blue-600 mr-2\" />\r\n                      <span className=\"text-blue-800 font-medium\">InformaciÃ³n del Sistema</span>\r\n                    </div>\r\n                    <p className=\"text-blue-700 mt-2 text-sm\">\r\n                      Todos los roles tienen acceso a estos mÃ³dulos por defecto. Como administrador, puedes controlar la visibilidad y permisos especÃ­ficos de cada mÃ³dulo para cada rol.\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {MODULOS_SISTEMA.map((modulo) => (\r\n                      <div key={modulo.id} className=\"bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-4\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <span className=\"font-semibold text-purple-800\">\r\n                            {modulo.nombre}\r\n                          </span>\r\n                          <span className=\"text-xs text-purple-600 bg-purple-200 px-2 py-1 rounded\">\r\n                            Sistema\r\n                          </span>\r\n                        </div>\r\n                        <p className=\"text-sm text-purple-700\">{modulo.descripcion}</p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </section>\r\n\r\n                {/* Roles */}\r\n                <section>\r\n                  <div className=\"flex items-center mb-4\">\r\n                    <Shield className=\"h-5 w-5 text-blue-600 mr-2\" />\r\n                    <h2 className=\"text-lg font-semibold text-gray-900\">\r\n                      Roles del Sistema ({roles.length})\r\n                    </h2>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {roles.map((rol) => (\r\n                      <div key={rol.RolID} className=\"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-4\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <span className=\"font-semibold text-green-800\">\r\n                            {rol.NombreRol}\r\n                          </span>\r\n                          <span className=\"text-xs text-green-600 bg-green-200 px-2 py-1 rounded\">\r\n                            ID: {rol.RolID}\r\n                          </span>\r\n                        </div>\r\n                        {rol.Descripcion && (\r\n                          <p className=\"text-sm text-green-700\">{rol.Descripcion}</p>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </section>\r\n\r\n                {/* EstadÃ­sticas del Sistema */}\r\n                <section>\r\n                  <div className=\"flex items-center mb-4\">\r\n                    <Eye className=\"h-5 w-5 text-indigo-600 mr-2\" />\r\n                    <h2 className=\"text-lg font-semibold text-gray-900\">\r\n                      EstadÃ­sticas del Sistema\r\n                    </h2>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-6\">\r\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-6 text-center\">\r\n                      <div className=\"text-3xl font-bold text-blue-600\">{usuarios.length}</div>\r\n                      <div className=\"text-sm text-gray-500 mt-1\">Usuarios Totales</div>\r\n                    </div>\r\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-6 text-center\">\r\n                      <div className=\"text-3xl font-bold text-green-600\">{roles.length}</div>\r\n                      <div className=\"text-sm text-gray-500 mt-1\">Roles Configurados</div>\r\n                    </div>\r\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-6 text-center\">\r\n                      <div className=\"text-3xl font-bold text-purple-600\">{MODULOS_SISTEMA.length}</div>\r\n                      <div className=\"text-sm text-gray-500 mt-1\">MÃ³dulos del Sistema</div>\r\n                    </div>\r\n                  </div>\r\n                </section>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPermissions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}